{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kutum\\\\Documents\\\\room-rental-platform\\\\src\\\\components\\\\BrowseView.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Search, PlusCircle, Home, User, MapPin } from 'lucide-react';\nimport ListingCard from './ListingCard';\nimport ListingSkeletonCard from './ListingSkeletonCard';\nimport { SidebarAd, InFeedAd } from './AdBanner';\nimport { getSavedSearches, checkNewListings, checkPriceDrops, addNotification, saveSearch as saveSearchToEngine } from '../utils/notificationEngine';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BrowseView({\n  listings,\n  searchLocation,\n  setSearchLocation,\n  priceRange,\n  setPriceRange,\n  selectedAmenities,\n  setSelectedAmenities,\n  sortBy,\n  setSortBy,\n  onSelectListing,\n  setCurrentView,\n  currentUser,\n  onRequireAuth,\n  subscribeToArea,\n  previewMode\n}) {\n  _s();\n  const [showAdvancedFilters, setShowAdvancedFilters] = useState(false);\n  const [isDesktop, setIsDesktop] = useState(typeof window !== 'undefined' ? window.innerWidth >= 1024 : false);\n  const [paymentFilter, setPaymentFilter] = useState('');\n  const [locationSuggestions, setLocationSuggestions] = useState([]);\n  const [locationLoading, setLocationLoading] = useState(false);\n  const [savedSearches, setSavedSearches] = useState([]);\n  const [initialLoad, setInitialLoad] = useState(true);\n  const [favorites, setFavorites] = useState([]);\n  const [roomType, setRoomType] = useState(''); // '', 'private', 'shared'\n  const [leaseDuration, setLeaseDuration] = useState(''); // '', '1-3', '4-6', '7-12', '12+'\n  const [petFriendly, setPetFriendly] = useState(false);\n  const [genderPreference, setGenderPreference] = useState(''); // '', 'male', 'female', 'any'\n  const suggestionCacheRef = React.useRef({}); // cache: { queryLower: { data: [...], ts } }\n  const SUGGESTION_TTL_MS = 15 * 60 * 1000; // 15 minutes\n\n  const toggleFavorite = listingId => {\n    setFavorites(prev => {\n      const updated = prev.includes(listingId) ? prev.filter(id => id !== listingId) : [...prev, listingId];\n      try {\n        localStorage.setItem('favorites', JSON.stringify(updated));\n      } catch {}\n      return updated;\n    });\n  };\n\n  // Restore persisted lightweight filters\n  useEffect(() => {\n    try {\n      const storedPayment = localStorage.getItem('filter-payment');\n      if (storedPayment) setPaymentFilter(storedPayment);\n      const storedPriceMin = localStorage.getItem('filter-price-min');\n      const storedPriceMax = localStorage.getItem('filter-price-max');\n      if (storedPriceMin && !isNaN(parseInt(storedPriceMin)) && storedPriceMax && !isNaN(parseInt(storedPriceMax))) {\n        setPriceRange([parseInt(storedPriceMin), parseInt(storedPriceMax)]);\n      }\n      const storedAmenities = localStorage.getItem('filter-amenities');\n      if (storedAmenities) {\n        try {\n          const arr = JSON.parse(storedAmenities);\n          if (Array.isArray(arr)) setSelectedAmenities(arr);\n        } catch {}\n      }\n      const rawSaved = localStorage.getItem('saved-searches');\n      if (rawSaved) {\n        try {\n          const arr = JSON.parse(rawSaved);\n          if (Array.isArray(arr)) setSavedSearches(arr);\n        } catch {}\n      }\n      const rawFavorites = localStorage.getItem('favorites');\n      if (rawFavorites) {\n        try {\n          const arr = JSON.parse(rawFavorites);\n          if (Array.isArray(arr)) setFavorites(arr);\n        } catch {}\n      }\n      const storedRoomType = localStorage.getItem('filter-room-type');\n      if (storedRoomType) setRoomType(storedRoomType);\n      const storedLease = localStorage.getItem('filter-lease-duration');\n      if (storedLease) setLeaseDuration(storedLease);\n      const storedPets = localStorage.getItem('filter-pet-friendly');\n      if (storedPets === 'true') setPetFriendly(true);\n      const storedGender = localStorage.getItem('filter-gender-preference');\n      if (storedGender) setGenderPreference(storedGender);\n    } catch (e) {\n      // ignore storage errors\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    const t = setTimeout(() => setInitialLoad(false), 600);\n    return () => clearTimeout(t);\n  }, []);\n  useEffect(() => {\n    const handleResize = () => setIsDesktop(window.innerWidth >= 1024);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Persist changes\n  useEffect(() => {\n    try {\n      localStorage.setItem('filter-payment', paymentFilter);\n    } catch {}\n  }, [paymentFilter]);\n  useEffect(() => {\n    try {\n      localStorage.setItem('filter-price-min', String(priceRange[0]));\n      localStorage.setItem('filter-price-max', String(priceRange[1]));\n    } catch {}\n  }, [priceRange]);\n  useEffect(() => {\n    try {\n      localStorage.setItem('filter-amenities', JSON.stringify(selectedAmenities));\n    } catch {}\n  }, [selectedAmenities]);\n  useEffect(() => {\n    try {\n      localStorage.setItem('filter-room-type', roomType);\n    } catch {}\n  }, [roomType]);\n  useEffect(() => {\n    try {\n      localStorage.setItem('filter-lease-duration', leaseDuration);\n    } catch {}\n  }, [leaseDuration]);\n  useEffect(() => {\n    try {\n      localStorage.setItem('filter-pet-friendly', String(petFriendly));\n    } catch {}\n  }, [petFriendly]);\n  useEffect(() => {\n    try {\n      localStorage.setItem('filter-gender-preference', genderPreference);\n    } catch {}\n  }, [genderPreference]);\n\n  // Check for new listings and price drops\n  useEffect(() => {\n    if (!listings || listings.length === 0) return;\n\n    // Check new listings against saved searches\n    const searches = getSavedSearches();\n    if (searches.length > 0) {\n      const newListingNotifs = checkNewListings(listings, searches);\n      newListingNotifs.forEach(n => addNotification(n));\n    }\n\n    // Check price drops on favorites\n    if (favorites.length > 0) {\n      const priceDropNotifs = checkPriceDrops(listings, favorites);\n      priceDropNotifs.forEach(n => addNotification(n));\n    }\n  }, [listings, favorites]);\n\n  // Debounced provider-aware suggestions with caching\n  useEffect(() => {\n    const raw = (searchLocation || '').trim();\n    if (raw.length < 3) {\n      setLocationSuggestions([]);\n      setLocationLoading(false);\n      return;\n    }\n    const key = (process.env.REACT_APP_GEOCODER_API_KEY || '').trim();\n    const provider = (process.env.REACT_APP_GEOCODER_PROVIDER || '').toLowerCase();\n    const qLower = raw.toLowerCase();\n    const cached = suggestionCacheRef.current[qLower];\n    if (cached && Date.now() - cached.ts < SUGGESTION_TTL_MS) {\n      setLocationSuggestions(cached.data);\n      return; // serve cache, skip network\n    }\n    const controller = new AbortController();\n    setLocationLoading(true);\n    const t = setTimeout(async () => {\n      try {\n        let suggestions = [];\n        if (provider === 'mapbox' && key) {\n          const url = `https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(raw)}.json?access_token=${key}&limit=5&country=ZA&language=en&types=place,locality,neighborhood`;\n          const resp = await fetch(url, {\n            signal: controller.signal\n          });\n          const data = await resp.json();\n          if (data && Array.isArray(data.features)) {\n            suggestions = data.features.map(f => f.place_name).filter(Boolean);\n          }\n        } else {\n          const url = `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(raw + ', South Africa')}&limit=5`;\n          const resp = await fetch(url, {\n            signal: controller.signal,\n            headers: {\n              'Accept-Language': 'en'\n            }\n          });\n          const data = await resp.json();\n          const uniq = [];\n          data.forEach(item => {\n            const display = item.display_name || '';\n            const parts = display.split(',').map(p => p.trim());\n            const area = parts.slice(0, 2).join(', ');\n            if (area && !uniq.includes(area)) uniq.push(area);\n          });\n          suggestions = uniq.slice(0, 5);\n        }\n        suggestionCacheRef.current[qLower] = {\n          data: suggestions,\n          ts: Date.now()\n        };\n        setLocationSuggestions(suggestions);\n      } catch (e) {\n        setLocationSuggestions([]);\n      } finally {\n        setLocationLoading(false);\n      }\n    }, 450);\n    return () => {\n      clearTimeout(t);\n      controller.abort();\n    };\n  }, [searchLocation, SUGGESTION_TTL_MS]);\n\n  // Sidebar navigation items (desktop only)\n  const desktopNavItems = [{\n    id: 'browse',\n    label: 'Browse',\n    icon: Search\n  }, {\n    id: 'add',\n    label: 'List Room',\n    icon: PlusCircle,\n    show: currentUser && currentUser.type === 'landlord' && !previewMode\n  }, {\n    id: 'my-listings',\n    label: 'My Rooms',\n    icon: Home,\n    show: currentUser && currentUser.type === 'landlord' && !previewMode\n  }, {\n    id: 'profile',\n    label: 'Profile',\n    icon: User\n  }];\n  const amenityOptions = ['WiFi', 'Parking', 'Kitchen', 'Laundry', 'Air Conditioning', 'Heating', 'Furnished'];\n  const toggleAmenity = amenity => {\n    if (selectedAmenities.includes(amenity)) {\n      setSelectedAmenities(selectedAmenities.filter(a => a !== amenity));\n    } else {\n      setSelectedAmenities([...selectedAmenities, amenity]);\n    }\n  };\n  const clearChip = (type, value) => {\n    if (type === 'location') setSearchLocation('');\n    if (type === 'priceMin') setPriceRange([0, priceRange[1]]);\n    if (type === 'priceMax') setPriceRange([priceRange[0], 10000]);\n    if (type === 'amenity') setSelectedAmenities(selectedAmenities.filter(a => a !== value));\n    if (type === 'sort') setSortBy('newest');\n    if (type === 'roomType') setRoomType('');\n    if (type === 'lease') setLeaseDuration('');\n    if (type === 'pets') setPetFriendly(false);\n    if (type === 'gender') setGenderPreference('');\n  };\n  const renderFilterChips = () => {\n    const chips = [];\n    if (searchLocation) chips.push({\n      type: 'location',\n      label: searchLocation\n    });\n    if (priceRange[0] > 0) chips.push({\n      type: 'priceMin',\n      label: `Min R${priceRange[0]}`\n    });\n    if (priceRange[1] < 10000) chips.push({\n      type: 'priceMax',\n      label: `Max R${priceRange[1]}`\n    });\n    selectedAmenities.forEach(a => chips.push({\n      type: 'amenity',\n      label: a,\n      value: a\n    }));\n    if (sortBy !== 'newest') chips.push({\n      type: 'sort',\n      label: `Sort: ${sortBy}`\n    });\n    if (paymentFilter) chips.push({\n      type: 'payment',\n      label: `Pay: ${paymentFilter}`\n    });\n    if (roomType) chips.push({\n      type: 'roomType',\n      label: `${roomType.charAt(0).toUpperCase() + roomType.slice(1)} room`\n    });\n    if (leaseDuration) chips.push({\n      type: 'lease',\n      label: `${leaseDuration} months`\n    });\n    if (petFriendly) chips.push({\n      type: 'pets',\n      label: 'ðŸ¾ Pet friendly'\n    });\n    if (genderPreference) chips.push({\n      type: 'gender',\n      label: `${genderPreference.charAt(0).toUpperCase() + genderPreference.slice(1)} only`\n    });\n    if (chips.length === 0) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-chip-bar\",\n      \"aria-label\": \"Active filters\",\n      children: [chips.map((chip, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => clearChip(chip.type, chip.value),\n        className: \"filter-chip\",\n        \"aria-label\": `Remove ${chip.label} filter`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: chip.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          \"aria-hidden\": \"true\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setSearchLocation('');\n          setPriceRange([0, 10000]);\n          setSelectedAmenities([]);\n          setSortBy('newest');\n          setPaymentFilter('');\n          setRoomType('');\n          setLeaseDuration('');\n          setPetFriendly(false);\n          setGenderPreference('');\n          setLocationSuggestions([]);\n          try {\n            localStorage.removeItem('filter-payment');\n          } catch {}\n          try {\n            localStorage.removeItem('filter-price-min');\n            localStorage.removeItem('filter-price-max');\n          } catch {}\n          try {\n            localStorage.removeItem('filter-amenities');\n          } catch {}\n          try {\n            localStorage.removeItem('filter-room-type');\n          } catch {}\n          try {\n            localStorage.removeItem('filter-lease-duration');\n          } catch {}\n          try {\n            localStorage.removeItem('filter-pet-friendly');\n          } catch {}\n          try {\n            localStorage.removeItem('filter-gender-preference');\n          } catch {}\n        },\n        className: \"filter-chip bg-red-50 text-red-700 hover:bg-red-100\",\n        children: \"Clear All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this);\n  };\n  const saveCurrentSearch = () => {\n    const criteria = {\n      location: searchLocation || '',\n      priceMin: priceRange[0],\n      priceMax: priceRange[1],\n      priceRange: [...priceRange],\n      amenities: [...selectedAmenities]\n    };\n    const saved = saveSearchToEngine(criteria);\n    if (saved) {\n      // Also update local state for UI\n      setSavedSearches(getSavedSearches());\n      alert('Search saved! You\\'ll be notified of new listings matching this criteria.');\n    }\n  };\n  const loadSearch = s => {\n    setSearchLocation(s.location);\n    setPriceRange(s.priceRange);\n    setSelectedAmenities(s.amenities);\n    setPaymentFilter(s.payment);\n    setSortBy(s.sort || 'newest');\n  };\n  const renderFiltersBox = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"filters-box\",\n    \"aria-label\": \"Filters panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-2 mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(MapPin, {\n        className: \"w-4 h-4 text-gray-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search location...\",\n        value: searchLocation,\n        onChange: e => setSearchLocation(e.target.value),\n        className: \"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-teal-600 focus:border-transparent\",\n        \"aria-label\": \"Location search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), locationLoading && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs text-teal-600 animate-pulse\",\n        \"aria-live\": \"polite\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xs font-semibold text-gray-600\",\n          children: \"Price Range\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 text-xs bg-gray-50 px-2 py-1 rounded border border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"R\", priceRange[0].toLocaleString(), \" - R\", priceRange[1].toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: priceRange[0],\n            onChange: e => setPriceRange([parseInt(e.target.value), priceRange[1]]),\n            className: \"bg-transparent border-l border-gray-300 pl-2 focus:outline-none\",\n            \"aria-label\": \"Minimum price\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"0\",\n              children: \"Min\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"500\",\n              children: \"R500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"1000\",\n              children: \"R1000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"1500\",\n              children: \"R1500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: priceRange[1],\n            onChange: e => setPriceRange([priceRange[0], parseInt(e.target.value)]),\n            className: \"bg-transparent border-l border-gray-300 pl-2 focus:outline-none\",\n            \"aria-label\": \"Maximum price\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"10000\",\n              children: \"R10,000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"5000\",\n              children: \"R5,000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"3000\",\n              children: \"R3,000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"2000\",\n              children: \"R2,000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xs font-semibold text-gray-600\",\n          children: \"Sort\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: sortBy,\n          onChange: e => setSortBy(e.target.value),\n          className: \"text-sm bg-white border border-gray-300 px-2 py-1 rounded focus:ring-2 focus:ring-teal-600\",\n          \"aria-label\": \"Sort order\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"newest\",\n            children: \"Newest\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"cheapest\",\n            children: \"Cheapest\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"expensive\",\n            children: \"Most Expensive\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xs font-semibold text-gray-600\",\n          children: \"Payment Method\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: paymentFilter,\n          onChange: e => setPaymentFilter(e.target.value),\n          className: \"text-sm bg-white border border-gray-300 px-2 py-1 rounded focus:ring-2 focus:ring-teal-600\",\n          \"aria-label\": \"Payment method\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Any\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Bank and Cash\",\n            children: \"Bank and Cash\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Cash Only\",\n            children: \"Cash Only\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Bank Only\",\n            children: \"Bank Only\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xs font-semibold text-gray-600\",\n          children: \"Saved Searches\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-1\",\n          children: [savedSearches.length === 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-[11px] text-gray-500\",\n            children: \"None saved\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 19\n          }, this), savedSearches.map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => loadSearch(s),\n            className: \"px-2 py-1 rounded-md text-[11px] font-medium bg-purple-50 text-purple-700 border border-purple-200 hover:bg-purple-100\",\n            children: [s.location || 'Any', \" \\u2022 \", s.priceRange[0], \"-\", s.priceRange[1]]\n          }, s.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: saveCurrentSearch,\n          className: \"mt-1 text-xs text-purple-700 hover:text-purple-800 font-medium underline\",\n          children: \"Save Current Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xs font-semibold text-gray-600 mb-1 block\",\n          children: \"Amenities\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-1\",\n          children: amenityOptions.map(a => /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => toggleAmenity(a),\n            className: `px-2 py-1 rounded-md text-[11px] font-medium border transition ${selectedAmenities.includes(a) ? 'bg-teal-600 text-white border-teal-600 shadow-sm' : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'}`,\n            \"aria-pressed\": selectedAmenities.includes(a),\n            children: a\n          }, a, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowAdvancedFilters(!showAdvancedFilters),\n        className: \"mt-2 text-xs text-teal-700 hover:text-teal-800 font-semibold px-2 py-1 rounded hover:bg-teal-50 transition\",\n        \"aria-expanded\": showAdvancedFilters,\n        children: showAdvancedFilters ? 'Close Advanced' : 'More Filters'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this), showAdvancedFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 p-2 bg-gray-50 border border-gray-200 rounded\",\n        \"aria-label\": \"Advanced filters\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-600\",\n          children: \"(Advanced filters placeholder)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 109\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 313,\n    columnNumber: 5\n  }, this);\n\n  // Desktop layout\n  if (isDesktop) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-b from-slate-50 to-gray-100 min-h-screen pb-4\",\n      \"aria-labelledby\": \"results-heading\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"layout-desktop\",\n        children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n          className: \"sidebar-nav\",\n          role: \"navigation\",\n          \"aria-label\": \"Desktop navigation and filters\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold flex items-center gap-2 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent\",\n                children: \"Room\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 78\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-amber-500\",\n                children: \"24\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 180\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sidebar-section-title mb-2\",\n              children: \"Navigation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sidebar-menu\",\n              children: desktopNavItems.filter(i => i.show === undefined || i.show).map(item => {\n                const Icon = item.icon;\n                const isActive = item.id === 'browse';\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setCurrentView(item.id),\n                  className: isActive ? 'active' : '',\n                  \"aria-label\": item.label,\n                  children: [/*#__PURE__*/_jsxDEV(Icon, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 23\n                  }, this), \" \", item.label]\n                }, item.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sidebar-section-title mb-2\",\n              children: \"Filters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 15\n            }, this), renderFiltersBox()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SidebarAd, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }, this), !currentUser && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-auto pt-4 border-t border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mb-2\",\n              children: \"Join to list rooms.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => onRequireAuth && onRequireAuth('renter'),\n                className: \"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 text-xs py-2 rounded\",\n                children: \"Sign In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => onRequireAuth && onRequireAuth('landlord'),\n                className: \"flex-1 bg-red-500 hover:bg-red-600 text-white text-xs py-2 rounded\",\n                children: \"List Room\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          className: \"desktop-split\",\n          role: \"main\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"list-pane\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                id: \"results-heading\",\n                className: \"text-lg font-semibold text-gray-800\",\n                children: listings.length === 0 ? 'No rooms' : `${listings.length} rooms`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 15\n            }, this), renderFilterChips(), initialLoad ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6\",\n              \"aria-label\": \"Loading listings\",\n              children: Array.from({\n                length: 8\n              }).map((_, i) => /*#__PURE__*/_jsxDEV(ListingSkeletonCard, {}, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 60\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 17\n            }, this) : (paymentFilter ? listings.filter(l => l.paymentMethod === paymentFilter) : listings).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white border border-gray-200 rounded-lg p-8 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 text-sm\",\n                children: \"No rooms match your filters.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 95\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6\",\n              children: (paymentFilter ? listings.filter(l => l.paymentMethod === paymentFilter) : listings).map((listing, idx) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(ListingCard, {\n                  listing: listing,\n                  onClick: () => onSelectListing(listing)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 25\n                }, this), (idx + 1) % 6 === 0 && idx !== listings.length - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"md:col-span-2 xl:col-span-3 2xl:col-span-4\",\n                  children: /*#__PURE__*/_jsxDEV(InFeedAd, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 27\n                }, this)]\n              }, listing.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Mobile / tablet layout\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gradient-to-b from-slate-50 to-gray-100 min-h-screen pb-24\",\n    role: \"main\",\n    \"aria-labelledby\": \"results-heading\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/80 backdrop-blur-sm border-b border-gray-100 shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 py-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(MapPin, {\n              className: \"absolute left-3 top-3.5 w-5 h-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search by location, suburb, or area...\",\n              value: searchLocation,\n              onChange: e => setSearchLocation(e.target.value),\n              className: \"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-xl text-gray-700 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 shadow-sm transition-all duration-200 hover:border-gray-400\",\n              \"aria-label\": \"Location search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 15\n            }, this), locationLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute right-3 top-3 flex items-center gap-1 text-teal-600\",\n              \"aria-live\": \"polite\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-4 h-4 border-2 border-teal-500 border-t-transparent rounded-full animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 17\n            }, this), !locationLoading && searchLocation && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setSearchLocation('');\n                setLocationSuggestions([]);\n              },\n              className: \"absolute right-3 top-3 p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors\",\n              \"aria-label\": \"Clear search\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-lg\",\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 17\n            }, this), locationSuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute left-0 right-0 top-full mt-2 bg-white border border-gray-200 rounded-xl shadow-lg z-20 overflow-hidden animate-fadeIn\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-500 px-3 py-2 bg-gray-50 border-b border-gray-100 font-medium\",\n                children: \"\\uD83D\\uDCCD Suggestions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 19\n              }, this), locationSuggestions.map((s, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  setSearchLocation(s);\n                  setLocationSuggestions([]);\n                },\n                className: `w-full text-left px-4 py-2.5 text-sm hover:bg-teal-50 flex items-center gap-2 transition-colors ${i > 0 ? 'border-t border-gray-50' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  className: \"w-3.5 h-3.5 text-teal-500 flex-shrink-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 548,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: s\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 23\n                }, this)]\n              }, s, true, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700 text-white px-5 py-2.5 rounded-xl transition-all duration-200 font-semibold shadow-md hover:shadow-lg text-sm flex items-center gap-2 active:scale-95\",\n              onClick: () => {},\n              \"aria-label\": \"Search submit\",\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 557,\n                columnNumber: 15\n              }, this), \"Search\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                if (!searchLocation || searchLocation.trim() === '') {\n                  alert('Enter a location to subscribe.');\n                  return;\n                }\n                if (!currentUser) {\n                  onRequireAuth && onRequireAuth('renter');\n                  return;\n                }\n                subscribeToArea && subscribeToArea(currentUser.id, searchLocation.trim());\n              },\n              className: \"bg-white border border-gray-200 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-50 transition text-sm\",\n              children: \"Subscribe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: saveCurrentSearch,\n              className: \"bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg text-sm font-semibold shadow-sm\",\n              children: \"Save Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 13\n          }, this), savedSearches.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-1 mb-2\",\n            \"aria-label\": \"Saved searches\",\n            children: savedSearches.map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => loadSearch(s),\n              className: \"text-[11px] px-2 py-1 rounded bg-purple-50 text-purple-700 border border-purple-200\",\n              children: [s.location || 'Any', \" \\u2022 \", s.priceRange[0], \"-\", s.priceRange[1]]\n            }, s.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2 mb-3 flex-wrap items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 bg-gray-50 px-3 py-2 rounded-lg border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600 font-medium\",\n              children: [\"R\", priceRange[0].toLocaleString(), \" - R\", priceRange[1].toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: priceRange[0],\n              onChange: e => setPriceRange([parseInt(e.target.value), priceRange[1]]),\n              className: \"text-xs bg-transparent border-l border-gray-300 pl-2 text-gray-600 focus:outline-none\",\n              \"aria-label\": \"Minimum price\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"0\",\n                children: \"Min\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 602,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"500\",\n                children: \"R500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 603,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1000\",\n                children: \"R1000\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 604,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1500\",\n                children: \"R1500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 605,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: priceRange[1],\n              onChange: e => setPriceRange([priceRange[0], parseInt(e.target.value)]),\n              className: \"text-xs bg-transparent border-l border-gray-300 pl-2 text-gray-600 focus:outline-none\",\n              \"aria-label\": \"Maximum price\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"10000\",\n                children: \"R10k\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"5000\",\n                children: \"R5k\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 614,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"3000\",\n                children: \"R3k\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 615,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"2000\",\n                children: \"R2k\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 616,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Sort:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: sortBy,\n              onChange: e => setSortBy(e.target.value),\n              className: \"text-sm bg-gray-50 border border-gray-200 px-3 py-2 rounded-lg text-gray-700 focus:ring-2 focus:ring-teal-600\",\n              \"aria-label\": \"Sort order\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"newest\",\n                children: \"Newest\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cheapest\",\n                children: \"Cheapest\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 628,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"expensive\",\n                children: \"Most Expensive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 629,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Payment:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: paymentFilter,\n              onChange: e => setPaymentFilter(e.target.value),\n              className: \"text-sm bg-gray-50 border border-gray-200 px-3 py-2 rounded-lg text-gray-700 focus:ring-2 focus:ring-teal-600\",\n              \"aria-label\": \"Payment method filter\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Any\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 640,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Bank and Cash\",\n                children: \"Bank & Cash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Cash Only\",\n                children: \"Cash Only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 642,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Bank Only\",\n                children: \"Bank Only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowAdvancedFilters(!showAdvancedFilters),\n            className: \"text-sm text-teal-700 hover:text-teal-800 font-medium px-3 py-2 rounded-lg hover:bg-teal-50 transition\",\n            \"aria-expanded\": showAdvancedFilters,\n            children: showAdvancedFilters ? 'âœ• Filters' : 'âš™ï¸ Filters'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 11\n        }, this), showAdvancedFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 p-4 bg-gray-50 rounded-lg border border-gray-200 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-xs font-semibold text-gray-700 mb-2 block\",\n              children: \"Room Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 656,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: ['Private', 'Shared'].map(type => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setRoomType(roomType === type.toLowerCase() ? '' : type.toLowerCase()),\n                className: `px-3 py-1.5 rounded-md text-sm font-medium border transition ${roomType === type.toLowerCase() ? 'bg-teal-600 text-white border-teal-600 shadow-sm' : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'}`,\n                children: type\n              }, type, false, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 657,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-xs font-semibold text-gray-700 mb-2 block\",\n              children: \"Lease Duration (months)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2 flex-wrap\",\n              children: [{\n                label: '1-3',\n                value: '1-3'\n              }, {\n                label: '4-6',\n                value: '4-6'\n              }, {\n                label: '7-12',\n                value: '7-12'\n              }, {\n                label: '12+',\n                value: '12+'\n              }].map(opt => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setLeaseDuration(leaseDuration === opt.value ? '' : opt.value),\n                className: `px-3 py-1.5 rounded-md text-sm font-medium border transition ${leaseDuration === opt.value ? 'bg-teal-600 text-white border-teal-600 shadow-sm' : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'}`,\n                children: opt.label\n              }, opt.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 675,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-2 cursor-pointer\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: petFriendly,\n                onChange: e => setPetFriendly(e.target.checked),\n                className: \"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-gray-700\",\n                children: \"\\uD83D\\uDC3E Pet Friendly\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 704,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 696,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-xs font-semibold text-gray-700 mb-2 block\",\n              children: \"Gender Preference\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [{\n                label: 'Male',\n                value: 'male'\n              }, {\n                label: 'Female',\n                value: 'female'\n              }, {\n                label: 'Any',\n                value: 'any'\n              }].map(opt => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setGenderPreference(genderPreference === opt.value ? '' : opt.value),\n                className: `px-3 py-1.5 rounded-md text-sm font-medium border transition ${genderPreference === opt.value ? 'bg-teal-600 text-white border-teal-600 shadow-sm' : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'}`,\n                children: opt.label\n              }, opt.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 717,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 711,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-xs font-semibold text-gray-700 mb-2 block\",\n              children: \"Amenities\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 732,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-1\",\n              \"aria-label\": \"Amenities\",\n              children: amenityOptions.map(a => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => toggleAmenity(a),\n                className: `px-2 py-1 rounded-md text-[11px] font-medium border transition ${selectedAmenities.includes(a) ? 'bg-teal-600 text-white border-teal-600 shadow-sm' : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'}`,\n                \"aria-pressed\": selectedAmenities.includes(a),\n                children: a\n              }, a, false, {\n                fileName: _jsxFileName,\n                lineNumber: 735,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 733,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 731,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 653,\n          columnNumber: 13\n        }, this), renderFilterChips()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 pt-3\",\n      children: /*#__PURE__*/_jsxDEV(InFeedAd, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 752,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 751,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mt-4 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          id: \"results-heading\",\n          className: \"text-2xl font-bold text-gray-800\",\n          children: listings.length === 0 ? 'No rooms available' : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"bg-gradient-to-r from-teal-500 to-cyan-500 text-white text-lg font-bold px-3 py-1 rounded-lg shadow-sm\",\n              children: listings.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 761,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Rooms Available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 762,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 760,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 756,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 755,\n        columnNumber: 9\n      }, this), initialLoad ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-12 justify-items-center\",\n        \"aria-label\": \"Loading listings\",\n        children: Array.from({\n          length: 8\n        }).map((_, i) => /*#__PURE__*/_jsxDEV(ListingSkeletonCard, {}, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 769,\n          columnNumber: 54\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 768,\n        columnNumber: 11\n      }, this) : (paymentFilter ? listings.filter(l => l.paymentMethod === paymentFilter) : listings).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl border-2 border-dashed border-gray-300 p-16 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg\",\n          children: /*#__PURE__*/_jsxDEV(Search, {\n            className: \"w-12 h-12 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-2xl font-bold text-gray-800 mb-3\",\n          children: \"No Rooms Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 777,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-2\",\n          children: \"We couldn't find any rooms matching your criteria\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 778,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-sm mb-8 max-w-md mx-auto\",\n          children: \"Try adjusting your filters, expanding your search area, or checking back later for new listings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 779,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col sm:flex-row gap-3 justify-center items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setSearchLocation('');\n              setPriceRange([0, 10000]);\n              setSelectedAmenities([]);\n              setSortBy('newest');\n              setRoomType('');\n              setLeaseDuration('');\n              setPetFriendly(false);\n              setGenderPreference('');\n              setPaymentFilter('');\n            },\n            className: \"inline-flex items-center gap-2 bg-teal-600 hover:bg-teal-700 text-white font-medium px-6 py-2.5 rounded-lg transition shadow-sm\",\n            children: \"Clear All Filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 783,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 782,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 773,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-12 justify-items-center\",\n        children: (paymentFilter ? listings.filter(l => l.paymentMethod === paymentFilter) : listings).map((listing, idx) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(ListingCard, {\n            listing: listing,\n            onClick: () => onSelectListing(listing),\n            isFavorite: favorites.includes(listing.id),\n            onToggleFavorite: toggleFavorite\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 805,\n            columnNumber: 19\n          }, this), (idx + 1) % 8 === 0 && idx !== listings.length - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sm:col-span-2 lg:col-span-3 xl:col-span-4\",\n            children: /*#__PURE__*/_jsxDEV(InFeedAd, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 813,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 812,\n            columnNumber: 21\n          }, this)]\n        }, listing.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 804,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 802,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 754,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 510,\n    columnNumber: 5\n  }, this);\n}\n_s(BrowseView, \"A4RAc3FJ0dGTZGsUfdp4q+JDB2U=\");\n_c = BrowseView;\nvar _c;\n$RefreshReg$(_c, \"BrowseView\");","map":{"version":3,"names":["React","useState","useEffect","Search","PlusCircle","Home","User","MapPin","ListingCard","ListingSkeletonCard","SidebarAd","InFeedAd","getSavedSearches","checkNewListings","checkPriceDrops","addNotification","saveSearch","saveSearchToEngine","jsxDEV","_jsxDEV","BrowseView","listings","searchLocation","setSearchLocation","priceRange","setPriceRange","selectedAmenities","setSelectedAmenities","sortBy","setSortBy","onSelectListing","setCurrentView","currentUser","onRequireAuth","subscribeToArea","previewMode","_s","showAdvancedFilters","setShowAdvancedFilters","isDesktop","setIsDesktop","window","innerWidth","paymentFilter","setPaymentFilter","locationSuggestions","setLocationSuggestions","locationLoading","setLocationLoading","savedSearches","setSavedSearches","initialLoad","setInitialLoad","favorites","setFavorites","roomType","setRoomType","leaseDuration","setLeaseDuration","petFriendly","setPetFriendly","genderPreference","setGenderPreference","suggestionCacheRef","useRef","SUGGESTION_TTL_MS","toggleFavorite","listingId","prev","updated","includes","filter","id","localStorage","setItem","JSON","stringify","storedPayment","getItem","storedPriceMin","storedPriceMax","isNaN","parseInt","storedAmenities","arr","parse","Array","isArray","rawSaved","rawFavorites","storedRoomType","storedLease","storedPets","storedGender","e","t","setTimeout","clearTimeout","handleResize","addEventListener","removeEventListener","String","length","searches","newListingNotifs","forEach","n","priceDropNotifs","raw","trim","key","process","env","REACT_APP_GEOCODER_API_KEY","provider","REACT_APP_GEOCODER_PROVIDER","toLowerCase","qLower","cached","current","Date","now","ts","data","controller","AbortController","suggestions","url","encodeURIComponent","resp","fetch","signal","json","features","map","f","place_name","Boolean","headers","uniq","item","display","display_name","parts","split","p","area","slice","join","push","abort","desktopNavItems","label","icon","show","type","amenityOptions","toggleAmenity","amenity","a","clearChip","value","renderFilterChips","chips","charAt","toUpperCase","className","children","chip","idx","onClick","fileName","_jsxFileName","lineNumber","columnNumber","removeItem","saveCurrentSearch","criteria","location","priceMin","priceMax","amenities","saved","alert","loadSearch","s","payment","sort","renderFiltersBox","placeholder","onChange","target","toLocaleString","role","i","undefined","Icon","isActive","from","_","l","paymentMethod","listing","Fragment","opt","checked","isFavorite","onToggleFavorite","_c","$RefreshReg$"],"sources":["C:/Users/kutum/Documents/room-rental-platform/src/components/BrowseView.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Search, PlusCircle, Home, User, MapPin } from 'lucide-react';\r\nimport ListingCard from './ListingCard';\r\nimport ListingSkeletonCard from './ListingSkeletonCard';\r\nimport { SidebarAd, InFeedAd } from './AdBanner';\r\nimport { getSavedSearches, checkNewListings, checkPriceDrops, addNotification, saveSearch as saveSearchToEngine } from '../utils/notificationEngine';\r\n\r\nexport default function BrowseView({\r\n  listings,\r\n  searchLocation,\r\n  setSearchLocation,\r\n  priceRange,\r\n  setPriceRange,\r\n  selectedAmenities,\r\n  setSelectedAmenities,\r\n  sortBy,\r\n  setSortBy,\r\n  onSelectListing,\r\n  setCurrentView,\r\n  currentUser,\r\n  onRequireAuth,\r\n  subscribeToArea,\r\n  previewMode\r\n}) {\r\n  const [showAdvancedFilters, setShowAdvancedFilters] = useState(false);\r\n  const [isDesktop, setIsDesktop] = useState(typeof window !== 'undefined' ? window.innerWidth >= 1024 : false);\r\n  const [paymentFilter, setPaymentFilter] = useState('');\r\n  const [locationSuggestions, setLocationSuggestions] = useState([]);\r\n  const [locationLoading, setLocationLoading] = useState(false);\r\n  const [savedSearches, setSavedSearches] = useState([]);\r\n  const [initialLoad, setInitialLoad] = useState(true);\r\n  const [favorites, setFavorites] = useState([]);\r\n  const [roomType, setRoomType] = useState(''); // '', 'private', 'shared'\r\n  const [leaseDuration, setLeaseDuration] = useState(''); // '', '1-3', '4-6', '7-12', '12+'\r\n  const [petFriendly, setPetFriendly] = useState(false);\r\n  const [genderPreference, setGenderPreference] = useState(''); // '', 'male', 'female', 'any'\r\n  const suggestionCacheRef = React.useRef({}); // cache: { queryLower: { data: [...], ts } }\r\n  const SUGGESTION_TTL_MS = 15 * 60 * 1000; // 15 minutes\r\n\r\n  const toggleFavorite = (listingId) => {\r\n    setFavorites(prev => {\r\n      const updated = prev.includes(listingId)\r\n        ? prev.filter(id => id !== listingId)\r\n        : [...prev, listingId];\r\n      try {\r\n        localStorage.setItem('favorites', JSON.stringify(updated));\r\n      } catch {}\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  // Restore persisted lightweight filters\r\n  useEffect(() => {\r\n    try {\r\n      const storedPayment = localStorage.getItem('filter-payment');\r\n      if (storedPayment) setPaymentFilter(storedPayment);\r\n      const storedPriceMin = localStorage.getItem('filter-price-min');\r\n      const storedPriceMax = localStorage.getItem('filter-price-max');\r\n      if (storedPriceMin && !isNaN(parseInt(storedPriceMin)) && storedPriceMax && !isNaN(parseInt(storedPriceMax))) {\r\n        setPriceRange([parseInt(storedPriceMin), parseInt(storedPriceMax)]);\r\n      }\r\n      const storedAmenities = localStorage.getItem('filter-amenities');\r\n      if (storedAmenities) {\r\n        try {\r\n          const arr = JSON.parse(storedAmenities);\r\n          if (Array.isArray(arr)) setSelectedAmenities(arr);\r\n        } catch {}\r\n      }\r\n      const rawSaved = localStorage.getItem('saved-searches');\r\n      if (rawSaved) {\r\n        try {\r\n          const arr = JSON.parse(rawSaved);\r\n          if (Array.isArray(arr)) setSavedSearches(arr);\r\n        } catch {}\r\n      }\r\n      const rawFavorites = localStorage.getItem('favorites');\r\n      if (rawFavorites) {\r\n        try {\r\n          const arr = JSON.parse(rawFavorites);\r\n          if (Array.isArray(arr)) setFavorites(arr);\r\n        } catch {}\r\n      }\r\n      const storedRoomType = localStorage.getItem('filter-room-type');\r\n      if (storedRoomType) setRoomType(storedRoomType);\r\n      const storedLease = localStorage.getItem('filter-lease-duration');\r\n      if (storedLease) setLeaseDuration(storedLease);\r\n      const storedPets = localStorage.getItem('filter-pet-friendly');\r\n      if (storedPets === 'true') setPetFriendly(true);\r\n      const storedGender = localStorage.getItem('filter-gender-preference');\r\n      if (storedGender) setGenderPreference(storedGender);\r\n    } catch (e) {\r\n      // ignore storage errors\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const t = setTimeout(() => setInitialLoad(false), 600);\r\n    return () => clearTimeout(t);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => setIsDesktop(window.innerWidth >= 1024);\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  // Persist changes\r\n  useEffect(() => {\r\n    try { localStorage.setItem('filter-payment', paymentFilter); } catch {}\r\n  }, [paymentFilter]);\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem('filter-price-min', String(priceRange[0]));\r\n      localStorage.setItem('filter-price-max', String(priceRange[1]));\r\n    } catch {}\r\n  }, [priceRange]);\r\n  useEffect(() => {\r\n    try { localStorage.setItem('filter-amenities', JSON.stringify(selectedAmenities)); } catch {}\r\n  }, [selectedAmenities]);\r\n  useEffect(() => {\r\n    try { localStorage.setItem('filter-room-type', roomType); } catch {}\r\n  }, [roomType]);\r\n  useEffect(() => {\r\n    try { localStorage.setItem('filter-lease-duration', leaseDuration); } catch {}\r\n  }, [leaseDuration]);\r\n  useEffect(() => {\r\n    try { localStorage.setItem('filter-pet-friendly', String(petFriendly)); } catch {}\r\n  }, [petFriendly]);\r\n  useEffect(() => {\r\n    try { localStorage.setItem('filter-gender-preference', genderPreference); } catch {}\r\n  }, [genderPreference]);\r\n\r\n  // Check for new listings and price drops\r\n  useEffect(() => {\r\n    if (!listings || listings.length === 0) return;\r\n    \r\n    // Check new listings against saved searches\r\n    const searches = getSavedSearches();\r\n    if (searches.length > 0) {\r\n      const newListingNotifs = checkNewListings(listings, searches);\r\n      newListingNotifs.forEach(n => addNotification(n));\r\n    }\r\n    \r\n    // Check price drops on favorites\r\n    if (favorites.length > 0) {\r\n      const priceDropNotifs = checkPriceDrops(listings, favorites);\r\n      priceDropNotifs.forEach(n => addNotification(n));\r\n    }\r\n  }, [listings, favorites]);\r\n\r\n  // Debounced provider-aware suggestions with caching\r\n  useEffect(() => {\r\n    const raw = (searchLocation || '').trim();\r\n    if (raw.length < 3) {\r\n      setLocationSuggestions([]);\r\n      setLocationLoading(false);\r\n      return;\r\n    }\r\n\r\n    const key = (process.env.REACT_APP_GEOCODER_API_KEY || '').trim();\r\n    const provider = (process.env.REACT_APP_GEOCODER_PROVIDER || '').toLowerCase();\r\n    const qLower = raw.toLowerCase();\r\n    const cached = suggestionCacheRef.current[qLower];\r\n    if (cached && (Date.now() - cached.ts) < SUGGESTION_TTL_MS) {\r\n      setLocationSuggestions(cached.data);\r\n      return; // serve cache, skip network\r\n    }\r\n\r\n    const controller = new AbortController();\r\n    setLocationLoading(true);\r\n    const t = setTimeout(async () => {\r\n      try {\r\n        let suggestions = [];\r\n        if (provider === 'mapbox' && key) {\r\n          const url = `https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(raw)}.json?access_token=${key}&limit=5&country=ZA&language=en&types=place,locality,neighborhood`;\r\n          const resp = await fetch(url, { signal: controller.signal });\r\n          const data = await resp.json();\r\n          if (data && Array.isArray(data.features)) {\r\n            suggestions = data.features.map(f => f.place_name).filter(Boolean);\r\n          }\r\n        } else {\r\n          const url = `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(raw + ', South Africa')}&limit=5`;\r\n          const resp = await fetch(url, { signal: controller.signal, headers: { 'Accept-Language': 'en' } });\r\n          const data = await resp.json();\r\n          const uniq = [];\r\n          data.forEach(item => {\r\n            const display = item.display_name || '';\r\n            const parts = display.split(',').map(p => p.trim());\r\n            const area = parts.slice(0, 2).join(', ');\r\n            if (area && !uniq.includes(area)) uniq.push(area);\r\n          });\r\n          suggestions = uniq.slice(0, 5);\r\n        }\r\n        suggestionCacheRef.current[qLower] = { data: suggestions, ts: Date.now() };\r\n        setLocationSuggestions(suggestions);\r\n      } catch (e) {\r\n        setLocationSuggestions([]);\r\n      } finally {\r\n        setLocationLoading(false);\r\n      }\r\n    }, 450);\r\n    return () => { clearTimeout(t); controller.abort(); };\r\n  }, [searchLocation, SUGGESTION_TTL_MS]);\r\n\r\n  // Sidebar navigation items (desktop only)\r\n  const desktopNavItems = [\r\n    { id: 'browse', label: 'Browse', icon: Search },\r\n    { id: 'add', label: 'List Room', icon: PlusCircle, show: currentUser && currentUser.type === 'landlord' && !previewMode },\r\n    { id: 'my-listings', label: 'My Rooms', icon: Home, show: currentUser && currentUser.type === 'landlord' && !previewMode },\r\n    { id: 'profile', label: 'Profile', icon: User }\r\n  ];\r\n\r\n  const amenityOptions = ['WiFi', 'Parking', 'Kitchen', 'Laundry', 'Air Conditioning', 'Heating', 'Furnished'];\r\n\r\n  const toggleAmenity = (amenity) => {\r\n    if (selectedAmenities.includes(amenity)) {\r\n      setSelectedAmenities(selectedAmenities.filter(a => a !== amenity));\r\n    } else {\r\n      setSelectedAmenities([...selectedAmenities, amenity]);\r\n    }\r\n  };\r\n\r\n  const clearChip = (type, value) => {\r\n    if (type === 'location') setSearchLocation('');\r\n    if (type === 'priceMin') setPriceRange([0, priceRange[1]]);\r\n    if (type === 'priceMax') setPriceRange([priceRange[0], 10000]);\r\n    if (type === 'amenity') setSelectedAmenities(selectedAmenities.filter(a => a !== value));\r\n    if (type === 'sort') setSortBy('newest');\r\n    if (type === 'roomType') setRoomType('');\r\n    if (type === 'lease') setLeaseDuration('');\r\n    if (type === 'pets') setPetFriendly(false);\r\n    if (type === 'gender') setGenderPreference('');\r\n  };\r\n\r\n  const renderFilterChips = () => {\r\n    const chips = [];\r\n    if (searchLocation) chips.push({ type: 'location', label: searchLocation });\r\n    if (priceRange[0] > 0) chips.push({ type: 'priceMin', label: `Min R${priceRange[0]}` });\r\n    if (priceRange[1] < 10000) chips.push({ type: 'priceMax', label: `Max R${priceRange[1]}` });\r\n    selectedAmenities.forEach(a => chips.push({ type: 'amenity', label: a, value: a }));\r\n    if (sortBy !== 'newest') chips.push({ type: 'sort', label: `Sort: ${sortBy}` });\r\n    if (paymentFilter) chips.push({ type: 'payment', label: `Pay: ${paymentFilter}` });\r\n    if (roomType) chips.push({ type: 'roomType', label: `${roomType.charAt(0).toUpperCase() + roomType.slice(1)} room` });\r\n    if (leaseDuration) chips.push({ type: 'lease', label: `${leaseDuration} months` });\r\n    if (petFriendly) chips.push({ type: 'pets', label: 'ðŸ¾ Pet friendly' });\r\n    if (genderPreference) chips.push({ type: 'gender', label: `${genderPreference.charAt(0).toUpperCase() + genderPreference.slice(1)} only` });\r\n    if (chips.length === 0) return null;\r\n    return (\r\n      <div className=\"filter-chip-bar\" aria-label=\"Active filters\">\r\n        {chips.map((chip, idx) => (\r\n          <button\r\n            key={idx}\r\n            onClick={() => clearChip(chip.type, chip.value)}\r\n            className=\"filter-chip\"\r\n            aria-label={`Remove ${chip.label} filter`}\r\n          >\r\n            <span>{chip.label}</span>\r\n            <span aria-hidden=\"true\">âœ•</span>\r\n          </button>\r\n        ))}\r\n        <button\r\n          onClick={() => {\r\n            setSearchLocation('');\r\n            setPriceRange([0, 10000]);\r\n            setSelectedAmenities([]);\r\n            setSortBy('newest');\r\n            setPaymentFilter('');\r\n            setRoomType('');\r\n            setLeaseDuration('');\r\n            setPetFriendly(false);\r\n            setGenderPreference('');\r\n            setLocationSuggestions([]);\r\n            try { localStorage.removeItem('filter-payment'); } catch {}\r\n            try { localStorage.removeItem('filter-price-min'); localStorage.removeItem('filter-price-max'); } catch {}\r\n            try { localStorage.removeItem('filter-amenities'); } catch {}\r\n            try { localStorage.removeItem('filter-room-type'); } catch {}\r\n            try { localStorage.removeItem('filter-lease-duration'); } catch {}\r\n            try { localStorage.removeItem('filter-pet-friendly'); } catch {}\r\n            try { localStorage.removeItem('filter-gender-preference'); } catch {}\r\n          }}\r\n          className=\"filter-chip bg-red-50 text-red-700 hover:bg-red-100\"\r\n        >Clear All</button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const saveCurrentSearch = () => {\r\n    const criteria = {\r\n      location: searchLocation || '',\r\n      priceMin: priceRange[0],\r\n      priceMax: priceRange[1],\r\n      priceRange: [...priceRange],\r\n      amenities: [...selectedAmenities],\r\n    };\r\n    const saved = saveSearchToEngine(criteria);\r\n    if (saved) {\r\n      // Also update local state for UI\r\n      setSavedSearches(getSavedSearches());\r\n      alert('Search saved! You\\'ll be notified of new listings matching this criteria.');\r\n    }\r\n  };\r\n\r\n  const loadSearch = (s) => {\r\n    setSearchLocation(s.location);\r\n    setPriceRange(s.priceRange);\r\n    setSelectedAmenities(s.amenities);\r\n    setPaymentFilter(s.payment);\r\n    setSortBy(s.sort || 'newest');\r\n  };\r\n\r\n  const renderFiltersBox = () => (\r\n    <div className=\"filters-box\" aria-label=\"Filters panel\">\r\n      <div className=\"flex items-center gap-2 mb-2\">\r\n        <MapPin className=\"w-4 h-4 text-gray-400\" />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search location...\"\r\n          value={searchLocation}\r\n          onChange={(e) => setSearchLocation(e.target.value)}\r\n          className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-teal-600 focus:border-transparent\"\r\n          aria-label=\"Location search\"\r\n        />\r\n        {locationLoading && (\r\n          <span className=\"text-xs text-teal-600 animate-pulse\" aria-live=\"polite\">Loading...</span>\r\n        )}\r\n      </div>\r\n      <div className=\"flex flex-col gap-3\">\r\n        <div className=\"flex flex-col gap-1\">\r\n          <label className=\"text-xs font-semibold text-gray-600\">Price Range</label>\r\n          <div className=\"flex items-center gap-2 text-xs bg-gray-50 px-2 py-1 rounded border border-gray-200\">\r\n            <span>R{priceRange[0].toLocaleString()} - R{priceRange[1].toLocaleString()}</span>\r\n            <select\r\n              value={priceRange[0]}\r\n              onChange={(e) => setPriceRange([parseInt(e.target.value), priceRange[1]])}\r\n              className=\"bg-transparent border-l border-gray-300 pl-2 focus:outline-none\"\r\n              aria-label=\"Minimum price\"\r\n            >\r\n              <option value=\"0\">Min</option>\r\n              <option value=\"500\">R500</option>\r\n              <option value=\"1000\">R1000</option>\r\n              <option value=\"1500\">R1500</option>\r\n            </select>\r\n            <select\r\n              value={priceRange[1]}\r\n              onChange={(e) => setPriceRange([priceRange[0], parseInt(e.target.value)])}\r\n              className=\"bg-transparent border-l border-gray-300 pl-2 focus:outline-none\"\r\n              aria-label=\"Maximum price\"\r\n            >\r\n              <option value=\"10000\">R10,000</option>\r\n              <option value=\"5000\">R5,000</option>\r\n              <option value=\"3000\">R3,000</option>\r\n              <option value=\"2000\">R2,000</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-col gap-1\">\r\n          <label className=\"text-xs font-semibold text-gray-600\">Sort</label>\r\n          <select\r\n            value={sortBy}\r\n            onChange={(e) => setSortBy(e.target.value)}\r\n            className=\"text-sm bg-white border border-gray-300 px-2 py-1 rounded focus:ring-2 focus:ring-teal-600\"\r\n            aria-label=\"Sort order\"\r\n          >\r\n            <option value=\"newest\">Newest</option>\r\n            <option value=\"cheapest\">Cheapest</option>\r\n            <option value=\"expensive\">Most Expensive</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"flex flex-col gap-1\">\r\n          <label className=\"text-xs font-semibold text-gray-600\">Payment Method</label>\r\n          <select\r\n            value={paymentFilter}\r\n            onChange={(e) => setPaymentFilter(e.target.value)}\r\n            className=\"text-sm bg-white border border-gray-300 px-2 py-1 rounded focus:ring-2 focus:ring-teal-600\"\r\n            aria-label=\"Payment method\"\r\n          >\r\n            <option value=\"\">Any</option>\r\n            <option value=\"Bank and Cash\">Bank and Cash</option>\r\n            <option value=\"Cash Only\">Cash Only</option>\r\n            <option value=\"Bank Only\">Bank Only</option>\r\n          </select>\r\n        </div>\r\n            <div className=\"flex flex-col gap-1\">\r\n              <label className=\"text-xs font-semibold text-gray-600\">Saved Searches</label>\r\n              <div className=\"flex flex-wrap gap-1\">\r\n                {savedSearches.length === 0 && (\r\n                  <span className=\"text-[11px] text-gray-500\">None saved</span>\r\n                )}\r\n                {savedSearches.map(s => (\r\n                  <button\r\n                    key={s.id}\r\n                    type=\"button\"\r\n                    onClick={() => loadSearch(s)}\r\n                    className=\"px-2 py-1 rounded-md text-[11px] font-medium bg-purple-50 text-purple-700 border border-purple-200 hover:bg-purple-100\"\r\n                  >{s.location || 'Any'} â€¢ {s.priceRange[0]}-{s.priceRange[1]}</button>\r\n                ))}\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                onClick={saveCurrentSearch}\r\n                className=\"mt-1 text-xs text-purple-700 hover:text-purple-800 font-medium underline\"\r\n              >Save Current Search</button>\r\n            </div>\r\n        <div>\r\n          <label className=\"text-xs font-semibold text-gray-600 mb-1 block\">Amenities</label>\r\n          <div className=\"flex flex-wrap gap-1\">\r\n            {amenityOptions.map(a => (\r\n              <button\r\n                key={a}\r\n                type=\"button\"\r\n                onClick={() => toggleAmenity(a)}\r\n                className={`px-2 py-1 rounded-md text-[11px] font-medium border transition ${selectedAmenities.includes(a) ? 'bg-teal-600 text-white border-teal-600 shadow-sm' : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'}`}\r\n                aria-pressed={selectedAmenities.includes(a)}\r\n              >{a}</button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <button\r\n          onClick={() => setShowAdvancedFilters(!showAdvancedFilters)}\r\n          className=\"mt-2 text-xs text-teal-700 hover:text-teal-800 font-semibold px-2 py-1 rounded hover:bg-teal-50 transition\"\r\n          aria-expanded={showAdvancedFilters}\r\n        >{showAdvancedFilters ? 'Close Advanced' : 'More Filters'}</button>\r\n        {showAdvancedFilters && (\r\n          <div className=\"mt-2 p-2 bg-gray-50 border border-gray-200 rounded\" aria-label=\"Advanced filters\"><p className=\"text-xs text-gray-600\">(Advanced filters placeholder)</p></div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Desktop layout\r\n  if (isDesktop) {\r\n    return (\r\n      <div className=\"bg-gradient-to-b from-slate-50 to-gray-100 min-h-screen pb-4\" aria-labelledby=\"results-heading\">\r\n        <div className=\"layout-desktop\">\r\n          <aside className=\"sidebar-nav\" role=\"navigation\" aria-label=\"Desktop navigation and filters\">\r\n            <div>\r\n              <h2 className=\"text-xl font-bold flex items-center gap-2 mb-4\"><span className=\"bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent\">Room</span><span className=\"text-amber-500\">24</span></h2>\r\n              <div className=\"sidebar-section-title mb-2\">Navigation</div>\r\n              <div className=\"sidebar-menu\">\r\n                {desktopNavItems.filter(i => i.show === undefined || i.show).map(item => {\r\n                  const Icon = item.icon;\r\n                  const isActive = item.id === 'browse';\r\n                  return (\r\n                    <button\r\n                      key={item.id}\r\n                      onClick={() => setCurrentView(item.id)}\r\n                      className={isActive ? 'active' : ''}\r\n                      aria-label={item.label}\r\n                    >\r\n                      <Icon className=\"w-4 h-4\" /> {item.label}\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <div className=\"sidebar-section-title mb-2\">Filters</div>\r\n              {renderFiltersBox()}\r\n            </div>\r\n            {/* Sidebar Ad */}\r\n            <SidebarAd />\r\n            {!currentUser && (\r\n              <div className=\"mt-auto pt-4 border-t border-gray-200\">\r\n                <p className=\"text-xs text-gray-500 mb-2\">Join to list rooms.</p>\r\n                <div className=\"flex gap-2\">\r\n                  <button onClick={() => onRequireAuth && onRequireAuth('renter')} className=\"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 text-xs py-2 rounded\">Sign In</button>\r\n                  <button onClick={() => onRequireAuth && onRequireAuth('landlord')} className=\"flex-1 bg-red-500 hover:bg-red-600 text-white text-xs py-2 rounded\">List Room</button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </aside>\r\n          <main className=\"desktop-split\" role=\"main\">\r\n            <div className=\"list-pane\">\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h2 id=\"results-heading\" className=\"text-lg font-semibold text-gray-800\">{listings.length === 0 ? 'No rooms' : `${listings.length} rooms`}</h2>\r\n              </div>\r\n              {renderFilterChips()}\r\n              {initialLoad ? (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6\" aria-label=\"Loading listings\">\r\n                  {Array.from({ length: 8 }).map((_, i) => <ListingSkeletonCard key={i} />)}\r\n                </div>\r\n              ) : (\r\n                (paymentFilter ? listings.filter(l => l.paymentMethod === paymentFilter) : listings).length === 0 ? (\r\n                  <div className=\"bg-white border border-gray-200 rounded-lg p-8 text-center\"><p className=\"text-gray-600 text-sm\">No rooms match your filters.</p></div>\r\n                ) : (\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6\">\r\n                    {(paymentFilter ? listings.filter(l => l.paymentMethod === paymentFilter) : listings).map((listing, idx) => (\r\n                      <React.Fragment key={listing.id}>\r\n                        <ListingCard listing={listing} onClick={() => onSelectListing(listing)} />\r\n                        {(idx + 1) % 6 === 0 && idx !== listings.length - 1 && (\r\n                          <div className=\"md:col-span-2 xl:col-span-3 2xl:col-span-4\">\r\n                            <InFeedAd />\r\n                          </div>\r\n                        )}\r\n                      </React.Fragment>\r\n                    ))}\r\n                  </div>\r\n                )\r\n              )}\r\n            </div>\r\n          </main>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Mobile / tablet layout\r\n  return (\r\n    <div className=\"bg-gradient-to-b from-slate-50 to-gray-100 min-h-screen pb-24\" role=\"main\" aria-labelledby=\"results-heading\">\r\n      <div className=\"bg-white/80 backdrop-blur-sm border-b border-gray-100 shadow-sm\">\r\n        <div className=\"max-w-7xl mx-auto px-4 py-6\">\r\n          <div className=\"mb-4 space-y-3\">\r\n            <div className=\"relative\">\r\n              <MapPin className=\"absolute left-3 top-3.5 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search by location, suburb, or area...\"\r\n                value={searchLocation}\r\n                onChange={(e) => setSearchLocation(e.target.value)}\r\n                className=\"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-xl text-gray-700 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 shadow-sm transition-all duration-200 hover:border-gray-400\"\r\n                aria-label=\"Location search\"\r\n              />\r\n              {locationLoading && (\r\n                <div className=\"absolute right-3 top-3 flex items-center gap-1 text-teal-600\" aria-live=\"polite\">\r\n                  <div className=\"w-4 h-4 border-2 border-teal-500 border-t-transparent rounded-full animate-spin\" />\r\n                </div>\r\n              )}\r\n              {!locationLoading && searchLocation && (\r\n                <button \r\n                  onClick={() => { setSearchLocation(''); setLocationSuggestions([]); }}\r\n                  className=\"absolute right-3 top-3 p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors\"\r\n                  aria-label=\"Clear search\"\r\n                >\r\n                  <span className=\"text-lg\">Ã—</span>\r\n                </button>\r\n              )}\r\n              {locationSuggestions.length > 0 && (\r\n                <div className=\"absolute left-0 right-0 top-full mt-2 bg-white border border-gray-200 rounded-xl shadow-lg z-20 overflow-hidden animate-fadeIn\">\r\n                  <div className=\"text-xs text-gray-500 px-3 py-2 bg-gray-50 border-b border-gray-100 font-medium\">ðŸ“ Suggestions</div>\r\n                  {locationSuggestions.map((s, i) => (\r\n                    <button\r\n                      key={s}\r\n                      type=\"button\"\r\n                      onClick={() => { setSearchLocation(s); setLocationSuggestions([]); }}\r\n                      className={`w-full text-left px-4 py-2.5 text-sm hover:bg-teal-50 flex items-center gap-2 transition-colors ${i > 0 ? 'border-t border-gray-50' : ''}`}\r\n                    >\r\n                      <MapPin className=\"w-3.5 h-3.5 text-teal-500 flex-shrink-0\" />\r\n                      <span className=\"text-gray-700\">{s}</span>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"flex flex-wrap items-center gap-2\">\r\n              <button className=\"bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700 text-white px-5 py-2.5 rounded-xl transition-all duration-200 font-semibold shadow-md hover:shadow-lg text-sm flex items-center gap-2 active:scale-95\" onClick={() => {}} aria-label=\"Search submit\">\r\n              <Search className=\"w-4 h-4\" />\r\n              Search\r\n            </button>\r\n              <button\r\n                onClick={() => {\r\n                  if (!searchLocation || searchLocation.trim() === '') {\r\n                    alert('Enter a location to subscribe.');\r\n                    return;\r\n                  }\r\n                  if (!currentUser) {\r\n                    onRequireAuth && onRequireAuth('renter');\r\n                    return;\r\n                  }\r\n                  subscribeToArea && subscribeToArea(currentUser.id, searchLocation.trim());\r\n                }}\r\n                className=\"bg-white border border-gray-200 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-50 transition text-sm\"\r\n              >Subscribe</button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={saveCurrentSearch}\r\n                className=\"bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg text-sm font-semibold shadow-sm\"\r\n              >Save Search</button>\r\n            </div>\r\n            {savedSearches.length > 0 && (\r\n              <div className=\"flex flex-wrap gap-1 mb-2\" aria-label=\"Saved searches\">\r\n                {savedSearches.map(s => (\r\n                  <button\r\n                    key={s.id}\r\n                    type=\"button\"\r\n                    onClick={() => loadSearch(s)}\r\n                    className=\"text-[11px] px-2 py-1 rounded bg-purple-50 text-purple-700 border border-purple-200\"\r\n                  >{s.location || 'Any'} â€¢ {s.priceRange[0]}-{s.priceRange[1]}</button>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"flex gap-2 mb-3 flex-wrap items-center\">\r\n            <div className=\"flex items-center gap-2 bg-gray-50 px-3 py-2 rounded-lg border border-gray-200\">\r\n              <span className=\"text-sm text-gray-600 font-medium\">R{priceRange[0].toLocaleString()} - R{priceRange[1].toLocaleString()}</span>\r\n              <select\r\n                value={priceRange[0]}\r\n                onChange={(e) => setPriceRange([parseInt(e.target.value), priceRange[1]])}\r\n                className=\"text-xs bg-transparent border-l border-gray-300 pl-2 text-gray-600 focus:outline-none\"\r\n                aria-label=\"Minimum price\"\r\n              >\r\n                <option value=\"0\">Min</option>\r\n                <option value=\"500\">R500</option>\r\n                <option value=\"1000\">R1000</option>\r\n                <option value=\"1500\">R1500</option>\r\n              </select>\r\n              <select\r\n                value={priceRange[1]}\r\n                onChange={(e) => setPriceRange([priceRange[0], parseInt(e.target.value)])}\r\n                className=\"text-xs bg-transparent border-l border-gray-300 pl-2 text-gray-600 focus:outline-none\"\r\n                aria-label=\"Maximum price\"\r\n              >\r\n                <option value=\"10000\">R10k</option>\r\n                <option value=\"5000\">R5k</option>\r\n                <option value=\"3000\">R3k</option>\r\n                <option value=\"2000\">R2k</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-sm text-gray-600\">Sort:</span>\r\n              <select\r\n                value={sortBy}\r\n                onChange={(e) => setSortBy(e.target.value)}\r\n                className=\"text-sm bg-gray-50 border border-gray-200 px-3 py-2 rounded-lg text-gray-700 focus:ring-2 focus:ring-teal-600\"\r\n                aria-label=\"Sort order\"\r\n              >\r\n                <option value=\"newest\">Newest</option>\r\n                <option value=\"cheapest\">Cheapest</option>\r\n                <option value=\"expensive\">Most Expensive</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-sm text-gray-600\">Payment:</span>\r\n              <select\r\n                value={paymentFilter}\r\n                onChange={(e) => setPaymentFilter(e.target.value)}\r\n                className=\"text-sm bg-gray-50 border border-gray-200 px-3 py-2 rounded-lg text-gray-700 focus:ring-2 focus:ring-teal-600\"\r\n                aria-label=\"Payment method filter\"\r\n              >\r\n                <option value=\"\">Any</option>\r\n                <option value=\"Bank and Cash\">Bank & Cash</option>\r\n                <option value=\"Cash Only\">Cash Only</option>\r\n                <option value=\"Bank Only\">Bank Only</option>\r\n              </select>\r\n            </div>\r\n            <button\r\n              onClick={() => setShowAdvancedFilters(!showAdvancedFilters)}\r\n              className=\"text-sm text-teal-700 hover:text-teal-800 font-medium px-3 py-2 rounded-lg hover:bg-teal-50 transition\"\r\n              aria-expanded={showAdvancedFilters}\r\n            >{showAdvancedFilters ? 'âœ• Filters' : 'âš™ï¸ Filters'}</button>\r\n          </div>\r\n          {showAdvancedFilters && (\r\n            <div className=\"mt-3 p-4 bg-gray-50 rounded-lg border border-gray-200 space-y-4\">\r\n              {/* Room Type */}\r\n              <div>\r\n                <label className=\"text-xs font-semibold text-gray-700 mb-2 block\">Room Type</label>\r\n                <div className=\"flex gap-2\">\r\n                  {['Private', 'Shared'].map(type => (\r\n                    <button\r\n                      key={type}\r\n                      onClick={() => setRoomType(roomType === type.toLowerCase() ? '' : type.toLowerCase())}\r\n                      className={`px-3 py-1.5 rounded-md text-sm font-medium border transition ${ \r\n                        roomType === type.toLowerCase()\r\n                          ? 'bg-teal-600 text-white border-teal-600 shadow-sm'\r\n                          : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\r\n                      }`}\r\n                    >{type}</button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Lease Duration */}\r\n              <div>\r\n                <label className=\"text-xs font-semibold text-gray-700 mb-2 block\">Lease Duration (months)</label>\r\n                <div className=\"flex gap-2 flex-wrap\">\r\n                  {[\r\n                    { label: '1-3', value: '1-3' },\r\n                    { label: '4-6', value: '4-6' },\r\n                    { label: '7-12', value: '7-12' },\r\n                    { label: '12+', value: '12+' }\r\n                  ].map(opt => (\r\n                    <button\r\n                      key={opt.value}\r\n                      onClick={() => setLeaseDuration(leaseDuration === opt.value ? '' : opt.value)}\r\n                      className={`px-3 py-1.5 rounded-md text-sm font-medium border transition ${\r\n                        leaseDuration === opt.value\r\n                          ? 'bg-teal-600 text-white border-teal-600 shadow-sm'\r\n                          : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\r\n                      }`}\r\n                    >{opt.label}</button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Pet Friendly */}\r\n              <div>\r\n                <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={petFriendly}\r\n                    onChange={(e) => setPetFriendly(e.target.checked)}\r\n                    className=\"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500\"\r\n                  />\r\n                  <span className=\"text-sm font-medium text-gray-700\">ðŸ¾ Pet Friendly</span>\r\n                </label>\r\n              </div>\r\n\r\n              {/* Gender Preference */}\r\n              <div>\r\n                <label className=\"text-xs font-semibold text-gray-700 mb-2 block\">Gender Preference</label>\r\n                <div className=\"flex gap-2\">\r\n                  {[\r\n                    { label: 'Male', value: 'male' },\r\n                    { label: 'Female', value: 'female' },\r\n                    { label: 'Any', value: 'any' }\r\n                  ].map(opt => (\r\n                    <button\r\n                      key={opt.value}\r\n                      onClick={() => setGenderPreference(genderPreference === opt.value ? '' : opt.value)}\r\n                      className={`px-3 py-1.5 rounded-md text-sm font-medium border transition ${\r\n                        genderPreference === opt.value\r\n                          ? 'bg-teal-600 text-white border-teal-600 shadow-sm'\r\n                          : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\r\n                      }`}\r\n                    >{opt.label}</button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Amenities */}\r\n              <div>\r\n                <label className=\"text-xs font-semibold text-gray-700 mb-2 block\">Amenities</label>\r\n                <div className=\"flex flex-wrap gap-1\" aria-label=\"Amenities\">\r\n                  {amenityOptions.map(a => (\r\n                    <button\r\n                      key={a}\r\n                      type=\"button\"\r\n                      onClick={() => toggleAmenity(a)}\r\n                      className={`px-2 py-1 rounded-md text-[11px] font-medium border transition ${selectedAmenities.includes(a) ? 'bg-teal-600 text-white border-teal-600 shadow-sm' : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'}`}\r\n                      aria-pressed={selectedAmenities.includes(a)}\r\n                    >{a}</button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {renderFilterChips()}\r\n        </div>\r\n      </div>\r\n      {/* Mobile Banner Ad */}\r\n      <div className=\"max-w-7xl mx-auto px-4 pt-3\">\r\n        <InFeedAd />\r\n      </div>\r\n      <div className=\"max-w-7xl mx-auto px-4\">\r\n        <div className=\"flex justify-between items-center mt-4 mb-4\">\r\n          <h2 id=\"results-heading\" className=\"text-2xl font-bold text-gray-800\">\r\n            {listings.length === 0 ? (\r\n              'No rooms available'\r\n            ) : (\r\n              <span className=\"flex items-center gap-2\">\r\n                <span className=\"bg-gradient-to-r from-teal-500 to-cyan-500 text-white text-lg font-bold px-3 py-1 rounded-lg shadow-sm\">{listings.length}</span>\r\n                <span>Rooms Available</span>\r\n              </span>\r\n            )}\r\n          </h2>\r\n        </div>\r\n        {initialLoad ? (\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-12 justify-items-center\" aria-label=\"Loading listings\">\r\n            {Array.from({ length: 8 }).map((_, i) => <ListingSkeletonCard key={i} />)}\r\n          </div>\r\n        ) : (\r\n          (paymentFilter ? listings.filter(l => l.paymentMethod === paymentFilter) : listings).length === 0 ? (\r\n            <div className=\"bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl border-2 border-dashed border-gray-300 p-16 text-center\">\r\n              <div className=\"bg-white w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg\">\r\n                <Search className=\"w-12 h-12 text-gray-400\" />\r\n              </div>\r\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-3\">No Rooms Found</h3>\r\n              <p className=\"text-gray-600 mb-2\">We couldn't find any rooms matching your criteria</p>\r\n              <p className=\"text-gray-500 text-sm mb-8 max-w-md mx-auto\">\r\n                Try adjusting your filters, expanding your search area, or checking back later for new listings\r\n              </p>\r\n              <div className=\"flex flex-col sm:flex-row gap-3 justify-center items-center\">\r\n                <button\r\n                  onClick={() => {\r\n                    setSearchLocation('');\r\n                    setPriceRange([0, 10000]);\r\n                    setSelectedAmenities([]);\r\n                    setSortBy('newest');\r\n                    setRoomType('');\r\n                    setLeaseDuration('');\r\n                    setPetFriendly(false);\r\n                    setGenderPreference('');\r\n                    setPaymentFilter('');\r\n                  }}\r\n                  className=\"inline-flex items-center gap-2 bg-teal-600 hover:bg-teal-700 text-white font-medium px-6 py-2.5 rounded-lg transition shadow-sm\"\r\n                >\r\n                  Clear All Filters\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-12 justify-items-center\">\r\n              {(paymentFilter ? listings.filter(l => l.paymentMethod === paymentFilter) : listings).map((listing, idx) => (\r\n                <React.Fragment key={listing.id}>\r\n                  <ListingCard\r\n                    listing={listing}\r\n                    onClick={() => onSelectListing(listing)}\r\n                    isFavorite={favorites.includes(listing.id)}\r\n                    onToggleFavorite={toggleFavorite}\r\n                  />\r\n                  {(idx + 1) % 8 === 0 && idx !== listings.length - 1 && (\r\n                    <div className=\"sm:col-span-2 lg:col-span-3 xl:col-span-4\">\r\n                      <InFeedAd />\r\n                    </div>\r\n                  )}\r\n                </React.Fragment>\r\n              ))}\r\n            </div>\r\n          )\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}