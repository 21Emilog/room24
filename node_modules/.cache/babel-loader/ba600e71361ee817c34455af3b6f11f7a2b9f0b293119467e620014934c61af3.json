{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kutum\\\\Documents\\\\room-rental-platform\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { initFirebase, initAnalytics, requestFcmToken, listenForegroundMessages, trackEvent } from './firebase';\nimport { MapContainer, TileLayer, Marker } from 'react-leaflet';\nimport { Home, PlusCircle, Search, MapPin, X, User, Phone, Mail, Edit, CheckCircle } from 'lucide-react';\nimport Header from './components/Header';\nimport ListingDetailModal from './components/ListingDetailModal';\nimport Footer from './components/Footer';\nimport BrowseView from './components/BrowseView';\nimport PrivacyPolicyModal from './components/PrivacyPolicyModal';\nimport NotificationBanner from './components/NotificationBanner';\nimport AnalyticsConsentModal from './components/AnalyticsConsentModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RentalPlatform() {\n  _s();\n  const [currentView, setCurrentView] = useState('browse');\n  const [mapView, setMapView] = useState(false);\n  const [userType, setUserType] = useState(null);\n  const [previewAsRenter, setPreviewAsRenter] = useState(false); // landlord UI preview toggle\n  const [listings, setListings] = useState([]);\n  const [selectedListing, setSelectedListing] = useState(null);\n  const [users, setUsers] = useState([]); // registry of all users (localStorage 'users')\n  const [searchLocation, setSearchLocation] = useState('');\n  const [priceRange, setPriceRange] = useState([0, 10000]);\n  const [selectedAmenities, setSelectedAmenities] = useState([]);\n  const [sortBy, setSortBy] = useState('newest');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [showAuthModal, setShowAuthModal] = useState(false);\n  const [authDefaultType, setAuthDefaultType] = useState('renter');\n  const [nearbyMode, setNearbyMode] = useState(false);\n  const [nearbyRadius, setNearbyRadius] = useState(5); // km\n  const [userLocation, setUserLocation] = useState(null);\n  const [nearbyStatus, setNearbyStatus] = useState('');\n  const [showLocationConsent, setShowLocationConsent] = useState(false);\n  // Mobile menu state moved into Header component\n  const [toast, setToast] = useState(null);\n  const [showPrivacyPolicy, setShowPrivacyPolicy] = useState(false);\n  const [notificationBanner, setNotificationBanner] = useState(null);\n  const [showAnalyticsConsent, setShowAnalyticsConsent] = useState(false);\n  const openAuthModal = (type = 'renter') => {\n    setAuthDefaultType(type);\n    setShowAuthModal(true);\n  };\n  useEffect(() => {\n    loadData();\n    // Initialize Firebase + FCM token fetch (deferred until user interaction if desired)\n    const app = initFirebase();\n\n    // Check analytics consent and show modal if not set\n    const analyticsConsent = localStorage.getItem('analytics-consent');\n    if (!analyticsConsent && process.env.REACT_APP_ENABLE_ANALYTICS === 'true') {\n      // Delay modal slightly so UI loads first\n      setTimeout(() => setShowAnalyticsConsent(true), 2000);\n    } else if (analyticsConsent === 'yes') {\n      initAnalytics(app);\n    }\n    (async () => {\n      try {\n        const token = await requestFcmToken();\n        if (token) {\n          console.log('Obtained FCM token:', token);\n          trackEvent('fcm_token_obtained');\n        }\n      } catch (e) {\n        console.warn('FCM token request failed', e);\n      }\n    })();\n    listenForegroundMessages(payload => {\n      // Display notification banner instead of toast\n      const notification = (payload === null || payload === void 0 ? void 0 : payload.notification) || {};\n      if (notification.title || notification.body) {\n        setNotificationBanner({\n          title: notification.title,\n          body: notification.body\n        });\n        // Auto-dismiss after 8 seconds\n        setTimeout(() => setNotificationBanner(null), 8000);\n      }\n    });\n  }, []);\n\n  // Guard: if someone navigates to 'add' without landlord auth, prompt to sign in\n  useEffect(() => {\n    if (currentView === 'add') {\n      if (!currentUser) {\n        openAuthModal('landlord');\n        setCurrentView('browse');\n      } else if (userType !== 'landlord') {\n        // Not a landlord - prompt to become one\n        openAuthModal('landlord');\n        setCurrentView('browse');\n      } else if (!currentUser.landlordComplete) {\n        // Landlord but hasn't completed onboarding\n        setCurrentView('landlord-onboarding');\n      }\n    }\n  }, [currentView, currentUser, userType]);\n  const loadData = async () => {\n    try {\n      const listingsResult = localStorage.getItem('listings');\n      const userResult = localStorage.getItem('current-user');\n      const usersResult = localStorage.getItem('users');\n      if (listingsResult) setListings(JSON.parse(listingsResult));\n      if (userResult) {\n        const user = JSON.parse(userResult);\n        setCurrentUser(user);\n        setUserType(user.type);\n      }\n      if (usersResult) {\n        try {\n          const parsed = JSON.parse(usersResult);\n          setUsers(Array.isArray(parsed) ? parsed : []);\n        } catch (e) {\n          console.warn('Corrupt users array in storage, resetting');\n          setUsers([]);\n        }\n      }\n    } catch (error) {\n      console.log('No existing data found, starting fresh');\n      // Add sample listings for testing the map\n      const sampleListings = [{\n        id: 'listing-1',\n        title: 'Cozy Room in Soweto',\n        price: 2500,\n        location: 'Soweto, Johannesburg',\n        description: 'Comfortable room with bathroom and kitchen access',\n        photos: [],\n        status: 'available',\n        availableDate: new Date().toISOString(),\n        amenities: ['WiFi', 'Kitchen'],\n        landlordId: 'landlord-1',\n        landlordName: 'John Smith',\n        landlordPhone: '+27 123 456 7890',\n        landlordEmail: 'john@example.com',\n        landlordPhoto: '',\n        createdAt: new Date().toISOString()\n      }, {\n        id: 'listing-2',\n        title: 'Modern Apartment in Sandton',\n        price: 4500,\n        location: 'Sandton, Johannesburg',\n        description: 'Luxurious apartment with parking and security',\n        photos: [],\n        status: 'available',\n        availableDate: new Date().toISOString(),\n        amenities: ['WiFi', 'Parking', 'Air Conditioning'],\n        landlordId: 'landlord-2',\n        landlordName: 'Jane Doe',\n        landlordPhone: '+27 987 654 3210',\n        landlordEmail: 'jane@example.com',\n        landlordPhoto: '',\n        createdAt: new Date().toISOString()\n      }, {\n        id: 'listing-3',\n        title: 'Studio in Midrand',\n        price: 3200,\n        location: 'Midrand, Johannesburg',\n        description: 'Spacious studio flat with laundry facilities',\n        photos: [],\n        status: 'available',\n        availableDate: new Date().toISOString(),\n        amenities: ['Laundry', 'WiFi'],\n        landlordId: 'landlord-3',\n        landlordName: 'Mike Johnson',\n        landlordPhone: '+27 555 555 5555',\n        landlordEmail: 'mike@example.com',\n        landlordPhoto: '',\n        createdAt: new Date().toISOString()\n      }];\n      setListings(sampleListings);\n    }\n  };\n\n  // Helper: check for duplicate phone or email in registry (exclude an optional user id)\n  const isDuplicateContact = (phone, email, ignoreId = null) => {\n    const normalizedPhone = (phone || '').trim();\n    const normalizedEmail = (email || '').trim().toLowerCase();\n    if (!users || users.length === 0) return false;\n    return users.some(u => {\n      if (ignoreId && u.id === ignoreId) return false;\n      const uPhone = (u.phone || '').trim();\n      const uEmail = (u.email || '').trim().toLowerCase();\n      const phoneMatch = normalizedPhone && uPhone && uPhone === normalizedPhone;\n      const emailMatch = normalizedEmail && uEmail && uEmail === normalizedEmail;\n      return phoneMatch || emailMatch;\n    });\n  };\n\n  // Haversine formula to compute distance in kilometers between two coords\n  const haversineDistance = (lat1, lon1, lat2, lon2) => {\n    const toRad = v => v * Math.PI / 180;\n    const R = 6371; // km\n    const dLat = toRad(lat2 - lat1);\n    const dLon = toRad(lon2 - lon1);\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  };\n  const handleFindNearby = () => {\n    if (!navigator.geolocation) {\n      setNearbyStatus('Geolocation not supported');\n      return;\n    }\n    // Show consent modal before accessing location\n    setShowLocationConsent(true);\n  };\n  const handleLocationConsentAccept = () => {\n    setShowLocationConsent(false);\n    setNearbyStatus('Locating...');\n    navigator.geolocation.getCurrentPosition(pos => {\n      const lat = pos.coords.latitude;\n      const lon = pos.coords.longitude;\n      setUserLocation({\n        lat,\n        lon\n      });\n      setNearbyMode(true);\n      setNearbyStatus('Nearby mode enabled');\n      setTimeout(() => setNearbyStatus(''), 2000);\n    }, err => {\n      console.error('Geolocation error', err);\n      setNearbyStatus('Could not get location');\n    }, {\n      enableHighAccuracy: true,\n      timeout: 10000\n    });\n  };\n  const clearNearby = () => {\n    setNearbyMode(false);\n    setUserLocation(null);\n    setNearbyStatus('');\n  };\n\n  // Toast notification helper\n  const showToast = (message, type = 'info', title = '') => {\n    setToast({\n      message,\n      type,\n      title\n    });\n    setTimeout(() => setToast(null), 5000);\n  };\n  const handleAnalyticsConsentAccept = () => {\n    localStorage.setItem('analytics-consent', 'yes');\n    setShowAnalyticsConsent(false);\n    const app = initFirebase();\n    initAnalytics(app);\n    trackEvent('analytics_consent_granted');\n    showToast('Analytics enabled', 'success', 'Thank you!');\n  };\n  const handleAnalyticsConsentDecline = () => {\n    localStorage.setItem('analytics-consent', 'no');\n    setShowAnalyticsConsent(false);\n    showToast('Analytics disabled', 'info');\n  };\n  const saveListings = async newListings => {\n    try {\n      localStorage.setItem('listings', JSON.stringify(newListings));\n      setListings(newListings);\n      // Broadcast to runtime service worker for offline snapshot caching\n      if (navigator.serviceWorker && navigator.serviceWorker.controller) {\n        try {\n          navigator.serviceWorker.controller.postMessage({\n            type: 'SYNC_LISTINGS',\n            payload: newListings\n          });\n        } catch {}\n      }\n    } catch (error) {\n      console.error('Error saving listings:', error);\n    }\n  };\n  const saveSubscriptions = async subscriptions => {\n    try {\n      localStorage.setItem('subscriptions', JSON.stringify(subscriptions));\n    } catch (error) {\n      console.error('Error saving subscriptions:', error);\n    }\n  };\n  const getSubscriptions = async () => {\n    try {\n      const res = localStorage.getItem('subscriptions');\n      return res ? JSON.parse(res) : {};\n    } catch (err) {\n      console.error('Error loading subscriptions', err);\n    }\n    return {};\n  };\n  const subscribeToArea = async (userId, area) => {\n    if (!userId) {\n      openAuthModal('renter');\n      return;\n    }\n    if (!area || area.trim() === '') {\n      alert('Please enter a location to subscribe to.');\n      return;\n    }\n    try {\n      const subs = await getSubscriptions();\n      subs[userId] = subs[userId] || [];\n      if (!subs[userId].includes(area)) {\n        subs[userId].push(area);\n        await saveSubscriptions(subs);\n        alert(`Subscribed to updates for ${area}`);\n      } else {\n        alert(`You are already subscribed to ${area}`);\n      }\n    } catch (err) {\n      console.error('Subscribe failed', err);\n      alert('Could not subscribe. Please try again.');\n    }\n  };\n  const handleProfileSetup = async profileData => {\n    try {\n      // Duplicate guard\n      if (isDuplicateContact(profileData.phone, profileData.email)) {\n        showToast('Phone or email already registered', 'error', 'Duplicate');\n        return;\n      }\n      const userId = `user-${Date.now()}`;\n      const user = {\n        id: userId,\n        type: userType,\n        ...profileData,\n        whatsapp: profileData.whatsapp || '',\n        notificationPrefs: {\n          updates: true,\n          marketing: false\n        },\n        createdAt: new Date().toISOString()\n      };\n      localStorage.setItem('current-user', JSON.stringify(user));\n      setCurrentUser(user);\n      // Update users registry\n      const existingUsersRaw = localStorage.getItem('users');\n      let existingUsers = [];\n      if (existingUsersRaw) {\n        try {\n          existingUsers = JSON.parse(existingUsersRaw);\n        } catch {\n          existingUsers = [];\n        }\n      }\n      existingUsers.push(user);\n      localStorage.setItem('users', JSON.stringify(existingUsers));\n      setUsers(existingUsers);\n      showToast('Profile created successfully!', 'success', 'Welcome!');\n      setCurrentView('browse');\n    } catch (error) {\n      console.error('Error saving profile:', error);\n      // Still set the user locally even if storage fails\n      const userId = `user-${Date.now()}`;\n      const user = {\n        id: userId,\n        type: userType,\n        ...profileData,\n        whatsapp: profileData.whatsapp || '',\n        createdAt: new Date().toISOString()\n      };\n      setCurrentUser(user);\n      const existingUsersRaw = localStorage.getItem('users');\n      let existingUsers = [];\n      if (existingUsersRaw) {\n        try {\n          existingUsers = JSON.parse(existingUsersRaw);\n        } catch {\n          existingUsers = [];\n        }\n      }\n      existingUsers.push(user);\n      try {\n        localStorage.setItem('users', JSON.stringify(existingUsers));\n      } catch {}\n      setUsers(existingUsers);\n      showToast('Profile created (data may not be persisted)', 'error');\n      setCurrentView('browse');\n    }\n  };\n  const handleUpdateProfile = async profileData => {\n    try {\n      // Duplicate guard (exclude current user id)\n      if (isDuplicateContact(profileData.phone, profileData.email, currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n        showToast('Phone or email already used by another account', 'error', 'Duplicate');\n        return;\n      }\n      const updatedUser = {\n        ...currentUser,\n        ...profileData\n      };\n      localStorage.setItem('current-user', JSON.stringify(updatedUser));\n      setCurrentUser(updatedUser);\n      // Update registry entry\n      const existingUsersRaw = localStorage.getItem('users');\n      let existingUsers = [];\n      if (existingUsersRaw) {\n        try {\n          existingUsers = JSON.parse(existingUsersRaw);\n        } catch {\n          existingUsers = [];\n        }\n      }\n      const idx = existingUsers.findIndex(u => u.id === updatedUser.id);\n      if (idx !== -1) {\n        existingUsers[idx] = updatedUser;\n      } else {\n        existingUsers.push(updatedUser); // ensure presence\n      }\n      localStorage.setItem('users', JSON.stringify(existingUsers));\n      setUsers(existingUsers);\n      showToast('Profile updated successfully!', 'success');\n      setCurrentView('browse');\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      const updatedUser = {\n        ...currentUser,\n        ...profileData\n      };\n      setCurrentUser(updatedUser);\n      const existingUsersRaw = localStorage.getItem('users');\n      let existingUsers = [];\n      if (existingUsersRaw) {\n        try {\n          existingUsers = JSON.parse(existingUsersRaw);\n        } catch {\n          existingUsers = [];\n        }\n      }\n      const idx = existingUsers.findIndex(u => u.id === updatedUser.id);\n      if (idx !== -1) {\n        existingUsers[idx] = updatedUser;\n      } else {\n        existingUsers.push(updatedUser);\n      }\n      try {\n        localStorage.setItem('users', JSON.stringify(existingUsers));\n      } catch {}\n      setUsers(existingUsers);\n      showToast('Profile updated (data may not be persisted)', 'error');\n      setCurrentView('browse');\n    }\n  };\n  const handleQuickAuth = async profileData => {\n    // Lightweight auth (used by AuthModal) - create and persist a user\n    try {\n      if (isDuplicateContact(profileData.phone, profileData.email)) {\n        showToast('Phone or email already registered', 'error', 'Duplicate');\n        return;\n      }\n      const userId = `user-${Date.now()}`;\n      const user = {\n        id: userId,\n        type: profileData.type || 'renter',\n        name: profileData.name,\n        phone: profileData.phone || '',\n        email: profileData.email || '',\n        photo: profileData.photo || '',\n        notificationPrefs: {\n          updates: true,\n          marketing: false\n        },\n        createdAt: new Date().toISOString()\n      };\n      localStorage.setItem('current-user', JSON.stringify(user));\n      setCurrentUser(user);\n      setUserType(user.type);\n      // registry update\n      const existingUsersRaw = localStorage.getItem('users');\n      let existingUsers = [];\n      if (existingUsersRaw) {\n        try {\n          existingUsers = JSON.parse(existingUsersRaw);\n        } catch {\n          existingUsers = [];\n        }\n      }\n      existingUsers.push(user);\n      localStorage.setItem('users', JSON.stringify(existingUsers));\n      setUsers(existingUsers);\n      setShowAuthModal(false);\n      // If landlord, route to onboarding to complete setup before posting\n      if (user.type === 'landlord') {\n        setCurrentView('landlord-onboarding');\n      } else {\n        setCurrentView('browse');\n      }\n    } catch (err) {\n      console.error('Auth failed', err);\n    }\n  };\n\n  // Sign out helper so you can re-auth as renter for perspective preview\n  const handleSignOut = () => {\n    try {\n      localStorage.removeItem('current-user');\n    } catch (e) {\n      console.warn('Could not clear localStorage current-user');\n    }\n    setCurrentUser(null);\n    setUserType(null);\n    setCurrentView('browse');\n    showToast('Signed out. You can now sign in as Renter.', 'info');\n  };\n  const handleCompleteOnboarding = async onboardData => {\n    try {\n      const updated = {\n        ...currentUser,\n        landlordComplete: true,\n        landlordInfo: onboardData\n      };\n      localStorage.setItem('current-user', JSON.stringify(updated));\n      setCurrentUser(updated);\n      setCurrentView('browse');\n    } catch (err) {\n      console.error('Onboarding save failed', err);\n      setCurrentUser({\n        ...currentUser,\n        landlordComplete: true,\n        landlordInfo: onboardData\n      });\n      setCurrentView('browse');\n    }\n  };\n  const handleAddListing = async listingData => {\n    var _listingData$latitude, _listingData$longitud;\n    const newListing = {\n      id: `listing-${Date.now()}`,\n      title: listingData.title,\n      price: listingData.price,\n      location: listingData.location,\n      description: listingData.description,\n      photos: listingData.photos || [],\n      status: listingData.status || 'available',\n      availableDate: listingData.availableDate || new Date().toISOString(),\n      amenities: listingData.amenities || [],\n      latitude: (_listingData$latitude = listingData.latitude) !== null && _listingData$latitude !== void 0 ? _listingData$latitude : null,\n      longitude: (_listingData$longitud = listingData.longitude) !== null && _listingData$longitud !== void 0 ? _listingData$longitud : null,\n      paymentMethod: listingData.paymentMethod || 'Bank and Cash',\n      premium: !!listingData.premium,\n      landlordId: currentUser.id,\n      landlordName: currentUser.name,\n      landlordPhone: currentUser.phone,\n      landlordEmail: currentUser.email,\n      landlordPhoto: currentUser.photo,\n      createdAt: new Date().toISOString()\n    };\n    const updatedListings = [...listings, newListing];\n    await saveListings(updatedListings);\n    showToast('Listing created successfully!', 'success', 'Success!');\n    setCurrentView('browse');\n    // Scroll to top to see new listing\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n\n  // Messaging removed\n\n  const filteredListings = listings.map(listing => {\n    // attach distance if we have userLocation\n    if (userLocation && listing.latitude != null && listing.longitude != null) {\n      const d = haversineDistance(userLocation.lat, userLocation.lon, listing.latitude, listing.longitude);\n      return {\n        ...listing,\n        __distanceKm: d\n      };\n    }\n    if (userLocation && (listing.latitude == null || listing.longitude == null)) {\n      // try to geocode-less accurate: leave distance undefined\n      return {\n        ...listing\n      };\n    }\n    return {\n      ...listing\n    };\n  }).filter(listing => {\n    const matchesLocation = !searchLocation || (listing.location || '').toLowerCase().includes(searchLocation.toLowerCase());\n    const price = parseFloat(listing.price);\n    const matchesPrice = price >= priceRange[0] && price <= priceRange[1];\n    const matchesAmenities = selectedAmenities.length === 0 || selectedAmenities.every(amenity => {\n      var _listing$amenities;\n      return (_listing$amenities = listing.amenities) === null || _listing$amenities === void 0 ? void 0 : _listing$amenities.includes(amenity);\n    });\n    let passesNearby = true;\n    if (nearbyMode && userLocation) {\n      // require listing to have coordinates to be included\n      if (listing.latitude != null && listing.longitude != null) {\n        var _listing$__distanceKm;\n        const d = (_listing$__distanceKm = listing.__distanceKm) !== null && _listing$__distanceKm !== void 0 ? _listing$__distanceKm : haversineDistance(userLocation.lat, userLocation.lon, listing.latitude, listing.longitude);\n        passesNearby = d <= nearbyRadius;\n      } else {\n        passesNearby = false;\n      }\n    }\n    return matchesLocation && matchesPrice && matchesAmenities && passesNearby;\n  }).sort((a, b) => {\n    if (a.premium && !b.premium) return -1;\n    if (!a.premium && b.premium) return 1;\n    if (nearbyMode && userLocation) {\n      var _a$__distanceKm, _b$__distanceKm;\n      const da = (_a$__distanceKm = a.__distanceKm) !== null && _a$__distanceKm !== void 0 ? _a$__distanceKm : Infinity;\n      const db = (_b$__distanceKm = b.__distanceKm) !== null && _b$__distanceKm !== void 0 ? _b$__distanceKm : Infinity;\n      return da - db;\n    }\n    if (sortBy === 'newest') {\n      return new Date(b.createdAt) - new Date(a.createdAt);\n    } else if (sortBy === 'cheapest') {\n      return parseFloat(a.price) - parseFloat(b.price);\n    } else if (sortBy === 'expensive') {\n      return parseFloat(b.price) - parseFloat(a.price);\n    }\n    return 0;\n  });\n\n  // Allow guests to land on Browse by default. If userType isn't set,\n  // show a gentle callout in the header (below) so users can pick a role\n  // when they want to post or set up their profile.\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"#main-content\",\n      className: \"absolute left-2 top-2 -translate-y-full focus:translate-y-0 transition bg-blue-600 text-white px-3 py-2 rounded shadow\",\n      style: {\n        clipPath: 'inset(0)',\n        zIndex: 1000\n      },\n      children: \"Skip to main content\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Header, {\n      currentUser: currentUser,\n      previewAsRenter: previewAsRenter,\n      setPreviewAsRenter: setPreviewAsRenter,\n      openAuthModal: openAuthModal,\n      handleSignOut: handleSignOut,\n      setCurrentView: setCurrentView\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 7\n    }, this), previewAsRenter && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.type) === 'landlord' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-indigo-50 border-b border-indigo-200 text-indigo-700 text-xs py-1 text-center\",\n      role: \"status\",\n      \"aria-live\": \"polite\",\n      children: \"Renter preview mode: interactions are read-only. Toggle off to resume landlord actions.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 9\n    }, this), notificationBanner && /*#__PURE__*/_jsxDEV(NotificationBanner, {\n      title: notificationBanner.title,\n      body: notificationBanner.body,\n      onClose: () => setNotificationBanner(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 599,\n      columnNumber: 9\n    }, this), toast && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed top-20 right-4 z-50 bg-white border-l-4 ${toast.type === 'success' ? 'border-green-500' : toast.type === 'error' ? 'border-red-500' : 'border-blue-500'} rounded shadow-lg p-4 animate-slideInRight flex items-start gap-3 max-w-sm`,\n      children: [toast.type === 'success' && /*#__PURE__*/_jsxDEV(CheckCircle, {\n        className: \"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 613,\n        columnNumber: 40\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [toast.title && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-semibold text-gray-800 mb-1\",\n          children: toast.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: toast.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setToast(null),\n        className: \"text-gray-400 hover:text-gray-600\",\n        \"aria-label\": \"Close notification\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 608,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"main-content\",\n      className: \"max-w-6xl mx-auto pb-20\",\n      role: \"main\",\n      children: [currentView === 'setup-profile' && /*#__PURE__*/_jsxDEV(ProfileSetupView, {\n        onSubmit: handleProfileSetup,\n        userType: userType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 11\n      }, this), currentView === 'profile' && currentUser && /*#__PURE__*/_jsxDEV(ProfileView, {\n        user: currentUser,\n        onEdit: () => setCurrentView('edit-profile'),\n        onUpdatePrefs: prefs => {\n          const updated = {\n            ...currentUser,\n            notificationPrefs: prefs\n          };\n          setCurrentUser(updated);\n          try {\n            localStorage.setItem('current-user', JSON.stringify(updated));\n            // update registry\n            const raw = localStorage.getItem('users');\n            if (raw) {\n              try {\n                const arr = JSON.parse(raw);\n                const idx = arr.findIndex(u => u.id === updated.id);\n                if (idx !== -1) {\n                  arr[idx] = updated;\n                  localStorage.setItem('users', JSON.stringify(arr));\n                }\n              } catch {}\n            }\n          } catch {}\n          showToast('Preferences updated', 'success');\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 11\n      }, this), currentView === 'edit-profile' && currentUser && /*#__PURE__*/_jsxDEV(EditProfileView, {\n        user: currentUser,\n        onSubmit: handleUpdateProfile,\n        onCancel: () => setCurrentView('profile')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 658,\n        columnNumber: 11\n      }, this), currentView === 'landlord-onboarding' && currentUser && userType === 'landlord' && /*#__PURE__*/_jsxDEV(LandlordOnboardingView, {\n        onComplete: handleCompleteOnboarding,\n        onCancel: () => setCurrentView('browse'),\n        currentUser: currentUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 11\n      }, this), currentView === 'browse' && /*#__PURE__*/_jsxDEV(BrowseView, {\n        listings: filteredListings,\n        searchLocation: searchLocation,\n        setSearchLocation: setSearchLocation,\n        priceRange: priceRange,\n        setPriceRange: setPriceRange,\n        selectedAmenities: selectedAmenities,\n        setSelectedAmenities: setSelectedAmenities,\n        sortBy: sortBy,\n        setSortBy: setSortBy,\n        mapView: mapView,\n        setMapView: setMapView,\n        onSelectListing: setSelectedListing,\n        setCurrentView: setCurrentView,\n        currentUser: currentUser,\n        onRequireAuth: openAuthModal,\n        subscribeToArea: subscribeToArea,\n        onFindNearby: handleFindNearby,\n        nearbyRadius: nearbyRadius,\n        setNearbyRadius: setNearbyRadius,\n        nearbyMode: nearbyMode,\n        clearNearby: clearNearby,\n        userLocation: userLocation,\n        nearbyStatus: nearbyStatus,\n        previewMode: previewAsRenter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 21\n      }, this), currentView === 'add' && /*#__PURE__*/_jsxDEV(AddListingView, {\n        onSubmit: handleAddListing,\n        onCancel: () => setCurrentView('browse'),\n        currentUser: currentUser,\n        userType: userType,\n        onRequireAuth: openAuthModal,\n        onRequireOnboarding: () => setCurrentView('landlord-onboarding')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 697,\n        columnNumber: 11\n      }, this), currentView === 'my-listings' && currentUser && userType === 'landlord' && /*#__PURE__*/_jsxDEV(MyListingsView, {\n        listings: listings.filter(l => l.landlordId === currentUser.id),\n        onDelete: async id => {\n          const updated = listings.filter(l => l.id !== id);\n          await saveListings(updated);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 708,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 7\n    }, this), selectedListing && /*#__PURE__*/_jsxDEV(ListingDetailModal, {\n      listing: selectedListing,\n      landlord: {\n        name: selectedListing.landlordName,\n        phone: selectedListing.landlordPhone,\n        email: selectedListing.landlordEmail,\n        photo: selectedListing.landlordPhoto\n      },\n      onClose: () => setSelectedListing(null),\n      userType: userType,\n      currentUser: currentUser,\n      onRequireAuth: openAuthModal,\n      previewMode: previewAsRenter,\n      showToast: showToast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 9\n    }, this), showAuthModal && /*#__PURE__*/_jsxDEV(AuthModal, {\n      defaultType: authDefaultType,\n      onClose: () => setShowAuthModal(false),\n      onSubmit: handleQuickAuth\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 739,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(BottomNav, {\n      currentView: currentView,\n      setCurrentView: setCurrentView,\n      userType: userType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 746,\n      columnNumber: 7\n    }, this), showLocationConsent && /*#__PURE__*/_jsxDEV(LocationConsentModal, {\n      onAccept: handleLocationConsentAccept,\n      onDecline: () => setShowLocationConsent(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 753,\n      columnNumber: 9\n    }, this), showPrivacyPolicy && /*#__PURE__*/_jsxDEV(PrivacyPolicyModal, {\n      onClose: () => setShowPrivacyPolicy(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 760,\n      columnNumber: 9\n    }, this), showAnalyticsConsent && /*#__PURE__*/_jsxDEV(AnalyticsConsentModal, {\n      onAccept: handleAnalyticsConsentAccept,\n      onDecline: handleAnalyticsConsentDecline\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 764,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      onOpenPrivacy: () => setShowPrivacyPolicy(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 770,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 580,\n    columnNumber: 5\n  }, this);\n}\n_s(RentalPlatform, \"jCoI8L69cuVXM+af/FufMsK344U=\");\n_c = RentalPlatform;\nfunction ProfileSetupView({\n  onSubmit,\n  userType\n}) {\n  _s2();\n  const [formData, setFormData] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    whatsapp: '',\n    photo: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n  const validateField = (name, value) => {\n    const newErrors = {\n      ...errors\n    };\n    switch (name) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'phone':\n        if (!value || !/^[+]?[-0-9()\\s]{7,}$/.test(value.trim())) {\n          newErrors.phone = 'Enter a valid phone number (min 7 digits)';\n        } else {\n          delete newErrors.phone;\n        }\n        break;\n      case 'email':\n        if (!value || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value.trim())) {\n          newErrors.email = 'Enter a valid email address';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      case 'photo':\n        if (value === 'FILE_TOO_LARGE') {\n          newErrors.photo = 'Photo is too large (max 2MB)';\n        } else {\n          delete newErrors.photo;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n  const handlePhotoUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 2 * 1024 * 1024) {\n        // 2MB limit\n        setFormData({\n          ...formData,\n          photo: ''\n        });\n        validateField('photo', 'FILE_TOO_LARGE');\n        return;\n      }\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({\n          ...formData,\n          photo: reader.result\n        });\n        validateField('photo', reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleSubmit = () => {\n    // Touch all fields\n    const allTouched = {\n      name: true,\n      phone: true,\n      email: true,\n      photo: true\n    };\n    setTouched(allTouched);\n    validateField('name', formData.name);\n    validateField('phone', formData.phone);\n    validateField('email', formData.email);\n    if (Object.keys(errors).length === 0 && formData.name && formData.phone && formData.email) {\n      onSubmit(formData);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 min-h-screen bg-gray-50 pb-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-bold text-gray-800 mb-2\",\n            children: \"Complete Your Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 859,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Help others know who you are\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 860,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 858,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center mb-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [formData.photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: formData.photo,\n                alt: \"Profile\",\n                className: \"w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 868,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-blue-200 shadow-lg\",\n                children: /*#__PURE__*/_jsxDEV(User, {\n                  className: \"w-16 h-16 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 875,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 874,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition group\",\n                \"aria-label\": \"Upload profile photo\",\n                children: [/*#__PURE__*/_jsxDEV(Edit, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 879,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/*\",\n                  onChange: handlePhotoUpload,\n                  className: \"hidden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 880,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 878,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 866,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 865,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Full Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 892,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              required: true,\n              value: formData.name,\n              onChange: e => {\n                setFormData({\n                  ...formData,\n                  name: e.target.value\n                });\n                if (touched.name) validateField('name', e.target.value);\n              },\n              onBlur: e => {\n                setTouched({\n                  ...touched,\n                  name: true\n                });\n                validateField('name', e.target.value);\n              },\n              placeholder: \"Enter your full name\",\n              \"aria-invalid\": errors.name ? 'true' : 'false',\n              \"aria-describedby\": errors.name ? 'profile-name-error' : undefined,\n              className: `w-full px-4 py-3 border ${errors.name ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 893,\n              columnNumber: 15\n            }, this), errors.name && touched.name && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"profile-name-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 904,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 891,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Phone Number *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 908,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 910,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                required: true,\n                value: formData.phone,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    phone: e.target.value\n                  });\n                  if (touched.phone) validateField('phone', e.target.value);\n                },\n                onBlur: e => {\n                  setTouched({\n                    ...touched,\n                    phone: true\n                  });\n                  validateField('phone', e.target.value);\n                },\n                placeholder: \"e.g., +27 12 345 6789\",\n                \"aria-invalid\": errors.phone ? 'true' : 'false',\n                \"aria-describedby\": errors.phone ? 'profile-phone-error' : undefined,\n                className: `w-full pl-11 pr-4 py-3 border ${errors.phone ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 911,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 909,\n              columnNumber: 15\n            }, this), errors.phone && touched.phone && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"profile-phone-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 923,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 907,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Email Address *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 927,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Mail, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 929,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                required: true,\n                value: formData.email,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    email: e.target.value\n                  });\n                  if (touched.email) validateField('email', e.target.value);\n                },\n                onBlur: e => {\n                  setTouched({\n                    ...touched,\n                    email: true\n                  });\n                  validateField('email', e.target.value);\n                },\n                placeholder: \"your.email@example.com\",\n                \"aria-invalid\": errors.email ? 'true' : 'false',\n                \"aria-describedby\": errors.email ? 'profile-email-error' : undefined,\n                className: `w-full pl-11 pr-4 py-3 border ${errors.email ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 930,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 928,\n              columnNumber: 15\n            }, this), errors.email && touched.email && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"profile-email-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 942,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 926,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"WhatsApp (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 946,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 948,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                value: formData.whatsapp,\n                onChange: e => setFormData({\n                  ...formData,\n                  whatsapp: e.target.value\n                }),\n                placeholder: \"e.g., +27 71 234 5678\",\n                className: \"w-full pl-11 pr-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 949,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 947,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: \"Used to create a WhatsApp chat link on your listings.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 957,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 945,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            className: \"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition mt-8 shadow-sm\",\n            children: \"Complete Setup\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 961,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 863,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 857,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 856,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 855,\n    columnNumber: 5\n  }, this);\n}\n_s2(ProfileSetupView, \"kfDeqkcyc9zNK7eVP7iQRpX1qkA=\");\n_c2 = ProfileSetupView;\nfunction ProfileView({\n  user,\n  onEdit,\n  onUpdatePrefs\n}) {\n  _s3();\n  const prefs = user.notificationPrefs || {\n    updates: true,\n    marketing: false\n  };\n  const [localPrefs, setLocalPrefs] = React.useState(prefs);\n  const togglePref = key => {\n    const next = {\n      ...localPrefs,\n      [key]: !localPrefs[key]\n    };\n    setLocalPrefs(next);\n    onUpdatePrefs && onUpdatePrefs(next);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow p-6 max-w-xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-start mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: \"My Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 988,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onEdit,\n          className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Edit, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 993,\n            columnNumber: 13\n          }, this), \"Edit\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 989,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 987,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center mb-6\",\n        children: [user.photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: user.photo,\n          alt: \"Profile\",\n          className: \"w-32 h-32 rounded-full object-cover border-4 border-blue-500 mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1000,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center border-4 border-gray-300 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(User, {\n            className: \"w-16 h-16 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1003,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1002,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1006,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inline-block mt-2 px-4 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold\",\n          children: user.type === 'landlord' ? 'Landlord' : 'Renter'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1007,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 998,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(Phone, {\n              className: \"w-5 h-5 mr-3 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1015,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mb-1\",\n                children: \"Phone Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1017,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800\",\n                children: user.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1018,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1016,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1014,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1013,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(Mail, {\n              className: \"w-5 h-5 mr-3 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1025,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mb-1\",\n                children: \"Email Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1027,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800\",\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1028,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1026,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1024,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1023,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(User, {\n              className: \"w-5 h-5 mr-3 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1035,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mb-1\",\n                children: \"Member Since\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1037,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800\",\n                children: new Date(user.createdAt).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1038,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1036,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1034,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1033,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-indigo-50 rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-gray-800 mb-2\",\n            children: \"Notification Preferences\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1046,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-2 text-sm text-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: localPrefs.updates,\n                onChange: () => togglePref('updates')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1049,\n                columnNumber: 17\n              }, this), \"Updates about new rooms in subscribed areas\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1048,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-2 text-sm text-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: localPrefs.marketing,\n                onChange: () => togglePref('marketing')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1057,\n                columnNumber: 17\n              }, this), \"Occasional feature & promotion emails\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1056,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1047,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-[11px] text-gray-500 mt-2\",\n            children: \"You can opt out anytime. Changes save instantly.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1065,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1045,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1012,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 986,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 985,\n    columnNumber: 5\n  }, this);\n}\n_s3(ProfileView, \"NCLbZ9/EK3qA4KJuUuQq28+1rwg=\");\n_c3 = ProfileView;\nfunction LandlordOnboardingView({\n  onComplete,\n  onCancel,\n  currentUser\n}) {\n  _s4();\n  const [form, setForm] = useState({\n    businessName: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || '',\n    bankDetails: '',\n    idNumber: '',\n    agree: false\n  });\n  const handleSubmit = () => {\n    if (!form.businessName || !form.agree) {\n      alert('Please provide a display name and agree to the terms.');\n      return;\n    }\n    onComplete(form);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 min-h-screen bg-gray-50 pb-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-6 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-16 h-16 rounded-full bg-blue-50 flex items-center justify-center text-blue-600 text-2xl font-bold\",\n            children: currentUser && currentUser.name ? currentUser.name.charAt(0) : 'L'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1089,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold text-gray-800\",\n              children: [\"Welcome, \", (currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || 'Landlord']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1093,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"A few details to get your listings live and increase trust with renters.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1094,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1092,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1088,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-1\",\n              children: \"Display Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1100,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: form.businessName,\n              onChange: e => setForm({\n                ...form,\n                businessName: e.target.value\n              }),\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: \"This name is shown to renters on your listings and messages.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1102,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1099,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-1\",\n              children: \"How do you want to receive payments?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1106,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: form.bankDetails,\n              onChange: e => setForm({\n                ...form,\n                bankDetails: e.target.value\n              }),\n              placeholder: \"Bank account or payment details (optional)\",\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1107,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-1\",\n              children: \"ID Number (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: form.idNumber,\n              onChange: e => setForm({\n                ...form,\n                idNumber: e.target.value\n              }),\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1112,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: form.agree,\n              onChange: e => setForm({\n                ...form,\n                agree: e.target.checked\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1116,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"I confirm I am authorised to list these properties and agree to the \", /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: e => e.preventDefault(),\n                className: \"text-blue-600 underline p-0\",\n                children: \"terms of service\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1117,\n                columnNumber: 122\n              }, this), \".\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1117,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3 pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onCancel,\n              className: \"flex-1 bg-gray-100 hover:bg-gray-200 py-3 rounded\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubmit,\n              className: \"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded\",\n              children: \"Complete and Start Listing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1122,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1098,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1087,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1086,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1085,\n    columnNumber: 5\n  }, this);\n}\n_s4(LandlordOnboardingView, \"Ac17KE539D878YeIRIQ45kYstio=\");\n_c4 = LandlordOnboardingView;\nfunction EditProfileView({\n  user,\n  onSubmit,\n  onCancel\n}) {\n  _s5();\n  const [formData, setFormData] = useState({\n    name: user.name || '',\n    phone: user.phone || '',\n    email: user.email || '',\n    whatsapp: user.whatsapp || '',\n    photo: user.photo || ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n  const validateField = (name, value) => {\n    const newErrors = {\n      ...errors\n    };\n    switch (name) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'phone':\n        if (!value || !/^[+]?[-0-9()\\s]{7,}$/.test(value.trim())) {\n          newErrors.phone = 'Enter a valid phone number';\n        } else {\n          delete newErrors.phone;\n        }\n        break;\n      case 'email':\n        if (!value || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value.trim())) {\n          newErrors.email = 'Enter a valid email';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n  const handlePhotoUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({\n          ...formData,\n          photo: reader.result\n        });\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleSubmit = () => {\n    setTouched({\n      name: true,\n      phone: true,\n      email: true\n    });\n    validateField('name', formData.name);\n    validateField('phone', formData.phone);\n    validateField('email', formData.email);\n    if (Object.keys(errors).length === 0 && formData.name && formData.phone && formData.email) {\n      onSubmit(formData);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 min-h-screen bg-gray-50 pb-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-bold text-gray-800\",\n            children: \"Edit Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onCancel,\n            className: \"text-gray-400 hover:text-gray-600 transition\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1200,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center mb-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [formData.photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: formData.photo,\n                alt: \"Profile\",\n                className: \"w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1209,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-blue-200 shadow-lg\",\n                children: /*#__PURE__*/_jsxDEV(User, {\n                  className: \"w-16 h-16 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1212,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1211,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition\",\n                \"aria-label\": \"Upload new profile photo\",\n                children: [/*#__PURE__*/_jsxDEV(Edit, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1216,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/*\",\n                  onChange: handlePhotoUpload,\n                  className: \"hidden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1217,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1215,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1207,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Full Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1229,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              required: true,\n              value: formData.name,\n              onChange: e => {\n                setFormData({\n                  ...formData,\n                  name: e.target.value\n                });\n                if (touched.name) validateField('name', e.target.value);\n              },\n              onBlur: e => {\n                setTouched({\n                  ...touched,\n                  name: true\n                });\n                validateField('name', e.target.value);\n              },\n              \"aria-invalid\": errors.name ? 'true' : 'false',\n              \"aria-describedby\": errors.name ? 'edit-name-error' : undefined,\n              className: `w-full px-4 py-3 border ${errors.name ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1230,\n              columnNumber: 15\n            }, this), errors.name && touched.name && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"edit-name-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1240,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1228,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1244,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1246,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                required: true,\n                value: formData.phone,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    phone: e.target.value\n                  });\n                  if (touched.phone) validateField('phone', e.target.value);\n                },\n                onBlur: e => {\n                  setTouched({\n                    ...touched,\n                    phone: true\n                  });\n                  validateField('phone', e.target.value);\n                },\n                \"aria-invalid\": errors.phone ? 'true' : 'false',\n                \"aria-describedby\": errors.phone ? 'edit-phone-error' : undefined,\n                className: `w-full pl-11 pr-4 py-3 border ${errors.phone ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1247,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1245,\n              columnNumber: 15\n            }, this), errors.phone && touched.phone && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"edit-phone-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1258,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Email Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1262,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Mail, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1264,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                required: true,\n                value: formData.email,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    email: e.target.value\n                  });\n                  if (touched.email) validateField('email', e.target.value);\n                },\n                onBlur: e => {\n                  setTouched({\n                    ...touched,\n                    email: true\n                  });\n                  validateField('email', e.target.value);\n                },\n                \"aria-invalid\": errors.email ? 'true' : 'false',\n                \"aria-describedby\": errors.email ? 'edit-email-error' : undefined,\n                className: `w-full pl-11 pr-4 py-3 border ${errors.email ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1265,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1263,\n              columnNumber: 15\n            }, this), errors.email && touched.email && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"edit-email-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1276,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1261,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"WhatsApp (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1280,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1282,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                value: formData.whatsapp,\n                onChange: e => setFormData({\n                  ...formData,\n                  whatsapp: e.target.value\n                }),\n                placeholder: \"e.g., +27 71 234 5678\",\n                className: \"w-full pl-11 pr-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1283,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1281,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: \"Used to create a WhatsApp chat link on your listings.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1291,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3 pt-6 border-t border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onCancel,\n              className: \"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 rounded-lg transition\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1296,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubmit,\n              className: \"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition shadow-sm\",\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1302,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1295,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1196,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1195,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1194,\n    columnNumber: 5\n  }, this);\n}\n\n/* BrowseView extracted to components/BrowseView.jsx */\n_s5(EditProfileView, \"cOSAqGAlx0e4c08rHdbkImVA+ZU=\");\n_c5 = EditProfileView;\nfunction AddListingView({\n  onSubmit,\n  onCancel,\n  currentUser,\n  userType,\n  onRequireAuth,\n  onRequireOnboarding\n}) {\n  _s7();\n  var _s6 = $RefreshSig$();\n  const GEOCODER_KEY = process.env.REACT_APP_GEOCODER_API_KEY;\n  const GEOCODER_PROVIDER = (process.env.REACT_APP_GEOCODER_PROVIDER || '').toLowerCase();\n  const [formData, setFormData] = useState({\n    title: '',\n    price: '',\n    location: '',\n    streetAddress: '',\n    description: '',\n    photos: [],\n    status: 'available',\n    availableDate: new Date().toISOString().split('T')[0],\n    amenities: [],\n    latitude: null,\n    longitude: null,\n    paymentMethod: 'Bank and Cash'\n  });\n  const [geocodingStatus, setGecodingStatus] = useState('');\n  const [errors, setErrors] = useState({});\n  const [locationHelpBanner, setLocationHelpBanner] = useState('');\n  const [locationSuggestions, setLocationSuggestions] = useState([]);\n  const [locationSuggestionsLoading, setLocationSuggestionsLoading] = useState(false);\n  const locationSuggestionCacheRef = React.useRef({}); // { queryLower: { data, ts } }\n  const LOCATION_SUGGESTION_TTL_MS = 15 * 60 * 1000;\n  const availableAmenities = ['WiFi', 'Parking', 'Kitchen', 'Laundry', 'Air Conditioning', 'Heating', 'TV', 'Furnished', 'Pet Friendly', 'Garden'];\n  const validateField = (name, value) => {\n    const newErrors = {\n      ...errors\n    };\n    switch (name) {\n      case 'title':\n        if (!value || value.trim().length < 5) {\n          newErrors.title = 'Title must be at least 5 characters';\n        } else {\n          delete newErrors.title;\n        }\n        break;\n      case 'price':\n        if (!value || parseFloat(value) <= 0) {\n          newErrors.price = 'Price must be greater than 0';\n        } else if (parseFloat(value) < 500) {\n          newErrors.price = 'Price seems too low (minimum R500)';\n        } else if (parseFloat(value) > 50000) {\n          newErrors.price = 'Price seems too high (maximum R50,000)';\n        } else {\n          delete newErrors.price;\n        }\n        break;\n      case 'location':\n        if (!value || value.trim().length < 3) {\n          newErrors.location = 'Location is required (min 3 characters)';\n        } else {\n          delete newErrors.location;\n        }\n        break;\n      case 'description':\n        if (value && value.length > 500) {\n          newErrors.description = 'Description is too long (max 500 characters)';\n        } else {\n          delete newErrors.description;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n\n  // Debounced provider-aware suggestions (Mapbox/Nominatim) with caching & bias\n  useEffect(() => {\n    const raw = (formData.location || '').trim();\n    if (raw.length < 3) {\n      setLocationSuggestions([]);\n      setLocationSuggestionsLoading(false);\n      return;\n    }\n    const qLower = raw.toLowerCase();\n    const cached = locationSuggestionCacheRef.current[qLower];\n    if (cached && Date.now() - cached.ts < LOCATION_SUGGESTION_TTL_MS) {\n      setLocationSuggestions(cached.data);\n      return;\n    }\n    const controller = new AbortController();\n    setLocationSuggestionsLoading(true);\n    const t = setTimeout(async () => {\n      try {\n        let suggestions = [];\n        if (GEOCODER_PROVIDER === 'mapbox' && GEOCODER_KEY) {\n          const proximity = formData.latitude && formData.longitude ? `&proximity=${formData.longitude},${formData.latitude}` : '';\n          const url = `https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(raw)}.json?access_token=${GEOCODER_KEY}&limit=5&country=ZA&language=en${proximity}&types=place,locality,neighborhood`;\n          const resp = await fetch(url, {\n            signal: controller.signal\n          });\n          const data = await resp.json();\n          if (data && Array.isArray(data.features)) {\n            suggestions = data.features.map(f => f.place_name).filter(Boolean);\n          }\n        } else {\n          let biasParams = '';\n          if (formData.latitude && formData.longitude) {\n            const delta = 0.2;\n            const minLon = formData.longitude - delta;\n            const maxLon = formData.longitude + delta;\n            const minLat = formData.latitude - delta;\n            const maxLat = formData.latitude + delta;\n            biasParams = `&bounded=1&viewbox=${minLon},${maxLat},${maxLon},${minLat}`;\n          }\n          const url = `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(raw + ', South Africa')}&limit=5${biasParams}`;\n          const resp = await fetch(url, {\n            signal: controller.signal,\n            headers: {\n              'Accept-Language': 'en'\n            }\n          });\n          const data = await resp.json();\n          const uniq = [];\n          data.forEach(item => {\n            const display = item.display_name || '';\n            const parts = display.split(',').map(p => p.trim());\n            const area = parts.slice(0, 2).join(', ');\n            if (area && !uniq.includes(area)) uniq.push(area);\n          });\n          suggestions = uniq.slice(0, 5);\n        }\n        locationSuggestionCacheRef.current[qLower] = {\n          data: suggestions,\n          ts: Date.now()\n        };\n        setLocationSuggestions(suggestions);\n      } catch (e) {\n        setLocationSuggestions([]);\n      } finally {\n        setLocationSuggestionsLoading(false);\n      }\n    }, 500);\n    return () => {\n      clearTimeout(t);\n      controller.abort();\n    };\n  }, [formData.location, formData.latitude, formData.longitude, GEOCODER_PROVIDER, GEOCODER_KEY, LOCATION_SUGGESTION_TTL_MS]);\n\n  // Geocode address using Nominatim (OpenStreetMap)\n  // Use browser geolocation and reverse-geocode to fill address/coords\n  const geolocateCurrentPosition = () => {\n    if (!navigator.geolocation) {\n      setGecodingStatus('Geolocation not supported by your browser');\n      setLocationHelpBanner('Location is disabled. Tap for steps to enable.');\n      return;\n    }\n    setGecodingStatus('Locating...');\n    navigator.geolocation.getCurrentPosition(async pos => {\n      const lat = pos.coords.latitude;\n      const lon = pos.coords.longitude;\n      setFormData({\n        ...formData,\n        latitude: lat,\n        longitude: lon\n      });\n\n      // Reverse geocode to get a readable address\n      try {\n        if (GEOCODER_PROVIDER === 'mapbox' && GEOCODER_KEY) {\n          const rev = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${lon},${lat}.json?access_token=${GEOCODER_KEY}&limit=1&country=za`);\n          const revData = await rev.json();\n          if (revData && revData.features && revData.features.length > 0) {\n            const place = revData.features[0].place_name || '';\n            const parts = place.split(',').map(p => p.trim());\n            const street = parts.slice(0, 2).join(', ');\n            const area = parts.slice(2, 4).join(', ');\n            setFormData(prev => ({\n              ...prev,\n              streetAddress: street || prev.streetAddress,\n              location: area || prev.location\n            }));\n            setGecodingStatus(' Current location set');\n            setTimeout(() => setGecodingStatus(''), 2500);\n            return;\n          }\n        } else {\n          const rev = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`);\n          const revData = await rev.json();\n          if (revData) {\n            const display = revData.display_name || '';\n            // Try to split display name into street and area\n            const parts = display.split(',').map(p => p.trim());\n            const street = parts.slice(0, 2).join(', ');\n            const area = parts.slice(2, 4).join(', ');\n            setFormData(prev => ({\n              ...prev,\n              streetAddress: street || prev.streetAddress,\n              location: area || prev.location\n            }));\n            setGecodingStatus(' Current location set');\n            setTimeout(() => setGecodingStatus(''), 2500);\n            return;\n          }\n        }\n      } catch (e) {\n        console.error('Reverse geocode failed', e);\n      }\n      setGecodingStatus(' Coordinates obtained');\n      setTimeout(() => setGecodingStatus(''), 2000);\n    }, err => {\n      console.error('Geolocation error', err);\n      setGecodingStatus('Could not get your location');\n      setLocationHelpBanner('Location permission denied. Tap here for steps to enable.');\n    }, {\n      enableHighAccuracy: true,\n      timeout: 10000\n    });\n  };\n  const geocodeAddress = async () => {\n    if (!formData.streetAddress) {\n      setGecodingStatus('Please enter a street address');\n      return;\n    }\n    setGecodingStatus('Finding coordinates...');\n    try {\n      const fullAddress = `${formData.streetAddress}, ${formData.location}, South Africa`;\n      // Try Mapbox if configured\n      if (GEOCODER_PROVIDER === 'mapbox' && GEOCODER_KEY) {\n        try {\n          const resp = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(fullAddress)}.json?access_token=${GEOCODER_KEY}&limit=1&country=za`);\n          const data = await resp.json();\n          if (data && data.features && data.features.length > 0) {\n            const [lon, lat] = data.features[0].center || [];\n            setFormData({\n              ...formData,\n              latitude: parseFloat(lat),\n              longitude: parseFloat(lon)\n            });\n            setGecodingStatus(' Address found (Mapbox)!');\n            setTimeout(() => setGecodingStatus(''), 2000);\n            return;\n          }\n        } catch (err) {\n          console.warn('Mapbox geocoding failed, falling back to Nominatim', err);\n        }\n      }\n\n      // Default / fallback: Nominatim\n      const response = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(fullAddress)}`);\n      const results = await response.json();\n      if (results.length > 0) {\n        const {\n          lat,\n          lon\n        } = results[0];\n        setFormData({\n          ...formData,\n          latitude: parseFloat(lat),\n          longitude: parseFloat(lon)\n        });\n        setGecodingStatus(' Address found!');\n        setTimeout(() => setGecodingStatus(''), 2000);\n      } else {\n        setGecodingStatus('Address not found. Trying with area only...');\n        // Fallback: just use the area/city\n        const areaResponse = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(formData.location + ', South Africa')}`);\n        const areaResults = await areaResponse.json();\n        if (areaResults.length > 0) {\n          const {\n            lat,\n            lon\n          } = areaResults[0];\n          setFormData({\n            ...formData,\n            latitude: parseFloat(lat),\n            longitude: parseFloat(lon)\n          });\n          setGecodingStatus(' Area found!');\n          setTimeout(() => setGecodingStatus(''), 2000);\n        } else {\n          setGecodingStatus('Could not find location');\n        }\n      }\n    } catch (error) {\n      console.error('Geocoding error:', error);\n      setGecodingStatus('Error finding address. Check your connection.');\n    }\n  };\n\n  // Draggable preview marker component for Add Listing\n  function DraggablePreview({\n    lat,\n    lng\n  }) {\n    _s6();\n    const [pos, setPos] = useState(lat && lng ? [lat, lng] : null);\n    useEffect(() => {\n      if (lat && lng) setPos([lat, lng]);\n    }, [lat, lng]);\n    if (!pos) return null;\n    return /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: pos,\n      zoom: 15,\n      className: \"w-full h-48 rounded-lg\",\n      whenCreated: () => {},\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1584,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Marker, {\n        position: pos,\n        draggable: true,\n        eventHandlers: {\n          dragend: e => {\n            const ll = e.target.getLatLng();\n            setPos([ll.lat, ll.lng]);\n            setFormData(prev => ({\n              ...prev,\n              latitude: ll.lat,\n              longitude: ll.lng\n            }));\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1585,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1583,\n      columnNumber: 7\n    }, this);\n  }\n  _s6(DraggablePreview, \"SDl6jF453+K8vrXJIuE2WAgzv1g=\");\n  const toggleAmenity = amenity => {\n    if (formData.amenities.includes(amenity)) {\n      setFormData({\n        ...formData,\n        amenities: formData.amenities.filter(a => a !== amenity)\n      });\n    } else {\n      setFormData({\n        ...formData,\n        amenities: [...formData.amenities, amenity]\n      });\n    }\n  };\n  const handlePhotoUpload = e => {\n    const files = Array.from(e.target.files || []);\n    if (files.length === 0) return;\n    const readers = files.map(file => new Promise(resolve => {\n      const reader = new FileReader();\n      reader.onloadend = () => resolve(reader.result);\n      reader.readAsDataURL(file);\n    }));\n    Promise.all(readers).then(images => {\n      const combined = [...formData.photos, ...images].slice(0, 5); // cap at 5\n      setFormData({\n        ...formData,\n        photos: combined\n      });\n    });\n  };\n  const removePhoto = index => {\n    const newPhotos = formData.photos.filter((_, i) => i !== index);\n    setFormData({\n      ...formData,\n      photos: newPhotos\n    });\n  };\n  const handleSubmit = () => {\n    // Enforce auth and onboarding checks before allowing submission\n    if (!currentUser) {\n      onRequireAuth && onRequireAuth('landlord');\n      return;\n    }\n    if (userType !== 'landlord') {\n      // prompt to become landlord\n      onRequireAuth && onRequireAuth('landlord');\n      return;\n    }\n    if (!currentUser.landlordComplete) {\n      // send to onboarding\n      onRequireOnboarding && onRequireOnboarding();\n      return;\n    }\n\n    // Validate all fields\n    validateField('title', formData.title);\n    validateField('price', formData.price);\n    validateField('location', formData.location);\n    validateField('description', formData.description);\n    if (!formData.title || formData.title.trim().length < 5) {\n      setErrors(prev => ({\n        ...prev,\n        title: 'Title must be at least 5 characters'\n      }));\n      return;\n    }\n    if (!formData.price || parseFloat(formData.price) <= 0) {\n      setErrors(prev => ({\n        ...prev,\n        price: 'Price must be greater than 0'\n      }));\n      return;\n    }\n    if (!formData.location || formData.location.trim().length < 3) {\n      setErrors(prev => ({\n        ...prev,\n        location: 'Location is required'\n      }));\n      return;\n    }\n    if (Object.keys(errors).length > 0) {\n      return;\n    }\n    onSubmit(formData);\n  };\n\n  // Auto-attempt geolocation shortly after mount for landlord convenience\n  useEffect(() => {\n    const shouldAttempt = !formData.latitude && !formData.longitude;\n    if (shouldAttempt) {\n      const t = setTimeout(() => {\n        geolocateCurrentPosition();\n      }, 800);\n      return () => clearTimeout(t);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData.latitude, formData.longitude]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 bg-gray-50 min-h-screen pb-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl mx-auto mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-bold text-gray-800\",\n            children: \"Post a Room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1688,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onCancel,\n            className: \"text-gray-400 hover:text-gray-600 transition\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1690,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1689,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1687,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Room Title *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1697,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              required: true,\n              value: formData.title,\n              onChange: e => {\n                setFormData({\n                  ...formData,\n                  title: e.target.value\n                });\n                validateField('title', e.target.value);\n              },\n              onBlur: e => validateField('title', e.target.value),\n              placeholder: \"e.g., Cozy backroom with bathroom\",\n              className: `w-full px-4 py-3 border ${errors.title ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.title ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1698,\n              columnNumber: 15\n            }, this), errors.title && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-1\",\n              children: errors.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1710,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1696,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Monthly Price (R) *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1715,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              required: true,\n              value: formData.price,\n              onChange: e => {\n                setFormData({\n                  ...formData,\n                  price: e.target.value\n                });\n                validateField('price', e.target.value);\n              },\n              onBlur: e => validateField('price', e.target.value),\n              placeholder: \"e.g., 2500\",\n              className: `w-full px-4 py-3 border ${errors.price ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.price ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1716,\n              columnNumber: 15\n            }, this), errors.price && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-1\",\n              children: errors.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1728,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1714,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Area / City *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1734,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                required: true,\n                value: formData.location,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    location: e.target.value\n                  });\n                  validateField('location', e.target.value);\n                },\n                onBlur: e => validateField('location', e.target.value),\n                placeholder: \"e.g., Soweto, Johannesburg\",\n                className: `w-full px-4 py-3 border ${errors.location ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.location ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1735,\n                columnNumber: 17\n              }, this), errors.location && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-xs mt-1\",\n                children: errors.location\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1747,\n                columnNumber: 37\n              }, this), locationSuggestionsLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-blue-600 mt-1 animate-pulse\",\n                \"aria-live\": \"polite\",\n                children: \"Loading suggestions...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1749,\n                columnNumber: 19\n              }, this), locationSuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2 border border-gray-200 rounded-lg bg-white shadow-sm divide-y\",\n                children: locationSuggestions.map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => {\n                    setFormData({\n                      ...formData,\n                      location: s\n                    });\n                    setLocationSuggestions([]);\n                    validateField('location', s);\n                  },\n                  className: \"w-full text-left px-3 py-2 text-sm hover:bg-blue-50\",\n                  children: s\n                }, s, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1754,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1752,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1733,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Street Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1766,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: formData.streetAddress,\n                onChange: e => setFormData({\n                  ...formData,\n                  streetAddress: e.target.value\n                }),\n                placeholder: \"e.g., 123 Main Street\",\n                className: \"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1767,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1765,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1732,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 border-2 border-blue-200 rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start gap-3 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                className: \"w-6 h-6 text-blue-600 flex-shrink-0 mt-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1780,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-1\",\n                  children: \"Set Location on Map\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1782,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Help renters find your listing by pinpointing its exact location.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1783,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1781,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1779,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-3 items-center mb-4\",\n              children: [locationHelpBanner && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full bg-yellow-50 border-2 border-yellow-200 text-yellow-800 rounded-lg p-3 text-sm flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u26A0\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1790,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [locationHelpBanner, /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"ml-2 underline font-semibold\",\n                    onClick: () => window.alert('To enable location: 1) Tap the lock icon in the address bar. 2) Find Location permission. 3) Set to Allow. Then refresh the page.'),\n                    children: \"How to enable\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1793,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1791,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1789,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full text-xs text-blue-700 bg-blue-50 border border-blue-200 rounded p-2\",\n                children: \"Tip: Using \\\"Use Current Location\\\" is recommended for accuracy. Street address can be approximate \\u2013 drag the pin to fine tune.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1801,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: geocodeAddress,\n                className: \"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg text-sm font-semibold transition shadow-sm flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1809,\n                  columnNumber: 19\n                }, this), \"Find on Map\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1804,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: geolocateCurrentPosition,\n                className: \"bg-white hover:bg-gray-50 border-2 border-gray-300 text-gray-800 px-6 py-3 rounded-lg text-sm font-semibold transition shadow-sm flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1818,\n                  columnNumber: 19\n                }, this), \"Use Current Location\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1813,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm flex-1\",\n                children: [geocodingStatus && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `${geocodingStatus.startsWith('') ? 'text-green-600 font-semibold' : 'text-gray-700'} flex items-center gap-1`,\n                  children: [geocodingStatus.startsWith('') && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1825,\n                    columnNumber: 59\n                  }, this), geocodingStatus]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1824,\n                  columnNumber: 21\n                }, this), formData.latitude && formData.longitude && !geocodingStatus && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-600 font-semibold flex items-center gap-1\",\n                  children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1831,\n                    columnNumber: 23\n                  }, this), \"Location set: \", formData.latitude.toFixed(4), \", \", formData.longitude.toFixed(4)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1830,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1822,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1787,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4\",\n              children: formData.latitude && formData.longitude ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                  children: \"Fine-tune Location (drag pin)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1842,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(DraggablePreview, {\n                  lat: formData.latitude,\n                  lng: formData.longitude\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1843,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1841,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600 bg-white border border-gray-200 rounded-lg p-4 text-center\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  className: \"w-8 h-8 mx-auto mb-2 text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1847,\n                  columnNumber: 21\n                }, this), \"No location set yet. Click \\\"Find on Map\\\" or \\\"Use Current Location\\\" to place a pin.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1846,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1839,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1778,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1857,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: formData.status,\n                onChange: e => setFormData({\n                  ...formData,\n                  status: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"available\",\n                  children: \"Available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1863,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"rented\",\n                  children: \"Rented\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1864,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1858,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1856,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Available Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1869,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: formData.availableDate,\n                onChange: e => setFormData({\n                  ...formData,\n                  availableDate: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1870,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1868,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1855,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Payment Method\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1881,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: formData.paymentMethod,\n              onChange: e => setFormData({\n                ...formData,\n                paymentMethod: e.target.value\n              }),\n              className: \"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Bank and Cash\",\n                children: \"Bank and Cash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1887,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Cash Only\",\n                children: \"Cash Only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1888,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Bank Only\",\n                children: \"Bank Only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1889,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1882,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1880,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: !!formData.premium,\n              onChange: e => setFormData({\n                ...formData,\n                premium: e.target.checked\n              }),\n              id: \"premiumFlag\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1894,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"premiumFlag\",\n              className: \"text-sm font-medium text-gray-700\",\n              children: \"Premium listing (highlight & priority sorting)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1900,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1893,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: [\"Description\", formData.description && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `ml-2 text-xs ${formData.description.length > 500 ? 'text-red-500' : 'text-gray-500'}`,\n                children: [\"(\", formData.description.length, \"/500 characters)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1910,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1907,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: formData.description,\n              onChange: e => {\n                setFormData({\n                  ...formData,\n                  description: e.target.value\n                });\n                validateField('description', e.target.value);\n              },\n              onBlur: e => validateField('description', e.target.value),\n              placeholder: \"Describe the room, amenities, rules, and any other details...\",\n              rows: \"4\",\n              className: `w-full px-4 py-3 border ${errors.description ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.description ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1915,\n              columnNumber: 15\n            }, this), errors.description && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-1\",\n              children: errors.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1926,\n              columnNumber: 38\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1906,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-3\",\n              children: \"Amenities\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1931,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-3 gap-2\",\n              children: availableAmenities.map(amenity => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => toggleAmenity(amenity),\n                className: `px-4 py-2 rounded-lg text-sm font-medium transition ${formData.amenities.includes(amenity) ? 'bg-blue-600 text-white shadow-sm' : 'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'}`,\n                children: amenity\n              }, amenity, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1934,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1932,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1930,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Photos (Max 5)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1952,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              multiple: true,\n              onChange: handlePhotoUpload,\n              disabled: formData.photos.length >= 5,\n              className: \"w-full px-4 py-3 border border-gray-300 bg-white text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition cursor-pointer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1953,\n              columnNumber: 15\n            }, this), formData.photos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 grid grid-cols-2 md:grid-cols-3 gap-3\",\n              children: formData.photos.map((photo, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative group\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: photo,\n                  alt: `Preview ${index + 1}`,\n                  className: \"w-full h-32 object-cover rounded-lg border border-gray-200 shadow-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1965,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => removePhoto(index),\n                  className: \"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-lg opacity-0 group-hover:opacity-100 transition\",\n                  children: /*#__PURE__*/_jsxDEV(X, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1975,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1970,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1964,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1962,\n              columnNumber: 17\n            }, this), formData.photos.length >= 5 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mt-2\",\n              children: \"Maximum 5 photos reached\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1982,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1951,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t border-gray-200 pt-6\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubmit,\n              className: \"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition shadow-sm\",\n              children: \"Post Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1988,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1987,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1694,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1686,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1685,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1684,\n    columnNumber: 5\n  }, this);\n}\n\n// MessagesView removed - using direct contact instead\n_s7(AddListingView, \"YqRIbVg0aqpxlDlbhPmJTfBaFn0=\");\n_c6 = AddListingView;\nfunction MyListingsView({\n  listings,\n  onDelete\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4 text-gray-800\",\n      children: \"My Listings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2007,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: listings.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-8 text-center text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(Home, {\n          className: \"w-16 h-16 mx-auto mb-4 text-gray-300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2011,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You haven't posted any rooms yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2012,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2010,\n        columnNumber: 11\n      }, this) : listings.map(listing => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-4\",\n        children: [listing.photos && listing.photos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: listing.photos[0],\n            alt: \"Room\",\n            className: \"w-full h-32 object-cover rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2019,\n            columnNumber: 5\n          }, this), listing.photos.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-2 right-2 bg-black bg-opacity-60 text-white px-2 py-1 rounded text-xs\",\n            children: [listing.photos.length, \" photos\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2021,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2018,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold text-lg mb-1\",\n          children: listing.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2027,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-blue-600 font-bold mb-2\",\n          children: [\"R\", listing.price, \"/month\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2028,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center text-gray-600 text-sm mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            className: \"w-4 h-4 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2030,\n            columnNumber: 17\n          }, this), listing.location]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2029,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onDelete(listing.id),\n          className: \"w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg transition\",\n          children: \"Delete Listing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2033,\n          columnNumber: 15\n        }, this)]\n      }, listing.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2016,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2008,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2006,\n    columnNumber: 5\n  }, this);\n}\n\n// Inline message box component with validation for listing detail view\n// ListingInlineMessageBox removed\n\n// ConversationModal removed\n_c7 = MyListingsView;\nfunction AuthModal({\n  defaultType = 'renter',\n  onClose,\n  onSubmit\n}) {\n  _s8();\n  const [form, setForm] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    type: defaultType,\n    photo: ''\n  });\n  const handleSubmit = () => {\n    if (!form.name || !form.email) {\n      alert('Please add a name and email');\n      return;\n    }\n    onSubmit(form);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-start sm:items-center justify-center p-4 pt-16 sm:pt-4 z-50 overflow-y-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg w-full max-w-md p-6 my-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-bold\",\n          children: \"Sign in / Create account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2068,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-400 hover:text-gray-600\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2069,\n            columnNumber: 83\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2069,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2067,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-1\",\n            children: \"Full name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2074,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: form.name,\n            onChange: e => setForm({\n              ...form,\n              name: e.target.value\n            }),\n            className: \"w-full px-3 py-2 border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2075,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2073,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-1\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2079,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: form.email,\n            onChange: e => setForm({\n              ...form,\n              email: e.target.value\n            }),\n            className: \"w-full px-3 py-2 border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2080,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2078,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-1\",\n            children: \"Phone (optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2084,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            value: form.phone,\n            onChange: e => setForm({\n              ...form,\n              phone: e.target.value\n            }),\n            className: \"w-full px-3 py-2 border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2085,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2083,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-1\",\n            children: \"I am a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2089,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: form.type,\n            onChange: e => setForm({\n              ...form,\n              type: e.target.value\n            }),\n            className: \"w-full px-3 py-2 border rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"renter\",\n              children: \"Looking for a room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2091,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"landlord\",\n              children: \"Listing rooms\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2092,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2090,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2088,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-3 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"flex-1 bg-gray-100 hover:bg-gray-200 py-2 rounded\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2097,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            className: \"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded\",\n            children: \"Continue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2098,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2096,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2072,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2066,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2065,\n    columnNumber: 5\n  }, this);\n}\n_s8(AuthModal, \"KSXT3UZrHuGXthkX1NrI+EZFyAk=\");\n_c8 = AuthModal;\nfunction LocationConsentModal({\n  onAccept,\n  onDecline\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg max-w-md w-full p-6 shadow-xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(MapPin, {\n          className: \"w-8 h-8 text-blue-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-gray-800\",\n          children: \"Location Access\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-4\",\n        children: \"Room24 would like to access your location to show nearby rental listings. Your location data:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"text-sm text-gray-600 mb-6 space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-start gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-600 mt-0.5\",\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Is only used to calculate distances to listings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2122,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-start gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-600 mt-0.5\",\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Is not stored on our servers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-start gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-600 mt-0.5\",\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Is not shared with third parties\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onDecline,\n          className: \"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 rounded-lg transition\",\n          children: \"Not Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onAccept,\n          className: \"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition\",\n          children: \"Allow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mt-4 text-center\",\n        children: \"You can change this permission anytime in your browser settings.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2109,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2108,\n    columnNumber: 5\n  }, this);\n}\n_c9 = LocationConsentModal;\nfunction BottomNav({\n  currentView,\n  setCurrentView,\n  userType\n}) {\n  const navItems = [{\n    id: 'browse',\n    label: 'Browse',\n    icon: Search,\n    show: true\n  }, {\n    id: 'add',\n    label: 'List Room',\n    icon: PlusCircle,\n    show: userType === 'landlord'\n  }, {\n    id: 'my-listings',\n    label: 'My Rooms',\n    icon: Home,\n    show: userType === 'landlord'\n  }, {\n    id: 'profile',\n    label: 'Profile',\n    icon: User,\n    show: true\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-2xl\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto flex justify-around\",\n      children: navItems.filter(item => item.show).map(item => {\n        const Icon = item.icon;\n        const isActive = currentView === item.id || item.id === 'profile' && currentView === 'edit-profile';\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentView(item.id),\n          className: `flex-1 flex flex-col items-center justify-center py-3 px-2 transition relative border-t-2 ${isActive ? 'border-blue-600 text-blue-600 bg-blue-50' : 'border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2185,\n              columnNumber: 19\n            }, this), item.badge && item.badge > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold\",\n              children: item.badge > 99 ? '99+' : item.badge\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2187,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2184,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs mt-1 font-medium\",\n            children: item.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2192,\n            columnNumber: 17\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2175,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2167,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2166,\n    columnNumber: 5\n  }, this);\n}\n_c0 = BottomNav;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0;\n$RefreshReg$(_c, \"RentalPlatform\");\n$RefreshReg$(_c2, \"ProfileSetupView\");\n$RefreshReg$(_c3, \"ProfileView\");\n$RefreshReg$(_c4, \"LandlordOnboardingView\");\n$RefreshReg$(_c5, \"EditProfileView\");\n$RefreshReg$(_c6, \"AddListingView\");\n$RefreshReg$(_c7, \"MyListingsView\");\n$RefreshReg$(_c8, \"AuthModal\");\n$RefreshReg$(_c9, \"LocationConsentModal\");\n$RefreshReg$(_c0, \"BottomNav\");","map":{"version":3,"names":["React","useState","useEffect","initFirebase","initAnalytics","requestFcmToken","listenForegroundMessages","trackEvent","MapContainer","TileLayer","Marker","Home","PlusCircle","Search","MapPin","X","User","Phone","Mail","Edit","CheckCircle","Header","ListingDetailModal","Footer","BrowseView","PrivacyPolicyModal","NotificationBanner","AnalyticsConsentModal","jsxDEV","_jsxDEV","RentalPlatform","_s","currentView","setCurrentView","mapView","setMapView","userType","setUserType","previewAsRenter","setPreviewAsRenter","listings","setListings","selectedListing","setSelectedListing","users","setUsers","searchLocation","setSearchLocation","priceRange","setPriceRange","selectedAmenities","setSelectedAmenities","sortBy","setSortBy","currentUser","setCurrentUser","showAuthModal","setShowAuthModal","authDefaultType","setAuthDefaultType","nearbyMode","setNearbyMode","nearbyRadius","setNearbyRadius","userLocation","setUserLocation","nearbyStatus","setNearbyStatus","showLocationConsent","setShowLocationConsent","toast","setToast","showPrivacyPolicy","setShowPrivacyPolicy","notificationBanner","setNotificationBanner","showAnalyticsConsent","setShowAnalyticsConsent","openAuthModal","type","loadData","app","analyticsConsent","localStorage","getItem","process","env","REACT_APP_ENABLE_ANALYTICS","setTimeout","token","console","log","e","warn","payload","notification","title","body","landlordComplete","listingsResult","userResult","usersResult","JSON","parse","user","parsed","Array","isArray","error","sampleListings","id","price","location","description","photos","status","availableDate","Date","toISOString","amenities","landlordId","landlordName","landlordPhone","landlordEmail","landlordPhoto","createdAt","isDuplicateContact","phone","email","ignoreId","normalizedPhone","trim","normalizedEmail","toLowerCase","length","some","u","uPhone","uEmail","phoneMatch","emailMatch","haversineDistance","lat1","lon1","lat2","lon2","toRad","v","Math","PI","R","dLat","dLon","a","sin","cos","c","atan2","sqrt","handleFindNearby","navigator","geolocation","handleLocationConsentAccept","getCurrentPosition","pos","lat","coords","latitude","lon","longitude","err","enableHighAccuracy","timeout","clearNearby","showToast","message","handleAnalyticsConsentAccept","setItem","handleAnalyticsConsentDecline","saveListings","newListings","stringify","serviceWorker","controller","postMessage","saveSubscriptions","subscriptions","getSubscriptions","res","subscribeToArea","userId","area","alert","subs","includes","push","handleProfileSetup","profileData","now","whatsapp","notificationPrefs","updates","marketing","existingUsersRaw","existingUsers","handleUpdateProfile","updatedUser","idx","findIndex","handleQuickAuth","name","photo","handleSignOut","removeItem","handleCompleteOnboarding","onboardData","updated","landlordInfo","handleAddListing","listingData","_listingData$latitude","_listingData$longitud","newListing","paymentMethod","premium","updatedListings","window","scrollTo","top","behavior","filteredListings","map","listing","d","__distanceKm","filter","matchesLocation","parseFloat","matchesPrice","matchesAmenities","every","amenity","_listing$amenities","passesNearby","_listing$__distanceKm","sort","b","_a$__distanceKm","_b$__distanceKm","da","Infinity","db","className","children","href","style","clipPath","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","role","onClose","onClick","ProfileSetupView","onSubmit","ProfileView","onEdit","onUpdatePrefs","prefs","raw","arr","EditProfileView","onCancel","LandlordOnboardingView","onComplete","onSelectListing","onRequireAuth","onFindNearby","previewMode","AddListingView","onRequireOnboarding","MyListingsView","l","onDelete","landlord","AuthModal","defaultType","BottomNav","LocationConsentModal","onAccept","onDecline","onOpenPrivacy","_c","_s2","formData","setFormData","errors","setErrors","touched","setTouched","validateField","value","newErrors","test","handlePhotoUpload","file","target","files","size","reader","FileReader","onloadend","result","readAsDataURL","handleSubmit","allTouched","Object","keys","src","alt","accept","onChange","required","onBlur","placeholder","undefined","_c2","_s3","localPrefs","setLocalPrefs","togglePref","key","next","toLocaleDateString","checked","_c3","_s4","form","setForm","businessName","bankDetails","idNumber","agree","charAt","preventDefault","_c4","_s5","_c5","_s7","_s6","$RefreshSig$","GEOCODER_KEY","REACT_APP_GEOCODER_API_KEY","GEOCODER_PROVIDER","REACT_APP_GEOCODER_PROVIDER","streetAddress","split","geocodingStatus","setGecodingStatus","locationHelpBanner","setLocationHelpBanner","locationSuggestions","setLocationSuggestions","locationSuggestionsLoading","setLocationSuggestionsLoading","locationSuggestionCacheRef","useRef","LOCATION_SUGGESTION_TTL_MS","availableAmenities","qLower","cached","current","ts","data","AbortController","t","suggestions","proximity","url","encodeURIComponent","resp","fetch","signal","json","features","f","place_name","Boolean","biasParams","delta","minLon","maxLon","minLat","maxLat","headers","uniq","forEach","item","display","display_name","parts","p","slice","join","clearTimeout","abort","geolocateCurrentPosition","rev","revData","place","street","prev","geocodeAddress","fullAddress","center","response","results","areaResponse","areaResults","DraggablePreview","lng","setPos","zoom","whenCreated","position","draggable","eventHandlers","dragend","ll","getLatLng","toggleAmenity","from","readers","Promise","resolve","all","then","images","combined","removePhoto","index","newPhotos","_","i","shouldAttempt","s","startsWith","toFixed","htmlFor","rows","multiple","disabled","_c6","_c7","_s8","_c8","_c9","navItems","label","icon","show","Icon","isActive","badge","_c0","$RefreshReg$"],"sources":["C:/Users/kutum/Documents/room-rental-platform/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { initFirebase, initAnalytics, requestFcmToken, listenForegroundMessages, trackEvent } from './firebase';\nimport { MapContainer, TileLayer, Marker } from 'react-leaflet';\nimport { Home, PlusCircle, Search, MapPin, X, User, Phone, Mail, Edit, CheckCircle } from 'lucide-react';\nimport Header from './components/Header';\nimport ListingDetailModal from './components/ListingDetailModal';\nimport Footer from './components/Footer';\nimport BrowseView from './components/BrowseView';\nimport PrivacyPolicyModal from './components/PrivacyPolicyModal';\nimport NotificationBanner from './components/NotificationBanner';\nimport AnalyticsConsentModal from './components/AnalyticsConsentModal';\nexport default function RentalPlatform() {\n  const [currentView, setCurrentView] = useState('browse');\n  const [mapView, setMapView] = useState(false);\n  const [userType, setUserType] = useState(null);\n  const [previewAsRenter, setPreviewAsRenter] = useState(false); // landlord UI preview toggle\n  const [listings, setListings] = useState([]);\n  const [selectedListing, setSelectedListing] = useState(null);\n  const [users, setUsers] = useState([]); // registry of all users (localStorage 'users')\n  const [searchLocation, setSearchLocation] = useState('');\n  const [priceRange, setPriceRange] = useState([0, 10000]);\n  const [selectedAmenities, setSelectedAmenities] = useState([]);\n  const [sortBy, setSortBy] = useState('newest');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [showAuthModal, setShowAuthModal] = useState(false);\n  const [authDefaultType, setAuthDefaultType] = useState('renter');\n  const [nearbyMode, setNearbyMode] = useState(false);\n  const [nearbyRadius, setNearbyRadius] = useState(5); // km\n  const [userLocation, setUserLocation] = useState(null);\n  const [nearbyStatus, setNearbyStatus] = useState('');\n  const [showLocationConsent, setShowLocationConsent] = useState(false);\n  // Mobile menu state moved into Header component\n  const [toast, setToast] = useState(null);\n  const [showPrivacyPolicy, setShowPrivacyPolicy] = useState(false);\n  const [notificationBanner, setNotificationBanner] = useState(null);\n  const [showAnalyticsConsent, setShowAnalyticsConsent] = useState(false);\n\n  const openAuthModal = (type = 'renter') => {\n    setAuthDefaultType(type);\n    setShowAuthModal(true);\n  };\n  \n\n  useEffect(() => {\n    loadData();\n    // Initialize Firebase + FCM token fetch (deferred until user interaction if desired)\n    const app = initFirebase();\n    \n    // Check analytics consent and show modal if not set\n    const analyticsConsent = localStorage.getItem('analytics-consent');\n    if (!analyticsConsent && process.env.REACT_APP_ENABLE_ANALYTICS === 'true') {\n      // Delay modal slightly so UI loads first\n      setTimeout(() => setShowAnalyticsConsent(true), 2000);\n    } else if (analyticsConsent === 'yes') {\n      initAnalytics(app);\n    }\n\n    (async () => {\n      try {\n        const token = await requestFcmToken();\n        if (token) {\n          console.log('Obtained FCM token:', token);\n          trackEvent('fcm_token_obtained');\n        }\n      } catch (e) {\n        console.warn('FCM token request failed', e);\n      }\n    })();\n    \n    listenForegroundMessages((payload) => {\n      // Display notification banner instead of toast\n      const notification = payload?.notification || {};\n      if (notification.title || notification.body) {\n        setNotificationBanner({\n          title: notification.title,\n          body: notification.body\n        });\n        // Auto-dismiss after 8 seconds\n        setTimeout(() => setNotificationBanner(null), 8000);\n      }\n    });\n  }, []);\n\n  // Guard: if someone navigates to 'add' without landlord auth, prompt to sign in\n  useEffect(() => {\n    if (currentView === 'add') {\n      if (!currentUser) {\n        openAuthModal('landlord');\n        setCurrentView('browse');\n      } else if (userType !== 'landlord') {\n        // Not a landlord - prompt to become one\n        openAuthModal('landlord');\n        setCurrentView('browse');\n      } else if (!currentUser.landlordComplete) {\n        // Landlord but hasn't completed onboarding\n        setCurrentView('landlord-onboarding');\n      }\n    }\n  }, [currentView, currentUser, userType]);\n\n  const loadData = async () => {\n    try {\n      const listingsResult = localStorage.getItem('listings');\n      const userResult = localStorage.getItem('current-user');\n      const usersResult = localStorage.getItem('users');\n      \n      if (listingsResult) setListings(JSON.parse(listingsResult));\n      if (userResult) {\n        const user = JSON.parse(userResult);\n        setCurrentUser(user);\n        setUserType(user.type);\n      }\n      if (usersResult) {\n        try {\n          const parsed = JSON.parse(usersResult);\n          setUsers(Array.isArray(parsed) ? parsed : []);\n        } catch (e) {\n          console.warn('Corrupt users array in storage, resetting');\n          setUsers([]);\n        }\n      }\n    } catch (error) {\n      console.log('No existing data found, starting fresh');\n      // Add sample listings for testing the map\n      const sampleListings = [\n        {\n          id: 'listing-1',\n          title: 'Cozy Room in Soweto',\n          price: 2500,\n          location: 'Soweto, Johannesburg',\n          description: 'Comfortable room with bathroom and kitchen access',\n          photos: [],\n          status: 'available',\n          availableDate: new Date().toISOString(),\n          amenities: ['WiFi', 'Kitchen'],\n          landlordId: 'landlord-1',\n          landlordName: 'John Smith',\n          landlordPhone: '+27 123 456 7890',\n          landlordEmail: 'john@example.com',\n          landlordPhoto: '',\n          createdAt: new Date().toISOString()\n        },\n        {\n          id: 'listing-2',\n          title: 'Modern Apartment in Sandton',\n          price: 4500,\n          location: 'Sandton, Johannesburg',\n          description: 'Luxurious apartment with parking and security',\n          photos: [],\n          status: 'available',\n          availableDate: new Date().toISOString(),\n          amenities: ['WiFi', 'Parking', 'Air Conditioning'],\n          landlordId: 'landlord-2',\n          landlordName: 'Jane Doe',\n          landlordPhone: '+27 987 654 3210',\n          landlordEmail: 'jane@example.com',\n          landlordPhoto: '',\n          createdAt: new Date().toISOString()\n        },\n        {\n          id: 'listing-3',\n          title: 'Studio in Midrand',\n          price: 3200,\n          location: 'Midrand, Johannesburg',\n          description: 'Spacious studio flat with laundry facilities',\n          photos: [],\n          status: 'available',\n          availableDate: new Date().toISOString(),\n          amenities: ['Laundry', 'WiFi'],\n          landlordId: 'landlord-3',\n          landlordName: 'Mike Johnson',\n          landlordPhone: '+27 555 555 5555',\n          landlordEmail: 'mike@example.com',\n          landlordPhoto: '',\n          createdAt: new Date().toISOString()\n        }\n      ];\n      setListings(sampleListings);\n    }\n  };\n\n  // Helper: check for duplicate phone or email in registry (exclude an optional user id)\n  const isDuplicateContact = (phone, email, ignoreId = null) => {\n    const normalizedPhone = (phone || '').trim();\n    const normalizedEmail = (email || '').trim().toLowerCase();\n    if (!users || users.length === 0) return false;\n    return users.some(u => {\n      if (ignoreId && u.id === ignoreId) return false;\n      const uPhone = (u.phone || '').trim();\n      const uEmail = (u.email || '').trim().toLowerCase();\n      const phoneMatch = normalizedPhone && uPhone && uPhone === normalizedPhone;\n      const emailMatch = normalizedEmail && uEmail && uEmail === normalizedEmail;\n      return phoneMatch || emailMatch;\n    });\n  };\n\n  // Haversine formula to compute distance in kilometers between two coords\n  const haversineDistance = (lat1, lon1, lat2, lon2) => {\n    const toRad = (v) => (v * Math.PI) / 180;\n    const R = 6371; // km\n    const dLat = toRad(lat2 - lat1);\n    const dLon = toRad(lon2 - lon1);\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  };\n\n  const handleFindNearby = () => {\n    if (!navigator.geolocation) {\n      setNearbyStatus('Geolocation not supported');\n      return;\n    }\n    // Show consent modal before accessing location\n    setShowLocationConsent(true);\n  };\n\n  const handleLocationConsentAccept = () => {\n    setShowLocationConsent(false);\n    setNearbyStatus('Locating...');\n    navigator.geolocation.getCurrentPosition((pos) => {\n      const lat = pos.coords.latitude;\n      const lon = pos.coords.longitude;\n      setUserLocation({ lat, lon });\n      setNearbyMode(true);\n      setNearbyStatus('Nearby mode enabled');\n      setTimeout(() => setNearbyStatus(''), 2000);\n    }, (err) => {\n      console.error('Geolocation error', err);\n      setNearbyStatus('Could not get location');\n    }, { enableHighAccuracy: true, timeout: 10000 });\n  };\n\n  const clearNearby = () => {\n    setNearbyMode(false);\n    setUserLocation(null);\n    setNearbyStatus('');\n  };\n\n  // Toast notification helper\n  const showToast = (message, type = 'info', title = '') => {\n    setToast({ message, type, title });\n    setTimeout(() => setToast(null), 5000);\n  };\n\n  const handleAnalyticsConsentAccept = () => {\n    localStorage.setItem('analytics-consent', 'yes');\n    setShowAnalyticsConsent(false);\n    const app = initFirebase();\n    initAnalytics(app);\n    trackEvent('analytics_consent_granted');\n    showToast('Analytics enabled', 'success', 'Thank you!');\n  };\n\n  const handleAnalyticsConsentDecline = () => {\n    localStorage.setItem('analytics-consent', 'no');\n    setShowAnalyticsConsent(false);\n    showToast('Analytics disabled', 'info');\n  };\n\n  const saveListings = async (newListings) => {\n    try {\n      localStorage.setItem('listings', JSON.stringify(newListings));\n      setListings(newListings);\n      // Broadcast to runtime service worker for offline snapshot caching\n      if (navigator.serviceWorker && navigator.serviceWorker.controller) {\n        try { navigator.serviceWorker.controller.postMessage({ type: 'SYNC_LISTINGS', payload: newListings }); } catch {}\n      }\n    } catch (error) {\n      console.error('Error saving listings:', error);\n    }\n  };\n\n  const saveSubscriptions = async (subscriptions) => {\n    try {\n      localStorage.setItem('subscriptions', JSON.stringify(subscriptions));\n    } catch (error) {\n      console.error('Error saving subscriptions:', error);\n    }\n  };\n\n  const getSubscriptions = async () => {\n    try {\n      const res = localStorage.getItem('subscriptions');\n      return res ? JSON.parse(res) : {};\n    } catch (err) {\n      console.error('Error loading subscriptions', err);\n    }\n    return {};\n  };\n\n  const subscribeToArea = async (userId, area) => {\n    if (!userId) {\n      openAuthModal('renter');\n      return;\n    }\n    if (!area || area.trim() === '') {\n      alert('Please enter a location to subscribe to.');\n      return;\n    }\n    try {\n      const subs = await getSubscriptions();\n      subs[userId] = subs[userId] || [];\n      if (!subs[userId].includes(area)) {\n        subs[userId].push(area);\n        await saveSubscriptions(subs);\n        alert(`Subscribed to updates for ${area}`);\n      } else {\n        alert(`You are already subscribed to ${area}`);\n      }\n    } catch (err) {\n      console.error('Subscribe failed', err);\n      alert('Could not subscribe. Please try again.');\n    }\n  };\n\n  \n\nconst handleProfileSetup = async (profileData) => {\n  try {\n    // Duplicate guard\n    if (isDuplicateContact(profileData.phone, profileData.email)) {\n      showToast('Phone or email already registered', 'error', 'Duplicate');\n      return;\n    }\n    const userId = `user-${Date.now()}`;\n    const user = { \n      id: userId, \n      type: userType, \n      ...profileData,\n      whatsapp: profileData.whatsapp || '',\n      notificationPrefs: { updates: true, marketing: false },\n      createdAt: new Date().toISOString()\n    };\n    \n    localStorage.setItem('current-user', JSON.stringify(user));\n    setCurrentUser(user);\n    // Update users registry\n    const existingUsersRaw = localStorage.getItem('users');\n    let existingUsers = [];\n    if (existingUsersRaw) {\n      try { existingUsers = JSON.parse(existingUsersRaw); } catch { existingUsers = []; }\n    }\n    existingUsers.push(user);\n    localStorage.setItem('users', JSON.stringify(existingUsers));\n    setUsers(existingUsers);\n    showToast('Profile created successfully!', 'success', 'Welcome!');\n    setCurrentView('browse');\n  } catch (error) {\n    console.error('Error saving profile:', error);\n    // Still set the user locally even if storage fails\n    const userId = `user-${Date.now()}`;\n    const user = { \n      id: userId, \n      type: userType, \n      ...profileData,\n      whatsapp: profileData.whatsapp || '',\n      createdAt: new Date().toISOString()\n    };\n    setCurrentUser(user);\n    const existingUsersRaw = localStorage.getItem('users');\n    let existingUsers = [];\n    if (existingUsersRaw) {\n      try { existingUsers = JSON.parse(existingUsersRaw); } catch { existingUsers = []; }\n    }\n    existingUsers.push(user);\n    try { localStorage.setItem('users', JSON.stringify(existingUsers)); } catch {}\n    setUsers(existingUsers);\n    showToast('Profile created (data may not be persisted)', 'error');\n    setCurrentView('browse');\n  }\n};\n\nconst handleUpdateProfile = async (profileData) => {\n  try {\n    // Duplicate guard (exclude current user id)\n    if (isDuplicateContact(profileData.phone, profileData.email, currentUser?.id)) {\n      showToast('Phone or email already used by another account', 'error', 'Duplicate');\n      return;\n    }\n    const updatedUser = { ...currentUser, ...profileData };\n    \n    localStorage.setItem('current-user', JSON.stringify(updatedUser));\n    setCurrentUser(updatedUser);\n    // Update registry entry\n    const existingUsersRaw = localStorage.getItem('users');\n    let existingUsers = [];\n    if (existingUsersRaw) {\n      try { existingUsers = JSON.parse(existingUsersRaw); } catch { existingUsers = []; }\n    }\n    const idx = existingUsers.findIndex(u => u.id === updatedUser.id);\n    if (idx !== -1) {\n      existingUsers[idx] = updatedUser;\n    } else {\n      existingUsers.push(updatedUser); // ensure presence\n    }\n    localStorage.setItem('users', JSON.stringify(existingUsers));\n    setUsers(existingUsers);\n    showToast('Profile updated successfully!', 'success');\n    setCurrentView('browse');\n  } catch (error) {\n    console.error('Error updating profile:', error);\n    const updatedUser = { ...currentUser, ...profileData };\n    setCurrentUser(updatedUser);\n    const existingUsersRaw = localStorage.getItem('users');\n    let existingUsers = [];\n    if (existingUsersRaw) {\n      try { existingUsers = JSON.parse(existingUsersRaw); } catch { existingUsers = []; }\n    }\n    const idx = existingUsers.findIndex(u => u.id === updatedUser.id);\n    if (idx !== -1) {\n      existingUsers[idx] = updatedUser;\n    } else {\n      existingUsers.push(updatedUser);\n    }\n    try { localStorage.setItem('users', JSON.stringify(existingUsers)); } catch {}\n    setUsers(existingUsers);\n    showToast('Profile updated (data may not be persisted)', 'error');\n    setCurrentView('browse');\n  }\n};\n\nconst handleQuickAuth = async (profileData) => {\n  // Lightweight auth (used by AuthModal) - create and persist a user\n  try {\n    if (isDuplicateContact(profileData.phone, profileData.email)) {\n      showToast('Phone or email already registered', 'error', 'Duplicate');\n      return;\n    }\n    const userId = `user-${Date.now()}`;\n    const user = {\n      id: userId,\n      type: profileData.type || 'renter',\n      name: profileData.name,\n      phone: profileData.phone || '',\n      email: profileData.email || '',\n      photo: profileData.photo || '',\n      notificationPrefs: { updates: true, marketing: false },\n      createdAt: new Date().toISOString()\n    };\n    localStorage.setItem('current-user', JSON.stringify(user));\n    setCurrentUser(user);\n    setUserType(user.type);\n    // registry update\n    const existingUsersRaw = localStorage.getItem('users');\n    let existingUsers = [];\n    if (existingUsersRaw) {\n      try { existingUsers = JSON.parse(existingUsersRaw); } catch { existingUsers = []; }\n    }\n    existingUsers.push(user);\n    localStorage.setItem('users', JSON.stringify(existingUsers));\n    setUsers(existingUsers);\n    setShowAuthModal(false);\n    // If landlord, route to onboarding to complete setup before posting\n    if (user.type === 'landlord') {\n      setCurrentView('landlord-onboarding');\n    } else {\n      setCurrentView('browse');\n    }\n  } catch (err) {\n    console.error('Auth failed', err);\n  }\n};\n\n// Sign out helper so you can re-auth as renter for perspective preview\nconst handleSignOut = () => {\n  try {\n    localStorage.removeItem('current-user');\n  } catch (e) {\n    console.warn('Could not clear localStorage current-user');\n  }\n  setCurrentUser(null);\n  setUserType(null);\n  setCurrentView('browse');\n  showToast('Signed out. You can now sign in as Renter.', 'info');\n};\n\nconst handleCompleteOnboarding = async (onboardData) => {\n  try {\n    const updated = { ...currentUser, landlordComplete: true, landlordInfo: onboardData };\n    localStorage.setItem('current-user', JSON.stringify(updated));\n    setCurrentUser(updated);\n    setCurrentView('browse');\n  } catch (err) {\n    console.error('Onboarding save failed', err);\n    setCurrentUser({ ...currentUser, landlordComplete: true, landlordInfo: onboardData });\n    setCurrentView('browse');\n  }\n};\n\nconst handleAddListing = async (listingData) => {\n  const newListing = {\n    id: `listing-${Date.now()}`,\n    title: listingData.title,\n    price: listingData.price,\n    location: listingData.location,\n    description: listingData.description,\n    photos: listingData.photos || [],\n    status: listingData.status || 'available',\n    availableDate: listingData.availableDate || new Date().toISOString(),\n    amenities: listingData.amenities || [],\n    latitude: listingData.latitude ?? null,\n    longitude: listingData.longitude ?? null,\n      paymentMethod: listingData.paymentMethod || 'Bank and Cash',\n    premium: !!listingData.premium,\n    landlordId: currentUser.id,\n    landlordName: currentUser.name,\n    landlordPhone: currentUser.phone,\n    landlordEmail: currentUser.email,\n    landlordPhoto: currentUser.photo,\n    createdAt: new Date().toISOString()\n  };\n\n    const updatedListings = [...listings, newListing];\n    await saveListings(updatedListings);\n    showToast('Listing created successfully!', 'success', 'Success!');\n    setCurrentView('browse');\n    // Scroll to top to see new listing\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  // Messaging removed\n\nconst filteredListings = listings\n  .map(listing => {\n    // attach distance if we have userLocation\n    if (userLocation && listing.latitude != null && listing.longitude != null) {\n      const d = haversineDistance(userLocation.lat, userLocation.lon, listing.latitude, listing.longitude);\n      return { ...listing, __distanceKm: d };\n    }\n    if (userLocation && (listing.latitude == null || listing.longitude == null)) {\n      // try to geocode-less accurate: leave distance undefined\n      return { ...listing };\n    }\n    return { ...listing };\n  })\n  .filter(listing => {\n    const matchesLocation = !searchLocation || \n      (listing.location || '').toLowerCase().includes(searchLocation.toLowerCase());\n    const price = parseFloat(listing.price);\n    const matchesPrice = price >= priceRange[0] && price <= priceRange[1];\n    const matchesAmenities = selectedAmenities.length === 0 || \n      selectedAmenities.every(amenity => listing.amenities?.includes(amenity));\n\n    let passesNearby = true;\n    if (nearbyMode && userLocation) {\n      // require listing to have coordinates to be included\n      if (listing.latitude != null && listing.longitude != null) {\n        const d = listing.__distanceKm ?? haversineDistance(userLocation.lat, userLocation.lon, listing.latitude, listing.longitude);\n        passesNearby = d <= nearbyRadius;\n      } else {\n        passesNearby = false;\n      }\n    }\n\n    return matchesLocation && matchesPrice && matchesAmenities && passesNearby;\n  })\n  .sort((a, b) => {\n    if (a.premium && !b.premium) return -1;\n    if (!a.premium && b.premium) return 1;\n    if (nearbyMode && userLocation) {\n      const da = a.__distanceKm ?? Infinity;\n      const db = b.__distanceKm ?? Infinity;\n      return da - db;\n    }\n    if (sortBy === 'newest') {\n      return new Date(b.createdAt) - new Date(a.createdAt);\n    } else if (sortBy === 'cheapest') {\n      return parseFloat(a.price) - parseFloat(b.price);\n    } else if (sortBy === 'expensive') {\n      return parseFloat(b.price) - parseFloat(a.price);\n    }\n    return 0;\n  });\n\n  // Allow guests to land on Browse by default. If userType isn't set,\n  // show a gentle callout in the header (below) so users can pick a role\n  // when they want to post or set up their profile.\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Accessibility: Skip link */}\n      <a href=\"#main-content\" className=\"absolute left-2 top-2 -translate-y-full focus:translate-y-0 transition bg-blue-600 text-white px-3 py-2 rounded shadow\" style={{clipPath: 'inset(0)', zIndex: 1000}}>Skip to main content</a>\n      <Header\n        currentUser={currentUser}\n        previewAsRenter={previewAsRenter}\n        setPreviewAsRenter={setPreviewAsRenter}\n        openAuthModal={openAuthModal}\n        handleSignOut={handleSignOut}\n        setCurrentView={setCurrentView}\n      />\n      {previewAsRenter && currentUser?.type === 'landlord' && (\n        <div className=\"bg-indigo-50 border-b border-indigo-200 text-indigo-700 text-xs py-1 text-center\" role=\"status\" aria-live=\"polite\">\n          Renter preview mode: interactions are read-only. Toggle off to resume landlord actions.\n        </div>\n      )}\n\n      {/* Notification Banner (Push Notifications) */}\n      {notificationBanner && (\n        <NotificationBanner\n          title={notificationBanner.title}\n          body={notificationBanner.body}\n          onClose={() => setNotificationBanner(null)}\n        />\n      )}\n\n      {/* Toast Notification */}\n      {toast && (\n        <div className={`fixed top-20 right-4 z-50 bg-white border-l-4 ${\n          toast.type === 'success' ? 'border-green-500' : \n          toast.type === 'error' ? 'border-red-500' : \n          'border-blue-500'\n        } rounded shadow-lg p-4 animate-slideInRight flex items-start gap-3 max-w-sm`}>\n          {toast.type === 'success' && <CheckCircle className=\"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5\" />}\n          <div className=\"flex-1\">\n            {toast.title && <p className=\"font-semibold text-gray-800 mb-1\">{toast.title}</p>}\n            <p className=\"text-sm text-gray-600\">{toast.message}</p>\n          </div>\n          <button \n            onClick={() => setToast(null)}\n            className=\"text-gray-400 hover:text-gray-600\"\n            aria-label=\"Close notification\"\n          >\n            <X className=\"w-4 h-4\" />\n          </button>\n        </div>\n      )}\n\n      <div id=\"main-content\" className=\"max-w-6xl mx-auto pb-20\" role=\"main\">\n        {currentView === 'setup-profile' && (\n          <ProfileSetupView onSubmit={handleProfileSetup} userType={userType} />\n        )}\n\n        {currentView === 'profile' && currentUser && (\n          <ProfileView \n            user={currentUser} \n            onEdit={() => setCurrentView('edit-profile')} \n            onUpdatePrefs={(prefs) => {\n              const updated = { ...currentUser, notificationPrefs: prefs };\n              setCurrentUser(updated);\n              try {\n                localStorage.setItem('current-user', JSON.stringify(updated));\n                // update registry\n                const raw = localStorage.getItem('users');\n                if (raw) {\n                  try {\n                    const arr = JSON.parse(raw);\n                    const idx = arr.findIndex(u => u.id === updated.id);\n                    if (idx !== -1) { arr[idx] = updated; localStorage.setItem('users', JSON.stringify(arr)); }\n                  } catch {}\n                }\n              } catch {}\n              showToast('Preferences updated', 'success');\n            }}\n          />\n        )}\n\n        {currentView === 'edit-profile' && currentUser && (\n          <EditProfileView user={currentUser} onSubmit={handleUpdateProfile} onCancel={() => setCurrentView('profile')} />\n        )}\n\n        {currentView === 'landlord-onboarding' && currentUser && userType === 'landlord' && (\n          <LandlordOnboardingView onComplete={handleCompleteOnboarding} onCancel={() => setCurrentView('browse')} currentUser={currentUser} />\n        )}\n\n        {currentView === 'browse' && (\n                    <BrowseView \n                      listings={filteredListings}\n                      searchLocation={searchLocation}\n                      setSearchLocation={setSearchLocation}\n                      priceRange={priceRange}\n                      setPriceRange={setPriceRange}\n                      selectedAmenities={selectedAmenities}\n                      setSelectedAmenities={setSelectedAmenities}\n                      sortBy={sortBy}\n                      setSortBy={setSortBy}\n                      mapView={mapView}\n                      setMapView={setMapView}\n                      onSelectListing={setSelectedListing}\n                      setCurrentView={setCurrentView}\n                      currentUser={currentUser}\n                      onRequireAuth={openAuthModal}\n                      subscribeToArea={subscribeToArea}\n                      onFindNearby={handleFindNearby}\n                      nearbyRadius={nearbyRadius}\n                      setNearbyRadius={setNearbyRadius}\n                      nearbyMode={nearbyMode}\n                      clearNearby={clearNearby}\n                      userLocation={userLocation}\n                      nearbyStatus={nearbyStatus}\n                      previewMode={previewAsRenter}\n                    />\n        )}\n\n        {/* Messages view removed */}\n\n        {currentView === 'add' && (\n          <AddListingView\n            onSubmit={handleAddListing}\n            onCancel={() => setCurrentView('browse')}\n            currentUser={currentUser}\n            userType={userType}\n            onRequireAuth={openAuthModal}\n            onRequireOnboarding={() => setCurrentView('landlord-onboarding')}\n          />\n        )}\n\n        {currentView === 'my-listings' && currentUser && userType === 'landlord' && (\n          <MyListingsView \n            listings={listings.filter(l => l.landlordId === currentUser.id)}\n            onDelete={async (id) => {\n              const updated = listings.filter(l => l.id !== id);\n              await saveListings(updated);\n            }}\n          />\n        )}\n      </div>\n\n      {selectedListing && (\n        <ListingDetailModal \n          listing={selectedListing}\n          landlord={{\n            name: selectedListing.landlordName,\n            phone: selectedListing.landlordPhone,\n            email: selectedListing.landlordEmail,\n            photo: selectedListing.landlordPhoto\n          }}\n          onClose={() => setSelectedListing(null)}\n          userType={userType}\n          currentUser={currentUser}\n          onRequireAuth={openAuthModal}\n          previewMode={previewAsRenter}\n          showToast={showToast}\n        />\n      )}\n\n      {/* Conversation modal removed */}\n\n      {showAuthModal && (\n        <AuthModal\n          defaultType={authDefaultType}\n          onClose={() => setShowAuthModal(false)}\n          onSubmit={handleQuickAuth}\n        />\n      )}\n\n      <BottomNav \n        currentView={currentView}\n        setCurrentView={setCurrentView}\n        userType={userType}\n      />\n\n      {showLocationConsent && (\n        <LocationConsentModal\n          onAccept={handleLocationConsentAccept}\n          onDecline={() => setShowLocationConsent(false)}\n        />\n      )}\n\n      {showPrivacyPolicy && (\n        <PrivacyPolicyModal onClose={() => setShowPrivacyPolicy(false)} />\n      )}\n\n      {showAnalyticsConsent && (\n        <AnalyticsConsentModal\n          onAccept={handleAnalyticsConsentAccept}\n          onDecline={handleAnalyticsConsentDecline}\n        />\n      )}\n\n      <Footer onOpenPrivacy={() => setShowPrivacyPolicy(true)} />\n    </div>\n  );\n}\n\n\n\nfunction ProfileSetupView({ onSubmit, userType }) {\n  const [formData, setFormData] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    whatsapp: '',\n    photo: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n\n  const validateField = (name, value) => {\n    const newErrors = { ...errors };\n    switch (name) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'phone':\n        if (!value || !/^[+]?[-0-9()\\s]{7,}$/.test(value.trim())) {\n          newErrors.phone = 'Enter a valid phone number (min 7 digits)';\n        } else {\n          delete newErrors.phone;\n        }\n        break;\n      case 'email':\n        if (!value || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value.trim())) {\n          newErrors.email = 'Enter a valid email address';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      case 'photo':\n        if (value === 'FILE_TOO_LARGE') {\n          newErrors.photo = 'Photo is too large (max 2MB)';\n        } else {\n          delete newErrors.photo;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n\n  const handlePhotoUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 2 * 1024 * 1024) { // 2MB limit\n        setFormData({ ...formData, photo: '' });\n        validateField('photo', 'FILE_TOO_LARGE');\n        return;\n      }\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({ ...formData, photo: reader.result });\n        validateField('photo', reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleSubmit = () => {\n    // Touch all fields\n    const allTouched = { name: true, phone: true, email: true, photo: true };\n    setTouched(allTouched);\n    validateField('name', formData.name);\n    validateField('phone', formData.phone);\n    validateField('email', formData.email);\n    if (Object.keys(errors).length === 0 && formData.name && formData.phone && formData.email) {\n      onSubmit(formData);\n    }\n  };\n\n  return (\n    <div className=\"p-4 min-h-screen bg-gray-50 pb-20\">\n      <div className=\"max-w-2xl mx-auto mt-8\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n          <div className=\"text-center mb-8\">\n            <h2 className=\"text-3xl font-bold text-gray-800 mb-2\">Complete Your Profile</h2>\n            <p className=\"text-gray-600\">Help others know who you are</p>\n          </div>\n\n          <div className=\"space-y-6\">\n            {/* Photo Upload */}\n            <div className=\"flex justify-center mb-8\">\n              <div className=\"relative\">\n                {formData.photo ? (\n                  <img \n                    src={formData.photo} \n                    alt=\"Profile\" \n                    className=\"w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-lg\" \n                  />\n                ) : (\n                  <div className=\"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-blue-200 shadow-lg\">\n                    <User className=\"w-16 h-16 text-blue-600\" />\n                  </div>\n                )}\n                <label className=\"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition group\" aria-label=\"Upload profile photo\">\n                  <Edit className=\"w-5 h-5\" />\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handlePhotoUpload}\n                    className=\"hidden\"\n                  />\n                </label>\n              </div>\n            </div>\n\n            {/* Form Fields */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Full Name *</label>\n              <input\n                type=\"text\"\n                required\n                value={formData.name}\n                onChange={(e) => { setFormData({ ...formData, name: e.target.value }); if (touched.name) validateField('name', e.target.value); }}\n                onBlur={(e) => { setTouched({ ...touched, name: true }); validateField('name', e.target.value); }}\n                placeholder=\"Enter your full name\"\n                aria-invalid={errors.name ? 'true' : 'false'}\n                aria-describedby={errors.name ? 'profile-name-error' : undefined}\n                className={`w-full px-4 py-3 border ${errors.name ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.name && touched.name && <p id=\"profile-name-error\" className=\"mt-1 text-xs text-red-600\">{errors.name}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Phone Number *</label>\n              <div className=\"relative\">\n                <Phone className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"tel\"\n                  required\n                  value={formData.phone}\n                  onChange={(e) => { setFormData({ ...formData, phone: e.target.value }); if (touched.phone) validateField('phone', e.target.value); }}\n                  onBlur={(e) => { setTouched({ ...touched, phone: true }); validateField('phone', e.target.value); }}\n                  placeholder=\"e.g., +27 12 345 6789\"\n                  aria-invalid={errors.phone ? 'true' : 'false'}\n                  aria-describedby={errors.phone ? 'profile-phone-error' : undefined}\n                  className={`w-full pl-11 pr-4 py-3 border ${errors.phone ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n                />\n              </div>\n              {errors.phone && touched.phone && <p id=\"profile-phone-error\" className=\"mt-1 text-xs text-red-600\">{errors.phone}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Email Address *</label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"email\"\n                  required\n                  value={formData.email}\n                  onChange={(e) => { setFormData({ ...formData, email: e.target.value }); if (touched.email) validateField('email', e.target.value); }}\n                  onBlur={(e) => { setTouched({ ...touched, email: true }); validateField('email', e.target.value); }}\n                  placeholder=\"your.email@example.com\"\n                  aria-invalid={errors.email ? 'true' : 'false'}\n                  aria-describedby={errors.email ? 'profile-email-error' : undefined}\n                  className={`w-full pl-11 pr-4 py-3 border ${errors.email ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n                />\n              </div>\n              {errors.email && touched.email && <p id=\"profile-email-error\" className=\"mt-1 text-xs text-red-600\">{errors.email}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">WhatsApp (optional)</label>\n              <div className=\"relative\">\n                <Phone className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"tel\"\n                  value={formData.whatsapp}\n                  onChange={(e) => setFormData({ ...formData, whatsapp: e.target.value })}\n                  placeholder=\"e.g., +27 71 234 5678\"\n                  className=\"w-full pl-11 pr-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400\"\n                />\n              </div>\n              <p className=\"text-xs text-gray-500 mt-1\">Used to create a WhatsApp chat link on your listings.</p>\n            </div>\n\n            {/* Submit Button */}\n            <button\n              onClick={handleSubmit}\n              className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition mt-8 shadow-sm\"\n            >\n              Complete Setup\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ProfileView({ user, onEdit, onUpdatePrefs }) {\n  const prefs = user.notificationPrefs || { updates: true, marketing: false };\n  const [localPrefs, setLocalPrefs] = React.useState(prefs);\n\n  const togglePref = (key) => {\n    const next = { ...localPrefs, [key]: !localPrefs[key] };\n    setLocalPrefs(next);\n    onUpdatePrefs && onUpdatePrefs(next);\n  };\n\n  return (\n    <div className=\"p-4\">\n      <div className=\"bg-white rounded-lg shadow p-6 max-w-xl mx-auto\">\n        <div className=\"flex justify-between items-start mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-800\">My Profile</h2>\n          <button\n            onClick={onEdit}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition flex items-center gap-2\"\n          >\n            <Edit className=\"w-4 h-4\" />\n            Edit\n          </button>\n        </div>\n\n        <div className=\"flex flex-col items-center mb-6\">\n          {user.photo ? (\n            <img src={user.photo} alt=\"Profile\" className=\"w-32 h-32 rounded-full object-cover border-4 border-blue-500 mb-4\" />\n          ) : (\n            <div className=\"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center border-4 border-gray-300 mb-4\">\n              <User className=\"w-16 h-16 text-gray-400\" />\n            </div>\n          )}\n          <h3 className=\"text-2xl font-bold text-gray-800\">{user.name}</h3>\n          <span className=\"inline-block mt-2 px-4 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold\">\n            {user.type === 'landlord' ? 'Landlord' : 'Renter'}\n          </span>\n        </div>\n\n        <div className=\"space-y-4\">\n          <div className=\"bg-gray-50 rounded-lg p-4\">\n            <div className=\"flex items-center text-gray-600\">\n              <Phone className=\"w-5 h-5 mr-3 text-blue-600\" />\n              <div>\n                <p className=\"text-xs text-gray-500 mb-1\">Phone Number</p>\n                <p className=\"font-semibold text-gray-800\">{user.phone}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-gray-50 rounded-lg p-4\">\n            <div className=\"flex items-center text-gray-600\">\n              <Mail className=\"w-5 h-5 mr-3 text-blue-600\" />\n              <div>\n                <p className=\"text-xs text-gray-500 mb-1\">Email Address</p>\n                <p className=\"font-semibold text-gray-800\">{user.email}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-gray-50 rounded-lg p-4\">\n            <div className=\"flex items-center text-gray-600\">\n              <User className=\"w-5 h-5 mr-3 text-blue-600\" />\n              <div>\n                <p className=\"text-xs text-gray-500 mb-1\">Member Since</p>\n                <p className=\"font-semibold text-gray-800\">\n                  {new Date(user.createdAt).toLocaleDateString()}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-indigo-50 rounded-lg p-4\">\n            <h4 className=\"font-semibold text-gray-800 mb-2\">Notification Preferences</h4>\n            <div className=\"space-y-2\">\n              <label className=\"flex items-center gap-2 text-sm text-gray-700\">\n                <input\n                  type=\"checkbox\"\n                  checked={localPrefs.updates}\n                  onChange={() => togglePref('updates')}\n                />\n                Updates about new rooms in subscribed areas\n              </label>\n              <label className=\"flex items-center gap-2 text-sm text-gray-700\">\n                <input\n                  type=\"checkbox\"\n                  checked={localPrefs.marketing}\n                  onChange={() => togglePref('marketing')}\n                />\n                Occasional feature & promotion emails\n              </label>\n            </div>\n            <p className=\"text-[11px] text-gray-500 mt-2\">You can opt out anytime. Changes save instantly.</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction LandlordOnboardingView({ onComplete, onCancel, currentUser }) {\n  const [form, setForm] = useState({ businessName: currentUser?.name || '', bankDetails: '', idNumber: '', agree: false });\n\n  const handleSubmit = () => {\n    if (!form.businessName || !form.agree) {\n      alert('Please provide a display name and agree to the terms.');\n      return;\n    }\n    onComplete(form);\n  };\n\n  return (\n    <div className=\"p-4 min-h-screen bg-gray-50 pb-20\">\n      <div className=\"max-w-2xl mx-auto mt-8\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n          <div className=\"flex items-center gap-6 mb-6\">\n            <div className=\"w-16 h-16 rounded-full bg-blue-50 flex items-center justify-center text-blue-600 text-2xl font-bold\">\n              {currentUser && currentUser.name ? currentUser.name.charAt(0) : 'L'}\n            </div>\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-800\">Welcome, {currentUser?.name || 'Landlord'}</h2>\n              <p className=\"text-gray-600\">A few details to get your listings live and increase trust with renters.</p>\n            </div>\n          </div>\n\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-1\">Display Name *</label>\n              <input value={form.businessName} onChange={(e) => setForm({ ...form, businessName: e.target.value })} className=\"w-full px-4 py-3 border border-gray-300 rounded-lg\" />\n              <p className=\"text-xs text-gray-500 mt-1\">This name is shown to renters on your listings and messages.</p>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-1\">How do you want to receive payments?</label>\n              <input value={form.bankDetails} onChange={(e) => setForm({ ...form, bankDetails: e.target.value })} placeholder=\"Bank account or payment details (optional)\" className=\"w-full px-4 py-3 border border-gray-300 rounded-lg\" />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-1\">ID Number (optional)</label>\n              <input value={form.idNumber} onChange={(e) => setForm({ ...form, idNumber: e.target.value })} className=\"w-full px-4 py-3 border border-gray-300 rounded-lg\" />\n            </div>\n\n            <div className=\"flex items-start gap-2\">\n              <input type=\"checkbox\" checked={form.agree} onChange={(e) => setForm({ ...form, agree: e.target.checked })} />\n              <div className=\"text-sm text-gray-600\">I confirm I am authorised to list these properties and agree to the <button type=\"button\" onClick={(e) => e.preventDefault()} className=\"text-blue-600 underline p-0\">terms of service</button>.</div>\n            </div>\n\n            <div className=\"flex gap-3 pt-4\">\n              <button onClick={onCancel} className=\"flex-1 bg-gray-100 hover:bg-gray-200 py-3 rounded\">Cancel</button>\n              <button onClick={handleSubmit} className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded\">Complete and Start Listing</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction EditProfileView({ user, onSubmit, onCancel }) {\n  const [formData, setFormData] = useState({\n    name: user.name || '',\n    phone: user.phone || '',\n    email: user.email || '',\n    whatsapp: user.whatsapp || '',\n    photo: user.photo || ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n\n  const validateField = (name, value) => {\n    const newErrors = { ...errors };\n    switch (name) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'phone':\n        if (!value || !/^[+]?[-0-9()\\s]{7,}$/.test(value.trim())) {\n          newErrors.phone = 'Enter a valid phone number';\n        } else {\n          delete newErrors.phone;\n        }\n        break;\n      case 'email':\n        if (!value || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value.trim())) {\n          newErrors.email = 'Enter a valid email';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n\n  const handlePhotoUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({ ...formData, photo: reader.result });\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleSubmit = () => {\n    setTouched({ name: true, phone: true, email: true });\n    validateField('name', formData.name);\n    validateField('phone', formData.phone);\n    validateField('email', formData.email);\n    if (Object.keys(errors).length === 0 && formData.name && formData.phone && formData.email) {\n      onSubmit(formData);\n    }\n  };\n\n  return (\n    <div className=\"p-4 min-h-screen bg-gray-50 pb-20\">\n      <div className=\"max-w-2xl mx-auto mt-8\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n          <div className=\"flex items-center justify-between mb-8\">\n            <h2 className=\"text-3xl font-bold text-gray-800\">Edit Profile</h2>\n            <button onClick={onCancel} className=\"text-gray-400 hover:text-gray-600 transition\">\n              <X className=\"w-6 h-6\" />\n            </button>\n          </div>\n\n          <div className=\"space-y-6\">\n            {/* Photo Upload */}\n            <div className=\"flex justify-center mb-8\">\n              <div className=\"relative\">\n                {formData.photo ? (\n                  <img src={formData.photo} alt=\"Profile\" className=\"w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-lg\" />\n                ) : (\n                  <div className=\"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-blue-200 shadow-lg\">\n                    <User className=\"w-16 h-16 text-blue-600\" />\n                  </div>\n                )}\n                <label className=\"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition\" aria-label=\"Upload new profile photo\">\n                  <Edit className=\"w-5 h-5\" />\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handlePhotoUpload}\n                    className=\"hidden\"\n                  />\n                </label>\n              </div>\n            </div>\n\n            {/* Form Fields */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Full Name</label>\n              <input\n                type=\"text\"\n                required\n                value={formData.name}\n                onChange={(e) => { setFormData({ ...formData, name: e.target.value }); if (touched.name) validateField('name', e.target.value); }}\n                onBlur={(e) => { setTouched({ ...touched, name: true }); validateField('name', e.target.value); }}\n                aria-invalid={errors.name ? 'true' : 'false'}\n                aria-describedby={errors.name ? 'edit-name-error' : undefined}\n                className={`w-full px-4 py-3 border ${errors.name ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.name && touched.name && <p id=\"edit-name-error\" className=\"mt-1 text-xs text-red-600\">{errors.name}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Phone Number</label>\n              <div className=\"relative\">\n                <Phone className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"tel\"\n                  required\n                  value={formData.phone}\n                  onChange={(e) => { setFormData({ ...formData, phone: e.target.value }); if (touched.phone) validateField('phone', e.target.value); }}\n                  onBlur={(e) => { setTouched({ ...touched, phone: true }); validateField('phone', e.target.value); }}\n                  aria-invalid={errors.phone ? 'true' : 'false'}\n                  aria-describedby={errors.phone ? 'edit-phone-error' : undefined}\n                  className={`w-full pl-11 pr-4 py-3 border ${errors.phone ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n                />\n              </div>\n              {errors.phone && touched.phone && <p id=\"edit-phone-error\" className=\"mt-1 text-xs text-red-600\">{errors.phone}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Email Address</label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"email\"\n                  required\n                  value={formData.email}\n                  onChange={(e) => { setFormData({ ...formData, email: e.target.value }); if (touched.email) validateField('email', e.target.value); }}\n                  onBlur={(e) => { setTouched({ ...touched, email: true }); validateField('email', e.target.value); }}\n                  aria-invalid={errors.email ? 'true' : 'false'}\n                  aria-describedby={errors.email ? 'edit-email-error' : undefined}\n                  className={`w-full pl-11 pr-4 py-3 border ${errors.email ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n                />\n              </div>\n              {errors.email && touched.email && <p id=\"edit-email-error\" className=\"mt-1 text-xs text-red-600\">{errors.email}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">WhatsApp (optional)</label>\n              <div className=\"relative\">\n                <Phone className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"tel\"\n                  value={formData.whatsapp}\n                  onChange={(e) => setFormData({ ...formData, whatsapp: e.target.value })}\n                  placeholder=\"e.g., +27 71 234 5678\"\n                  className=\"w-full pl-11 pr-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400\"\n                />\n              </div>\n              <p className=\"text-xs text-gray-500 mt-1\">Used to create a WhatsApp chat link on your listings.</p>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex gap-3 pt-6 border-t border-gray-200\">\n              <button\n                onClick={onCancel}\n                className=\"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 rounded-lg transition\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleSubmit}\n                className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition shadow-sm\"\n              >\n                Save Changes\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* BrowseView extracted to components/BrowseView.jsx */\n\nfunction AddListingView({ onSubmit, onCancel, currentUser, userType, onRequireAuth, onRequireOnboarding }) {\n  const GEOCODER_KEY = process.env.REACT_APP_GEOCODER_API_KEY;\n  const GEOCODER_PROVIDER = (process.env.REACT_APP_GEOCODER_PROVIDER || '').toLowerCase();\n\n  const [formData, setFormData] = useState({\n    title: '',\n    price: '',\n    location: '',\n    streetAddress: '',\n    description: '',\n    photos: [],\n    status: 'available',\n    availableDate: new Date().toISOString().split('T')[0],\n    amenities: [],\n    latitude: null,\n    longitude: null,\n    paymentMethod: 'Bank and Cash'\n  });\n  const [geocodingStatus, setGecodingStatus] = useState('');\n  const [errors, setErrors] = useState({});\n  const [locationHelpBanner, setLocationHelpBanner] = useState('');\n  const [locationSuggestions, setLocationSuggestions] = useState([]);\n  const [locationSuggestionsLoading, setLocationSuggestionsLoading] = useState(false);\n  const locationSuggestionCacheRef = React.useRef({}); // { queryLower: { data, ts } }\n  const LOCATION_SUGGESTION_TTL_MS = 15 * 60 * 1000;\n\n  const availableAmenities = [\n    'WiFi', 'Parking', 'Kitchen', 'Laundry', 'Air Conditioning', \n    'Heating', 'TV', 'Furnished', 'Pet Friendly', 'Garden'\n  ];\n\n  const validateField = (name, value) => {\n    const newErrors = { ...errors };\n    \n    switch (name) {\n      case 'title':\n        if (!value || value.trim().length < 5) {\n          newErrors.title = 'Title must be at least 5 characters';\n        } else {\n          delete newErrors.title;\n        }\n        break;\n      case 'price':\n        if (!value || parseFloat(value) <= 0) {\n          newErrors.price = 'Price must be greater than 0';\n        } else if (parseFloat(value) < 500) {\n          newErrors.price = 'Price seems too low (minimum R500)';\n        } else if (parseFloat(value) > 50000) {\n          newErrors.price = 'Price seems too high (maximum R50,000)';\n        } else {\n          delete newErrors.price;\n        }\n        break;\n      case 'location':\n        if (!value || value.trim().length < 3) {\n          newErrors.location = 'Location is required (min 3 characters)';\n        } else {\n          delete newErrors.location;\n        }\n        break;\n      case 'description':\n        if (value && value.length > 500) {\n          newErrors.description = 'Description is too long (max 500 characters)';\n        } else {\n          delete newErrors.description;\n        }\n        break;\n      default:\n        break;\n    }\n    \n    setErrors(newErrors);\n  };\n\n  // Debounced provider-aware suggestions (Mapbox/Nominatim) with caching & bias\n  useEffect(() => {\n    const raw = (formData.location || '').trim();\n    if (raw.length < 3) { setLocationSuggestions([]); setLocationSuggestionsLoading(false); return; }\n    const qLower = raw.toLowerCase();\n    const cached = locationSuggestionCacheRef.current[qLower];\n    if (cached && (Date.now() - cached.ts) < LOCATION_SUGGESTION_TTL_MS) {\n      setLocationSuggestions(cached.data);\n      return;\n    }\n    const controller = new AbortController();\n    setLocationSuggestionsLoading(true);\n    const t = setTimeout(async () => {\n      try {\n        let suggestions = [];\n        if (GEOCODER_PROVIDER === 'mapbox' && GEOCODER_KEY) {\n          const proximity = (formData.latitude && formData.longitude) ? `&proximity=${formData.longitude},${formData.latitude}` : '';\n          const url = `https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(raw)}.json?access_token=${GEOCODER_KEY}&limit=5&country=ZA&language=en${proximity}&types=place,locality,neighborhood`;\n          const resp = await fetch(url, { signal: controller.signal });\n          const data = await resp.json();\n          if (data && Array.isArray(data.features)) {\n            suggestions = data.features.map(f => f.place_name).filter(Boolean);\n          }\n        } else {\n          let biasParams = '';\n          if (formData.latitude && formData.longitude) {\n            const delta = 0.2;\n            const minLon = formData.longitude - delta;\n            const maxLon = formData.longitude + delta;\n            const minLat = formData.latitude - delta;\n            const maxLat = formData.latitude + delta;\n            biasParams = `&bounded=1&viewbox=${minLon},${maxLat},${maxLon},${minLat}`;\n          }\n          const url = `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(raw + ', South Africa')}&limit=5${biasParams}`;\n          const resp = await fetch(url, { signal: controller.signal, headers: { 'Accept-Language': 'en' } });\n          const data = await resp.json();\n          const uniq = [];\n          data.forEach(item => {\n            const display = item.display_name || '';\n            const parts = display.split(',').map(p => p.trim());\n            const area = parts.slice(0, 2).join(', ');\n            if (area && !uniq.includes(area)) uniq.push(area);\n          });\n          suggestions = uniq.slice(0,5);\n        }\n        locationSuggestionCacheRef.current[qLower] = { data: suggestions, ts: Date.now() };\n        setLocationSuggestions(suggestions);\n      } catch (e) {\n        setLocationSuggestions([]);\n      } finally {\n        setLocationSuggestionsLoading(false);\n      }\n    }, 500);\n    return () => { clearTimeout(t); controller.abort(); };\n  }, [formData.location, formData.latitude, formData.longitude, GEOCODER_PROVIDER, GEOCODER_KEY, LOCATION_SUGGESTION_TTL_MS]);\n\n  // Geocode address using Nominatim (OpenStreetMap)\n  // Use browser geolocation and reverse-geocode to fill address/coords\n  const geolocateCurrentPosition = () => {\n    if (!navigator.geolocation) {\n      setGecodingStatus('Geolocation not supported by your browser');\n      setLocationHelpBanner('Location is disabled. Tap for steps to enable.');\n      return;\n    }\n\n    setGecodingStatus('Locating...');\n    navigator.geolocation.getCurrentPosition(async (pos) => {\n      const lat = pos.coords.latitude;\n      const lon = pos.coords.longitude;\n      setFormData({ ...formData, latitude: lat, longitude: lon });\n\n      // Reverse geocode to get a readable address\n      try {\n        if (GEOCODER_PROVIDER === 'mapbox' && GEOCODER_KEY) {\n          const rev = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${lon},${lat}.json?access_token=${GEOCODER_KEY}&limit=1&country=za`);\n          const revData = await rev.json();\n          if (revData && revData.features && revData.features.length > 0) {\n            const place = revData.features[0].place_name || '';\n            const parts = place.split(',').map(p => p.trim());\n            const street = parts.slice(0, 2).join(', ');\n            const area = parts.slice(2, 4).join(', ');\n            setFormData(prev => ({ ...prev, streetAddress: street || prev.streetAddress, location: area || prev.location }));\n            setGecodingStatus(' Current location set');\n            setTimeout(() => setGecodingStatus(''), 2500);\n            return;\n          }\n        } else {\n          const rev = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`);\n          const revData = await rev.json();\n          if (revData) {\n            const display = revData.display_name || '';\n            // Try to split display name into street and area\n            const parts = display.split(',').map(p => p.trim());\n            const street = parts.slice(0, 2).join(', ');\n            const area = parts.slice(2, 4).join(', ');\n            setFormData(prev => ({ ...prev, streetAddress: street || prev.streetAddress, location: area || prev.location }));\n            setGecodingStatus(' Current location set');\n            setTimeout(() => setGecodingStatus(''), 2500);\n            return;\n          }\n        }\n\n      } catch (e) {\n        console.error('Reverse geocode failed', e);\n      }\n\n      setGecodingStatus(' Coordinates obtained');\n      setTimeout(() => setGecodingStatus(''), 2000);\n    }, (err) => {\n      console.error('Geolocation error', err);\n      setGecodingStatus('Could not get your location');\n      setLocationHelpBanner('Location permission denied. Tap here for steps to enable.');\n    }, { enableHighAccuracy: true, timeout: 10000 });\n  };\n\n  const geocodeAddress = async () => {\n    if (!formData.streetAddress) {\n      setGecodingStatus('Please enter a street address');\n      return;\n    }\n    \n    setGecodingStatus('Finding coordinates...');\n    try {\n      const fullAddress = `${formData.streetAddress}, ${formData.location}, South Africa`;\n      // Try Mapbox if configured\n      if (GEOCODER_PROVIDER === 'mapbox' && GEOCODER_KEY) {\n        try {\n          const resp = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(fullAddress)}.json?access_token=${GEOCODER_KEY}&limit=1&country=za`);\n          const data = await resp.json();\n          if (data && data.features && data.features.length > 0) {\n            const [lon, lat] = data.features[0].center || [];\n            setFormData({ ...formData, latitude: parseFloat(lat), longitude: parseFloat(lon) });\n            setGecodingStatus(' Address found (Mapbox)!');\n            setTimeout(() => setGecodingStatus(''), 2000);\n            return;\n          }\n        } catch (err) {\n          console.warn('Mapbox geocoding failed, falling back to Nominatim', err);\n        }\n      }\n\n      // Default / fallback: Nominatim\n      const response = await fetch(\n        `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(fullAddress)}`\n      );\n      const results = await response.json();\n\n      if (results.length > 0) {\n        const { lat, lon } = results[0];\n        setFormData({ \n          ...formData, \n          latitude: parseFloat(lat), \n          longitude: parseFloat(lon) \n        });\n        setGecodingStatus(' Address found!');\n        setTimeout(() => setGecodingStatus(''), 2000);\n      } else {\n        setGecodingStatus('Address not found. Trying with area only...');\n        // Fallback: just use the area/city\n        const areaResponse = await fetch(\n          `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(formData.location + ', South Africa')}`\n        );\n        const areaResults = await areaResponse.json();\n        if (areaResults.length > 0) {\n          const { lat, lon } = areaResults[0];\n          setFormData({ \n            ...formData, \n            latitude: parseFloat(lat), \n            longitude: parseFloat(lon) \n          });\n          setGecodingStatus(' Area found!');\n          setTimeout(() => setGecodingStatus(''), 2000);\n        } else {\n          setGecodingStatus('Could not find location');\n        }\n      }\n    } catch (error) {\n      console.error('Geocoding error:', error);\n      setGecodingStatus('Error finding address. Check your connection.');\n    }\n  };\n\n  // Draggable preview marker component for Add Listing\n  function DraggablePreview({ lat, lng }) {\n    const [pos, setPos] = useState(lat && lng ? [lat, lng] : null);\n    useEffect(() => {\n      if (lat && lng) setPos([lat, lng]);\n    }, [lat, lng]);\n\n    if (!pos) return null;\n    return (\n      <MapContainer center={pos} zoom={15} className=\"w-full h-48 rounded-lg\" whenCreated={() => {}}>\n        <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\n        <Marker\n          position={pos}\n          draggable={true}\n          eventHandlers={{\n            dragend: (e) => {\n              const ll = e.target.getLatLng();\n              setPos([ll.lat, ll.lng]);\n              setFormData(prev => ({ ...prev, latitude: ll.lat, longitude: ll.lng }));\n            }\n          }}\n        />\n      </MapContainer>\n    );\n  }\n\n  const toggleAmenity = (amenity) => {\n    if (formData.amenities.includes(amenity)) {\n      setFormData({ ...formData, amenities: formData.amenities.filter(a => a !== amenity) });\n    } else {\n      setFormData({ ...formData, amenities: [...formData.amenities, amenity] });\n    }\n  };\n\n  const handlePhotoUpload = (e) => {\n    const files = Array.from(e.target.files || []);\n    if (files.length === 0) return;\n\n    const readers = files.map(file => new Promise((resolve) => {\n      const reader = new FileReader();\n      reader.onloadend = () => resolve(reader.result);\n      reader.readAsDataURL(file);\n    }));\n\n    Promise.all(readers).then(images => {\n      const combined = [...formData.photos, ...images].slice(0, 5); // cap at 5\n      setFormData({ ...formData, photos: combined });\n    });\n  };\n\n  const removePhoto = (index) => {\n    const newPhotos = formData.photos.filter((_, i) => i !== index);\n    setFormData({ ...formData, photos: newPhotos });\n  };\n\n  const handleSubmit = () => {\n    // Enforce auth and onboarding checks before allowing submission\n    if (!currentUser) {\n      onRequireAuth && onRequireAuth('landlord');\n      return;\n    }\n    if (userType !== 'landlord') {\n      // prompt to become landlord\n      onRequireAuth && onRequireAuth('landlord');\n      return;\n    }\n    if (!currentUser.landlordComplete) {\n      // send to onboarding\n      onRequireOnboarding && onRequireOnboarding();\n      return;\n    }\n\n    // Validate all fields\n    validateField('title', formData.title);\n    validateField('price', formData.price);\n    validateField('location', formData.location);\n    validateField('description', formData.description);\n\n    if (!formData.title || formData.title.trim().length < 5) {\n      setErrors(prev => ({ ...prev, title: 'Title must be at least 5 characters' }));\n      return;\n    }\n    if (!formData.price || parseFloat(formData.price) <= 0) {\n      setErrors(prev => ({ ...prev, price: 'Price must be greater than 0' }));\n      return;\n    }\n    if (!formData.location || formData.location.trim().length < 3) {\n      setErrors(prev => ({ ...prev, location: 'Location is required' }));\n      return;\n    }\n    if (Object.keys(errors).length > 0) {\n      return;\n    }\n\n    onSubmit(formData);\n  };\n\n  // Auto-attempt geolocation shortly after mount for landlord convenience\n  useEffect(() => {\n    const shouldAttempt = !formData.latitude && !formData.longitude;\n    if (shouldAttempt) {\n      const t = setTimeout(() => {\n        geolocateCurrentPosition();\n      }, 800);\n      return () => clearTimeout(t);\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData.latitude, formData.longitude]);\n\n  return (\n    <div className=\"p-4 bg-gray-50 min-h-screen pb-20\">\n      <div className=\"max-w-3xl mx-auto mt-8\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n          <div className=\"flex items-center justify-between mb-8\">\n            <h2 className=\"text-3xl font-bold text-gray-800\">Post a Room</h2>\n            <button onClick={onCancel} className=\"text-gray-400 hover:text-gray-600 transition\">\n              <X className=\"w-6 h-6\" />\n            </button>\n          </div>\n\n          <div className=\"space-y-6\">\n            {/* Title */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Room Title *</label>\n              <input\n                type=\"text\"\n                required\n                value={formData.title}\n                onChange={(e) => {\n                  setFormData({ ...formData, title: e.target.value });\n                  validateField('title', e.target.value);\n                }}\n                onBlur={(e) => validateField('title', e.target.value)}\n                placeholder=\"e.g., Cozy backroom with bathroom\"\n                className={`w-full px-4 py-3 border ${errors.title ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.title ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.title && <p className=\"text-red-500 text-xs mt-1\">{errors.title}</p>}\n            </div>\n\n            {/* Price */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Monthly Price (R) *</label>\n              <input\n                type=\"number\"\n                required\n                value={formData.price}\n                onChange={(e) => {\n                  setFormData({ ...formData, price: e.target.value });\n                  validateField('price', e.target.value);\n                }}\n                onBlur={(e) => validateField('price', e.target.value)}\n                placeholder=\"e.g., 2500\"\n                className={`w-full px-4 py-3 border ${errors.price ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.price ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.price && <p className=\"text-red-500 text-xs mt-1\">{errors.price}</p>}\n            </div>\n\n            {/* Location and Street Address */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Area / City *</label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.location}\n                  onChange={(e) => {\n                    setFormData({ ...formData, location: e.target.value });\n                    validateField('location', e.target.value);\n                  }}\n                  onBlur={(e) => validateField('location', e.target.value)}\n                  placeholder=\"e.g., Soweto, Johannesburg\"\n                  className={`w-full px-4 py-3 border ${errors.location ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.location ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`}\n                />\n                {errors.location && <p className=\"text-red-500 text-xs mt-1\">{errors.location}</p>}\n                {locationSuggestionsLoading && (\n                  <p className=\"text-xs text-blue-600 mt-1 animate-pulse\" aria-live=\"polite\">Loading suggestions...</p>\n                )}\n                {locationSuggestions.length > 0 && (\n                  <div className=\"mt-2 border border-gray-200 rounded-lg bg-white shadow-sm divide-y\">\n                    {locationSuggestions.map(s => (\n                      <button\n                        key={s}\n                        type=\"button\"\n                        onClick={() => { setFormData({ ...formData, location: s }); setLocationSuggestions([]); validateField('location', s); }}\n                        className=\"w-full text-left px-3 py-2 text-sm hover:bg-blue-50\"\n                      >{s}</button>\n                    ))}\n                  </div>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Street Address</label>\n                <input\n                  type=\"text\"\n                  value={formData.streetAddress}\n                  onChange={(e) => setFormData({ ...formData, streetAddress: e.target.value })}\n                  placeholder=\"e.g., 123 Main Street\"\n                  className=\"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400\"\n                />\n              </div>\n            </div>\n\n            {/* Geocode Section - More Prominent */}\n            <div className=\"bg-blue-50 border-2 border-blue-200 rounded-lg p-6\">\n              <div className=\"flex items-start gap-3 mb-4\">\n                <MapPin className=\"w-6 h-6 text-blue-600 flex-shrink-0 mt-1\" />\n                <div className=\"flex-1\">\n                  <h3 className=\"text-lg font-semibold text-gray-800 mb-1\">Set Location on Map</h3>\n                  <p className=\"text-sm text-gray-600\">Help renters find your listing by pinpointing its exact location.</p>\n                </div>\n              </div>\n\n              <div className=\"flex flex-wrap gap-3 items-center mb-4\">\n                {locationHelpBanner && (\n                  <div className=\"w-full bg-yellow-50 border-2 border-yellow-200 text-yellow-800 rounded-lg p-3 text-sm flex items-start gap-2\">\n                    <span></span>\n                    <div className=\"flex-1\">\n                      {locationHelpBanner}\n                      <button\n                        type=\"button\"\n                        className=\"ml-2 underline font-semibold\"\n                        onClick={() => window.alert('To enable location: 1) Tap the lock icon in the address bar. 2) Find Location permission. 3) Set to Allow. Then refresh the page.')}\n                      >How to enable</button>\n                    </div>\n                  </div>\n                )}\n                <div className=\"w-full text-xs text-blue-700 bg-blue-50 border border-blue-200 rounded p-2\">\n                  Tip: Using \"Use Current Location\" is recommended for accuracy. Street address can be approximate  drag the pin to fine tune.\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={geocodeAddress}\n                  className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg text-sm font-semibold transition shadow-sm flex items-center gap-2\"\n                >\n                  <MapPin className=\"w-4 h-4\" />\n                  Find on Map\n                </button>\n\n                <button\n                  type=\"button\"\n                  onClick={geolocateCurrentPosition}\n                  className=\"bg-white hover:bg-gray-50 border-2 border-gray-300 text-gray-800 px-6 py-3 rounded-lg text-sm font-semibold transition shadow-sm flex items-center gap-2\"\n                >\n                  <MapPin className=\"w-4 h-4\" />\n                  Use Current Location\n                </button>\n\n                <div className=\"text-sm flex-1\">\n                  {geocodingStatus && (\n                    <span className={`${geocodingStatus.startsWith('') ? 'text-green-600 font-semibold' : 'text-gray-700'} flex items-center gap-1`}>\n                      {geocodingStatus.startsWith('') && <CheckCircle className=\"w-4 h-4\" />}\n                      {geocodingStatus}\n                    </span>\n                  )}\n                  {formData.latitude && formData.longitude && !geocodingStatus && (\n                    <span className=\"text-green-600 font-semibold flex items-center gap-1\">\n                      <CheckCircle className=\"w-4 h-4\" />\n                      Location set: {formData.latitude.toFixed(4)}, {formData.longitude.toFixed(4)}\n                    </span>\n                  )}\n                </div>\n              </div>\n\n              {/* Draggable preview map */}\n              <div className=\"mt-4\">\n                {(formData.latitude && formData.longitude) ? (\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Fine-tune Location (drag pin)</label>\n                    <DraggablePreview lat={formData.latitude} lng={formData.longitude} />\n                  </div>\n                ) : (\n                  <div className=\"text-sm text-gray-600 bg-white border border-gray-200 rounded-lg p-4 text-center\">\n                    <MapPin className=\"w-8 h-8 mx-auto mb-2 text-gray-400\" />\n                    No location set yet. Click \"Find on Map\" or \"Use Current Location\" to place a pin.\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Status and Available Date - Two columns */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Status</label>\n                <select\n                  value={formData.status}\n                  onChange={(e) => setFormData({ ...formData, status: e.target.value })}\n                  className=\"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                >\n                  <option value=\"available\">Available</option>\n                  <option value=\"rented\">Rented</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Available Date</label>\n                <input\n                  type=\"date\"\n                  value={formData.availableDate}\n                  onChange={(e) => setFormData({ ...formData, availableDate: e.target.value })}\n                  className=\"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                />\n              </div>\n            </div>\n\n            {/* Payment Method */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Payment Method</label>\n              <select\n                value={formData.paymentMethod}\n                onChange={(e) => setFormData({ ...formData, paymentMethod: e.target.value })}\n                className=\"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n              >\n                <option value=\"Bank and Cash\">Bank and Cash</option>\n                <option value=\"Cash Only\">Cash Only</option>\n                <option value=\"Bank Only\">Bank Only</option>\n              </select>\n            </div>\n            {/* Premium Flag */}\n            <div className=\"flex items-center gap-3\">\n              <input\n                type=\"checkbox\"\n                checked={!!formData.premium}\n                onChange={(e) => setFormData({ ...formData, premium: e.target.checked })}\n                id=\"premiumFlag\"\n              />\n              <label htmlFor=\"premiumFlag\" className=\"text-sm font-medium text-gray-700\">\n                Premium listing (highlight & priority sorting)\n              </label>\n            </div>\n\n            {/* Description */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">\n                Description \n                {formData.description && (\n                  <span className={`ml-2 text-xs ${formData.description.length > 500 ? 'text-red-500' : 'text-gray-500'}`}>\n                    ({formData.description.length}/500 characters)\n                  </span>\n                )}\n              </label>\n              <textarea\n                value={formData.description}\n                onChange={(e) => {\n                  setFormData({ ...formData, description: e.target.value });\n                  validateField('description', e.target.value);\n                }}\n                onBlur={(e) => validateField('description', e.target.value)}\n                placeholder=\"Describe the room, amenities, rules, and any other details...\"\n                rows=\"4\"\n                className={`w-full px-4 py-3 border ${errors.description ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.description ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.description && <p className=\"text-red-500 text-xs mt-1\">{errors.description}</p>}\n            </div>\n\n            {/* Amenities */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-3\">Amenities</label>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n                {availableAmenities.map(amenity => (\n                  <button\n                    key={amenity}\n                    type=\"button\"\n                    onClick={() => toggleAmenity(amenity)}\n                    className={`px-4 py-2 rounded-lg text-sm font-medium transition ${\n                      formData.amenities.includes(amenity)\n                        ? 'bg-blue-600 text-white shadow-sm'\n                        : 'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'\n                    }`}\n                  >\n                    {amenity}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Photos */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Photos (Max 5)</label>\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                multiple\n                onChange={handlePhotoUpload}\n                disabled={formData.photos.length >= 5}\n                className=\"w-full px-4 py-3 border border-gray-300 bg-white text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition cursor-pointer\"\n              />\n              {formData.photos.length > 0 && (\n                <div className=\"mt-4 grid grid-cols-2 md:grid-cols-3 gap-3\">\n                  {formData.photos.map((photo, index) => (\n                    <div key={index} className=\"relative group\">\n                      <img \n                        src={photo} \n                        alt={`Preview ${index + 1}`} \n                        className=\"w-full h-32 object-cover rounded-lg border border-gray-200 shadow-sm\" \n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => removePhoto(index)}\n                        className=\"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-lg opacity-0 group-hover:opacity-100 transition\"\n                      >\n                        <X className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              )}\n              {formData.photos.length >= 5 && (\n                <p className=\"text-sm text-gray-500 mt-2\">Maximum 5 photos reached</p>\n              )}\n            </div>\n\n            {/* Submit Button */}\n            <div className=\"border-t border-gray-200 pt-6\">\n              <button\n                onClick={handleSubmit}\n                className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition shadow-sm\"\n              >\n                Post Room\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// MessagesView removed - using direct contact instead\n\nfunction MyListingsView({ listings, onDelete }) {\n  return (\n    <div className=\"p-4\">\n      <h2 className=\"text-2xl font-bold mb-4 text-gray-800\">My Listings</h2>\n      <div className=\"space-y-4\">\n        {listings.length === 0 ? (\n          <div className=\"bg-white rounded-lg shadow p-8 text-center text-gray-500\">\n            <Home className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\n            <p>You haven't posted any rooms yet.</p>\n          </div>\n        ) : (\n          listings.map(listing => (\n            <div key={listing.id} className=\"bg-white rounded-lg shadow p-4\">\n{listing.photos && listing.photos.length > 0 && (\n  <div className=\"relative mb-3\">\n    <img src={listing.photos[0]} alt=\"Room\" className=\"w-full h-32 object-cover rounded-lg\" />\n    {listing.photos.length > 1 && (\n      <div className=\"absolute top-2 right-2 bg-black bg-opacity-60 text-white px-2 py-1 rounded text-xs\">\n        {listing.photos.length} photos\n      </div>\n    )}\n  </div>\n)}\n              <h3 className=\"font-bold text-lg mb-1\">{listing.title}</h3>\n              <div className=\"text-blue-600 font-bold mb-2\">R{listing.price}/month</div>\n              <div className=\"flex items-center text-gray-600 text-sm mb-3\">\n                <MapPin className=\"w-4 h-4 mr-1\" />\n                {listing.location}\n              </div>\n              <button\n                onClick={() => onDelete(listing.id)}\n                className=\"w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg transition\"\n              >\n                Delete Listing\n              </button>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n\n\n// Inline message box component with validation for listing detail view\n// ListingInlineMessageBox removed\n\n// ConversationModal removed\n\nfunction AuthModal({ defaultType = 'renter', onClose, onSubmit }) {\n  const [form, setForm] = useState({ name: '', phone: '', email: '', type: defaultType, photo: '' });\n\n  const handleSubmit = () => {\n    if (!form.name || !form.email) {\n      alert('Please add a name and email');\n      return;\n    }\n    onSubmit(form);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-start sm:items-center justify-center p-4 pt-16 sm:pt-4 z-50 overflow-y-auto\">\n      <div className=\"bg-white rounded-lg w-full max-w-md p-6 my-auto\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-bold\">Sign in / Create account</h3>\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\"><X className=\"w-5 h-5\" /></button>\n        </div>\n\n        <div className=\"space-y-3\">\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-1\">Full name</label>\n            <input type=\"text\" value={form.name} onChange={(e) => setForm({ ...form, name: e.target.value })} className=\"w-full px-3 py-2 border rounded\" />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-1\">Email</label>\n            <input type=\"email\" value={form.email} onChange={(e) => setForm({ ...form, email: e.target.value })} className=\"w-full px-3 py-2 border rounded\" />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-1\">Phone (optional)</label>\n            <input type=\"tel\" value={form.phone} onChange={(e) => setForm({ ...form, phone: e.target.value })} className=\"w-full px-3 py-2 border rounded\" />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-1\">I am a</label>\n            <select value={form.type} onChange={(e) => setForm({ ...form, type: e.target.value })} className=\"w-full px-3 py-2 border rounded\">\n              <option value=\"renter\">Looking for a room</option>\n              <option value=\"landlord\">Listing rooms</option>\n            </select>\n          </div>\n\n          <div className=\"flex gap-3 pt-4\">\n            <button onClick={onClose} className=\"flex-1 bg-gray-100 hover:bg-gray-200 py-2 rounded\">Cancel</button>\n            <button onClick={handleSubmit} className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded\">Continue</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction LocationConsentModal({ onAccept, onDecline }) {\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-lg max-w-md w-full p-6 shadow-xl\">\n        <div className=\"flex items-center gap-3 mb-4\">\n          <MapPin className=\"w-8 h-8 text-blue-600\" />\n          <h3 className=\"text-xl font-bold text-gray-800\">Location Access</h3>\n        </div>\n        \n        <p className=\"text-gray-600 mb-4\">\n          Room24 would like to access your location to show nearby rental listings. Your location data:\n        </p>\n        \n        <ul className=\"text-sm text-gray-600 mb-6 space-y-2\">\n          <li className=\"flex items-start gap-2\">\n            <span className=\"text-green-600 mt-0.5\"></span>\n            <span>Is only used to calculate distances to listings</span>\n          </li>\n          <li className=\"flex items-start gap-2\">\n            <span className=\"text-green-600 mt-0.5\"></span>\n            <span>Is not stored on our servers</span>\n          </li>\n          <li className=\"flex items-start gap-2\">\n            <span className=\"text-green-600 mt-0.5\"></span>\n            <span>Is not shared with third parties</span>\n          </li>\n        </ul>\n\n        <div className=\"flex gap-3\">\n          <button\n            onClick={onDecline}\n            className=\"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 rounded-lg transition\"\n          >\n            Not Now\n          </button>\n          <button\n            onClick={onAccept}\n            className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition\"\n          >\n            Allow\n          </button>\n        </div>\n        \n        <p className=\"text-xs text-gray-500 mt-4 text-center\">\n          You can change this permission anytime in your browser settings.\n        </p>\n      </div>\n    </div>\n  );\n}\n\nfunction BottomNav({ currentView, setCurrentView, userType }) {\n  const navItems = [\n    { id: 'browse', label: 'Browse', icon: Search, show: true },\n    { id: 'add', label: 'List Room', icon: PlusCircle, show: userType === 'landlord' },\n    { id: 'my-listings', label: 'My Rooms', icon: Home, show: userType === 'landlord' },\n    { id: 'profile', label: 'Profile', icon: User, show: true }\n  ];\n\n  return (\n    <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-2xl\">\n      <div className=\"max-w-7xl mx-auto flex justify-around\">\n        {navItems\n          .filter(item => item.show)\n          .map(item => {\n            const Icon = item.icon;\n            const isActive = currentView === item.id || (item.id === 'profile' && currentView === 'edit-profile');\n            \n            return (\n              <button\n                key={item.id}\n                onClick={() => setCurrentView(item.id)}\n                className={`flex-1 flex flex-col items-center justify-center py-3 px-2 transition relative border-t-2 ${\n                  isActive\n                    ? 'border-blue-600 text-blue-600 bg-blue-50'\n                    : 'border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50'\n                }`}\n              >\n                <div className=\"relative\">\n                  <Icon className=\"w-6 h-6\" />\n                  {item.badge && item.badge > 0 && (\n                    <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold\">\n                      {item.badge > 99 ? '99+' : item.badge}\n                    </span>\n                  )}\n                </div>\n                <span className=\"text-xs mt-1 font-medium\">{item.label}</span>\n              </button>\n            );\n          })}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}