{"ast":null,"code":"/* eslint-disable no-restricted-globals *//*\r\n  Room24 service worker leveraging CRA Workbox injection point.\r\n  Workbox will replace self.__WB_MANIFEST with a list of build assets.\r\n*/const PRECACHE_MANIFEST=self.__WB_MANIFEST||[];const SHELL_CACHE='room24-shell-v1';const RUNTIME_IMG_CACHE='room24-img-runtime-v1';const MAP_TILE_HOST_PATTERNS=['tile.openstreetmap.org','tiles.stadiamaps.com'];self.addEventListener('install',event=>{event.waitUntil(caches.open(SHELL_CACHE).then(cache=>{return Promise.all(PRECACHE_MANIFEST.map(entry=>{const url=entry.url||entry;// Workbox entries have url property\nreturn cache.add(url);}));}).then(()=>self.skipWaiting()));});self.addEventListener('activate',event=>{event.waitUntil(caches.keys().then(keys=>Promise.all(keys.filter(k=>![SHELL_CACHE,RUNTIME_IMG_CACHE].includes(k)).map(k=>caches.delete(k)))).then(()=>self.clients.claim()));});self.addEventListener('fetch',event=>{const{request}=event;if(request.method!=='GET')return;const url=new URL(request.url);// Same-origin: try cache first for precached shell/static assets\nif(url.origin===self.location.origin){event.respondWith(caches.match(request).then(cached=>cached||fetch(request)));return;}// Runtime caching for images & map tiles\nconst isImage=request.destination==='image';const isMapTile=MAP_TILE_HOST_PATTERNS.some(host=>url.host.includes(host));if(isImage||isMapTile){event.respondWith(caches.open(RUNTIME_IMG_CACHE).then(cache=>cache.match(request).then(cached=>{if(cached)return cached;return fetch(request).then(response=>{if(response.status===200)cache.put(request,response.clone());return response;}).catch(()=>cached||Response.error());})));return;}// Default network-first strategy\nevent.respondWith(fetch(request).catch(()=>caches.match(request)));});","map":{"version":3,"names":["PRECACHE_MANIFEST","self","__WB_MANIFEST","SHELL_CACHE","RUNTIME_IMG_CACHE","MAP_TILE_HOST_PATTERNS","addEventListener","event","waitUntil","caches","open","then","cache","Promise","all","map","entry","url","add","skipWaiting","keys","filter","k","includes","delete","clients","claim","request","method","URL","origin","location","respondWith","match","cached","fetch","isImage","destination","isMapTile","some","host","response","status","put","clone","catch","Response","error"],"sources":["C:/Users/kutum/Documents/room-rental-platform/src/service-worker.js"],"sourcesContent":["/* eslint-disable no-restricted-globals */\r\n/*\r\n  Room24 service worker leveraging CRA Workbox injection point.\r\n  Workbox will replace self.__WB_MANIFEST with a list of build assets.\r\n*/\r\n\r\nconst PRECACHE_MANIFEST = self.__WB_MANIFEST || [];\r\nconst SHELL_CACHE = 'room24-shell-v1';\r\nconst RUNTIME_IMG_CACHE = 'room24-img-runtime-v1';\r\nconst MAP_TILE_HOST_PATTERNS = [\r\n  'tile.openstreetmap.org',\r\n  'tiles.stadiamaps.com'\r\n];\r\n\r\nself.addEventListener('install', event => {\r\n  event.waitUntil(\r\n    caches.open(SHELL_CACHE).then(cache => {\r\n      return Promise.all(\r\n        PRECACHE_MANIFEST.map(entry => {\r\n          const url = entry.url || entry; // Workbox entries have url property\r\n          return cache.add(url);\r\n        })\r\n      );\r\n    }).then(() => self.skipWaiting())\r\n  );\r\n});\r\n\r\nself.addEventListener('activate', event => {\r\n  event.waitUntil(\r\n    caches.keys().then(keys => Promise.all(\r\n      keys.filter(k => ![SHELL_CACHE, RUNTIME_IMG_CACHE].includes(k)).map(k => caches.delete(k))\r\n    )).then(() => self.clients.claim())\r\n  );\r\n});\r\n\r\nself.addEventListener('fetch', event => {\r\n  const { request } = event;\r\n  if (request.method !== 'GET') return;\r\n  const url = new URL(request.url);\r\n\r\n  // Same-origin: try cache first for precached shell/static assets\r\n  if (url.origin === self.location.origin) {\r\n    event.respondWith(\r\n      caches.match(request).then(cached => cached || fetch(request))\r\n    );\r\n    return;\r\n  }\r\n\r\n  // Runtime caching for images & map tiles\r\n  const isImage = request.destination === 'image';\r\n  const isMapTile = MAP_TILE_HOST_PATTERNS.some(host => url.host.includes(host));\r\n\r\n  if (isImage || isMapTile) {\r\n    event.respondWith(\r\n      caches.open(RUNTIME_IMG_CACHE).then(cache => cache.match(request).then(cached => {\r\n        if (cached) return cached;\r\n        return fetch(request).then(response => {\r\n          if (response.status === 200) cache.put(request, response.clone());\r\n          return response;\r\n        }).catch(() => cached || Response.error());\r\n      }))\r\n    );\r\n    return;\r\n  }\r\n\r\n  // Default network-first strategy\r\n  event.respondWith(\r\n    fetch(request).catch(() => caches.match(request))\r\n  );\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}