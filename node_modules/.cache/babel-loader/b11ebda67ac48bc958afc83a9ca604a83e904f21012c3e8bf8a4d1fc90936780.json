{"ast":null,"code":"import React,{useMemo,useEffect}from'react';import{MapContainer,TileLayer,Marker,Popup,useMap,Circle}from'react-leaflet';import'leaflet/dist/leaflet.css';import L from'leaflet';// Fix Leaflet's default icon paths when using CRA / webpack\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";delete L.Icon.Default.prototype._getIconUrl;L.Icon.Default.mergeOptions({iconRetinaUrl:require('leaflet/dist/images/marker-icon-2x.png'),iconUrl:require('leaflet/dist/images/marker-icon.png'),shadowUrl:require('leaflet/dist/images/marker-shadow.png')});// Custom marker icons with distinct colors\nconst renterIcon=new L.Icon({iconUrl:'data:image/svg+xml;base64,'+btoa(\"\\n    <svg width=\\\"25\\\" height=\\\"41\\\" viewBox=\\\"0 0 25 41\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n      <path d=\\\"M12.5 0C5.596 0 0 5.596 0 12.5c0 9.375 12.5 28.125 12.5 28.125S25 21.875 25 12.5C25 5.596 19.404 0 12.5 0z\\\" fill=\\\"#2563eb\\\"/>\\n      <circle cx=\\\"12.5\\\" cy=\\\"12.5\\\" r=\\\"6\\\" fill=\\\"white\\\"/>\\n    </svg>\\n  \"),iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:require('leaflet/dist/images/marker-shadow.png'),shadowSize:[41,41]});const listingIcon=new L.Icon({iconUrl:'data:image/svg+xml;base64,'+btoa(\"\\n    <svg width=\\\"25\\\" height=\\\"41\\\" viewBox=\\\"0 0 25 41\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n      <path d=\\\"M12.5 0C5.596 0 0 5.596 0 12.5c0 9.375 12.5 28.125 12.5 28.125S25 21.875 25 12.5C25 5.596 19.404 0 12.5 0z\\\" fill=\\\"#ef4444\\\"/>\\n      <circle cx=\\\"12.5\\\" cy=\\\"12.5\\\" r=\\\"6\\\" fill=\\\"white\\\"/>\\n    </svg>\\n  \"),iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:require('leaflet/dist/images/marker-shadow.png'),shadowSize:[41,41]});// Mock location coordinates for South African areas\nconst locationCoordinates={'soweto':[-26.2373,27.8471],'johannesburg':[-26.2023,28.0436],'pretoria':[-25.7461,28.2333],'durban':[-29.8587,31.0192],'cape town':[-33.9249,18.4241],'sandton':[-26.1088,28.0545],'midrand':[-25.9860,28.1144],'benoni':[-26.1917,28.3603],'boksburg':[-26.1972,28.2328],'alberton':[-26.2745,28.1114]};const getCoordinatesForLocation=location=>{const normalized=location.toLowerCase().trim();for(const[key,coords]of Object.entries(locationCoordinates)){if(normalized.includes(key)){return coords;}}return[-26.2023,28.0436];// Default to Johannesburg\n};function FitBounds(_ref){let{bounds}=_ref;const map=useMap();useEffect(()=>{if(bounds&&bounds.length>0){const group=new L.FeatureGroup();bounds.forEach(coord=>group.addLayer(L.marker(coord)));map.fitBounds(group.getBounds(),{padding:[50,50]});}},[bounds,map]);return null;}function OverlayControls(_ref2){let{userLocation,nearbyRadius,onRecenter,onRadiusChange}=_ref2;const map=useMap();return/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-3 right-3 flex flex-col gap-2 z-[500]\",children:[userLocation&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{if(onRecenter)onRecenter();map.setView([userLocation.lat,userLocation.lon],13);},className:\"px-3 py-2 rounded-md bg-white shadow-md text-xs font-semibold text-teal-700 border border-gray-200 hover:bg-teal-50 transition\",children:\"Recenter\"}),userLocation&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded-md p-2 border border-gray-200 flex flex-col gap-1\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-[10px] font-semibold text-gray-600\",children:[\"Radius: \",nearbyRadius,\" km\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:1,max:20,step:1,value:nearbyRadius,onChange:e=>onRadiusChange&&onRadiusChange(parseInt(e.target.value)),className:\"w-32 accent-teal-600\"})]})]});}export default function MapView(_ref3){let{listings=[],onMarkerClick=()=>{},userLocation=null,nearbyRadius=0,fullHeight=false,onRadiusChange,onRecenter}=_ref3;const markers=useMemo(()=>{return listings.map(l=>{var _ref4,_l$latitude,_ref5,_l$longitude;let lat=(_ref4=(_l$latitude=l.latitude)!==null&&_l$latitude!==void 0?_l$latitude:l.lat)!==null&&_ref4!==void 0?_ref4:l.coords&&l.coords[0];let lng=(_ref5=(_l$longitude=l.longitude)!==null&&_l$longitude!==void 0?_l$longitude:l.lng)!==null&&_ref5!==void 0?_ref5:l.coords&&l.coords[1];// Fallback to location-based coordinates if no explicit coords\nif(typeof lat!=='number'||typeof lng!=='number'){[lat,lng]=getCoordinatesForLocation(l.location);}return{id:l.id,title:l.title,location:l.location,price:l.price,lat,lng,raw:l};});},[listings]);const defaultCenter=[-26.2041,28.0473];// Johannesburg fallback\nconst bounds=markers.length>0?markers.map(m=>[m.lat,m.lng]):null;// include user location in bounds so map can show renter + listings together\nconst allBounds=(()=>{const b=bounds?[...bounds]:[];if(userLocation&&typeof userLocation.lat==='number'&&typeof userLocation.lon==='number'){b.push([userLocation.lat,userLocation.lon]);}return b.length>0?b:null;})();// detect Mapbox tile key to optionally use Mapbox tiles\nconst MAPBOX_KEY=process.env.REACT_APP_MAPBOX_API_KEY;const useMapbox=MAPBOX_KEY&&MAPBOX_KEY.length>0;const mapHeight=fullHeight?'calc(100vh - 180px)':'384px';return/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-100 rounded-lg border border-gray-200 p-0 overflow-hidden\",style:{height:mapHeight},children:markers.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"h-full p-4 flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-700 font-semibold mb-2 p-4\",children:\"No listings to show on the map.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-auto p-4 bg-white\",children:listings.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:\"No listings available.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-3\",children:listings.map(l=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onMarkerClick(l),className:\"text-left bg-gray-50 p-3 rounded border hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-800\",children:l.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:l.location}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-red-600 font-bold mt-1\",children:[\"R\",Number(l.price).toLocaleString(),\"/month\"]})]},l.id))})})]}):/*#__PURE__*/_jsxs(MapContainer,{center:markers[0]?[markers[0].lat,markers[0].lng]:defaultCenter,zoom:11,className:\"w-full h-full relative\",children:[/*#__PURE__*/_jsx(TileLayer,{attribution:useMapbox?'© <a href=\"https://www.mapbox.com/\">Mapbox</a> contributors':'&copy; <a href=\"https://osm.org/copyright\">OpenStreetMap</a> contributors',url:useMapbox?\"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=\".concat(MAPBOX_KEY):'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'}),/*#__PURE__*/_jsx(OverlayControls,{userLocation:userLocation,nearbyRadius:nearbyRadius,onRecenter:onRecenter,onRadiusChange:onRadiusChange}),userLocation&&typeof userLocation.lat==='number'&&typeof userLocation.lon==='number'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Marker,{position:[userLocation.lat,userLocation.lon],icon:renterIcon,children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-blue-600\",children:\"Your Location\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"(approximate)\"})]})}),nearbyRadius>0&&/*#__PURE__*/_jsx(Circle,{center:[userLocation.lat,userLocation.lon],radius:nearbyRadius*1000,pathOptions:{color:'#2563eb',fillOpacity:0.05}})]}),markers.map(m=>/*#__PURE__*/_jsx(Marker,{position:[m.lat,m.lng],icon:listingIcon,eventHandlers:{click:()=>onMarkerClick(m.raw)},children:/*#__PURE__*/_jsx(Popup,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-[150px]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:m.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:m.location}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-red-600 font-bold mt-1\",children:[\"R\",Number(m.price).toLocaleString(),\"/month\"]})]})})},m.id)),/*#__PURE__*/_jsx(FitBounds,{bounds:allBounds||bounds})]})});}","map":{"version":3,"names":["React","useMemo","useEffect","MapContainer","TileLayer","Marker","Popup","useMap","Circle","L","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","renterIcon","btoa","iconSize","iconAnchor","popupAnchor","shadowSize","listingIcon","locationCoordinates","getCoordinatesForLocation","location","normalized","toLowerCase","trim","key","coords","Object","entries","includes","FitBounds","_ref","bounds","map","length","group","FeatureGroup","forEach","coord","addLayer","marker","fitBounds","getBounds","padding","OverlayControls","_ref2","userLocation","nearbyRadius","onRecenter","onRadiusChange","className","children","type","onClick","setView","lat","lon","min","max","step","value","onChange","e","parseInt","target","MapView","_ref3","listings","onMarkerClick","fullHeight","markers","l","_ref4","_l$latitude","_ref5","_l$longitude","latitude","lng","longitude","id","title","price","raw","defaultCenter","m","allBounds","b","push","MAPBOX_KEY","process","env","REACT_APP_MAPBOX_API_KEY","useMapbox","mapHeight","style","height","Number","toLocaleString","center","zoom","attribution","url","concat","position","icon","radius","pathOptions","color","fillOpacity","eventHandlers","click"],"sources":["C:/Users/kutum/Documents/room-rental-platform/src/MapView.js"],"sourcesContent":["import React, { useMemo, useEffect } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup, useMap, Circle } from 'react-leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport L from 'leaflet';\r\n\r\n// Fix Leaflet's default icon paths when using CRA / webpack\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\r\n});\r\n\r\n// Custom marker icons with distinct colors\r\nconst renterIcon = new L.Icon({\r\n  iconUrl: 'data:image/svg+xml;base64,' + btoa(`\r\n    <svg width=\"25\" height=\"41\" viewBox=\"0 0 25 41\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M12.5 0C5.596 0 0 5.596 0 12.5c0 9.375 12.5 28.125 12.5 28.125S25 21.875 25 12.5C25 5.596 19.404 0 12.5 0z\" fill=\"#2563eb\"/>\r\n      <circle cx=\"12.5\" cy=\"12.5\" r=\"6\" fill=\"white\"/>\r\n    </svg>\r\n  `),\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n  shadowSize: [41, 41]\r\n});\r\n\r\nconst listingIcon = new L.Icon({\r\n  iconUrl: 'data:image/svg+xml;base64,' + btoa(`\r\n    <svg width=\"25\" height=\"41\" viewBox=\"0 0 25 41\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M12.5 0C5.596 0 0 5.596 0 12.5c0 9.375 12.5 28.125 12.5 28.125S25 21.875 25 12.5C25 5.596 19.404 0 12.5 0z\" fill=\"#ef4444\"/>\r\n      <circle cx=\"12.5\" cy=\"12.5\" r=\"6\" fill=\"white\"/>\r\n    </svg>\r\n  `),\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n  shadowSize: [41, 41]\r\n});\r\n\r\n// Mock location coordinates for South African areas\r\nconst locationCoordinates = {\r\n  'soweto': [-26.2373, 27.8471],\r\n  'johannesburg': [-26.2023, 28.0436],\r\n  'pretoria': [-25.7461, 28.2333],\r\n  'durban': [-29.8587, 31.0192],\r\n  'cape town': [-33.9249, 18.4241],\r\n  'sandton': [-26.1088, 28.0545],\r\n  'midrand': [-25.9860, 28.1144],\r\n  'benoni': [-26.1917, 28.3603],\r\n  'boksburg': [-26.1972, 28.2328],\r\n  'alberton': [-26.2745, 28.1114],\r\n};\r\n\r\nconst getCoordinatesForLocation = (location) => {\r\n  const normalized = location.toLowerCase().trim();\r\n  for (const [key, coords] of Object.entries(locationCoordinates)) {\r\n    if (normalized.includes(key)) {\r\n      return coords;\r\n    }\r\n  }\r\n  return [-26.2023, 28.0436]; // Default to Johannesburg\r\n};\r\n\r\nfunction FitBounds({ bounds }) {\r\n  const map = useMap();\r\n  useEffect(() => {\r\n    if (bounds && bounds.length > 0) {\r\n      const group = new L.FeatureGroup();\r\n      bounds.forEach(coord => group.addLayer(L.marker(coord)));\r\n      map.fitBounds(group.getBounds(), { padding: [50, 50] });\r\n    }\r\n  }, [bounds, map]);\r\n  return null;\r\n}\r\n\r\nfunction OverlayControls({ userLocation, nearbyRadius, onRecenter, onRadiusChange }) {\r\n  const map = useMap();\r\n  return (\r\n    <div className=\"absolute top-3 right-3 flex flex-col gap-2 z-[500]\">\r\n      {userLocation && (\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => { if (onRecenter) onRecenter(); map.setView([userLocation.lat, userLocation.lon], 13); }}\r\n          className=\"px-3 py-2 rounded-md bg-white shadow-md text-xs font-semibold text-teal-700 border border-gray-200 hover:bg-teal-50 transition\"\r\n        >Recenter</button>\r\n      )}\r\n      {userLocation && (\r\n        <div className=\"bg-white shadow-md rounded-md p-2 border border-gray-200 flex flex-col gap-1\">\r\n          <label className=\"text-[10px] font-semibold text-gray-600\">Radius: {nearbyRadius} km</label>\r\n          <input\r\n            type=\"range\"\r\n            min={1}\r\n            max={20}\r\n            step={1}\r\n            value={nearbyRadius}\r\n            onChange={(e) => onRadiusChange && onRadiusChange(parseInt(e.target.value))}\r\n            className=\"w-32 accent-teal-600\"\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function MapView({ listings = [], onMarkerClick = () => {}, userLocation = null, nearbyRadius = 0, fullHeight = false, onRadiusChange, onRecenter }) {\r\n  const markers = useMemo(() => {\r\n    return listings\r\n      .map(l => {\r\n        let lat = l.latitude ?? l.lat ?? (l.coords && l.coords[0]);\r\n        let lng = l.longitude ?? l.lng ?? (l.coords && l.coords[1]);\r\n        \r\n        // Fallback to location-based coordinates if no explicit coords\r\n        if (typeof lat !== 'number' || typeof lng !== 'number') {\r\n          [lat, lng] = getCoordinatesForLocation(l.location);\r\n        }\r\n        \r\n        return { id: l.id, title: l.title, location: l.location, price: l.price, lat, lng, raw: l };\r\n      });\r\n  }, [listings]);\r\n\r\n  const defaultCenter = [-26.2041, 28.0473]; // Johannesburg fallback\r\n  const bounds = markers.length > 0 ? markers.map(m => [m.lat, m.lng]) : null;\r\n\r\n  // include user location in bounds so map can show renter + listings together\r\n  const allBounds = (() => {\r\n    const b = bounds ? [...bounds] : [];\r\n    if (userLocation && typeof userLocation.lat === 'number' && typeof userLocation.lon === 'number') {\r\n      b.push([userLocation.lat, userLocation.lon]);\r\n    }\r\n    return b.length > 0 ? b : null;\r\n  })();\r\n\r\n  // detect Mapbox tile key to optionally use Mapbox tiles\r\n  const MAPBOX_KEY = process.env.REACT_APP_MAPBOX_API_KEY;\r\n  const useMapbox = MAPBOX_KEY && MAPBOX_KEY.length > 0;\r\n\r\n  const mapHeight = fullHeight ? 'calc(100vh - 180px)' : '384px';\r\n\r\n  return (\r\n    <div className={`w-full bg-gray-100 rounded-lg border border-gray-200 p-0 overflow-hidden`} style={{ height: mapHeight }}>\r\n      {markers.length === 0 ? (\r\n        <div className=\"h-full p-4 flex flex-col\">\r\n          <div className=\"text-gray-700 font-semibold mb-2 p-4\">No listings to show on the map.</div>\r\n          <div className=\"flex-1 overflow-auto p-4 bg-white\">\r\n            {listings.length === 0 ? (\r\n              <div className=\"text-gray-500\">No listings available.</div>\r\n            ) : (\r\n              <div className=\"grid gap-3\">\r\n                {listings.map(l => (\r\n                  <button key={l.id} onClick={() => onMarkerClick(l)} className=\"text-left bg-gray-50 p-3 rounded border hover:bg-gray-100\">\r\n                    <div className=\"font-semibold text-gray-800\">{l.title}</div>\r\n                    <div className=\"text-sm text-gray-500\">{l.location}</div>\r\n                    <div className=\"text-red-600 font-bold mt-1\">R{Number(l.price).toLocaleString()}/month</div>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <MapContainer center={markers[0] ? [markers[0].lat, markers[0].lng] : defaultCenter} zoom={11} className=\"w-full h-full relative\">\r\n          <TileLayer\r\n            attribution={useMapbox ? '© <a href=\"https://www.mapbox.com/\">Mapbox</a> contributors' : '&copy; <a href=\"https://osm.org/copyright\">OpenStreetMap</a> contributors'}\r\n            url={useMapbox ? `https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=${MAPBOX_KEY}` : 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'}\r\n          />\r\n          <OverlayControls userLocation={userLocation} nearbyRadius={nearbyRadius} onRecenter={onRecenter} onRadiusChange={onRadiusChange} />\r\n            {/* Render renter position & search radius if provided */}\r\n            {userLocation && typeof userLocation.lat === 'number' && typeof userLocation.lon === 'number' && (\r\n              <>\r\n                <Marker position={[userLocation.lat, userLocation.lon]} icon={renterIcon}>\r\n                  <Popup>\r\n                    <div className=\"font-semibold text-blue-600\">Your Location</div>\r\n                    <div className=\"text-xs text-gray-500\">(approximate)</div>\r\n                  </Popup>\r\n                </Marker>\r\n                {nearbyRadius > 0 && (\r\n                  <Circle center={[userLocation.lat, userLocation.lon]} radius={nearbyRadius * 1000} pathOptions={{ color: '#2563eb', fillOpacity: 0.05 }} />\r\n                )}\r\n              </>\r\n            )}\r\n          {markers.map(m => (\r\n            <Marker key={m.id} position={[m.lat, m.lng]} icon={listingIcon} eventHandlers={{ click: () => onMarkerClick(m.raw) }}>\r\n              <Popup>\r\n                <div className=\"min-w-[150px]\">\r\n                  <div className=\"font-semibold\">{m.title}</div>\r\n                  <div className=\"text-sm text-gray-600\">{m.location}</div>\r\n                  <div className=\"text-red-600 font-bold mt-1\">R{Number(m.price).toLocaleString()}/month</div>\r\n                </div>\r\n              </Popup>\r\n            </Marker>\r\n          ))}\r\n            <FitBounds bounds={allBounds || bounds} />\r\n        </MapContainer>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}