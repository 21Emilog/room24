{"ast":null,"code":"// Smart notification engine for saved searches and price drops\n\nconst STORAGE_KEY_SAVED_SEARCHES = 'saved-searches';\nconst STORAGE_KEY_NOTIFICATIONS = 'notifications';\nconst STORAGE_KEY_LISTING_SNAPSHOTS = 'listing-snapshots';\nexport function getSavedSearches() {\n  try {\n    const raw = localStorage.getItem(STORAGE_KEY_SAVED_SEARCHES);\n    return raw ? JSON.parse(raw) : [];\n  } catch {\n    return [];\n  }\n}\nexport function saveSearch(criteria) {\n  try {\n    const searches = getSavedSearches();\n    const entry = {\n      id: Date.now(),\n      ...criteria,\n      createdAt: Date.now()\n    };\n    searches.push(entry);\n    localStorage.setItem(STORAGE_KEY_SAVED_SEARCHES, JSON.stringify(searches));\n    return entry;\n  } catch (e) {\n    console.error('Failed to save search', e);\n    return null;\n  }\n}\nexport function deleteSavedSearch(id) {\n  try {\n    const searches = getSavedSearches().filter(s => s.id !== id);\n    localStorage.setItem(STORAGE_KEY_SAVED_SEARCHES, JSON.stringify(searches));\n  } catch (e) {\n    console.error('Failed to delete saved search', e);\n  }\n}\nexport function getNotifications() {\n  try {\n    const raw = localStorage.getItem(STORAGE_KEY_NOTIFICATIONS);\n    return raw ? JSON.parse(raw) : [];\n  } catch {\n    return [];\n  }\n}\nexport function addNotification(notification) {\n  try {\n    const notifications = getNotifications();\n    const entry = {\n      id: Date.now(),\n      ...notification,\n      timestamp: Date.now(),\n      read: false\n    };\n    notifications.unshift(entry); // newest first\n    // Keep last 50\n    const trimmed = notifications.slice(0, 50);\n    localStorage.setItem(STORAGE_KEY_NOTIFICATIONS, JSON.stringify(trimmed));\n    return entry;\n  } catch (e) {\n    console.error('Failed to add notification', e);\n    return null;\n  }\n}\nexport function markNotificationRead(id) {\n  try {\n    const notifications = getNotifications();\n    const item = notifications.find(n => n.id === id);\n    if (item) {\n      item.read = true;\n      localStorage.setItem(STORAGE_KEY_NOTIFICATIONS, JSON.stringify(notifications));\n    }\n  } catch (e) {\n    console.error('Failed to mark notification read', e);\n  }\n}\nexport function clearNotifications() {\n  try {\n    localStorage.setItem(STORAGE_KEY_NOTIFICATIONS, JSON.stringify([]));\n  } catch (e) {\n    console.error('Failed to clear notifications', e);\n  }\n}\n\n// Check for new listings that match saved searches\nexport function checkNewListings(currentListings, savedSearches) {\n  const notifications = [];\n  const snapshots = getListingSnapshots();\n  currentListings.forEach(listing => {\n    const key = listing.id || `${listing.title}-${listing.createdAt}`;\n    if (snapshots[key]) return; // already seen\n\n    // Check each saved search\n    savedSearches.forEach(search => {\n      if (matchesSearch(listing, search)) {\n        notifications.push({\n          type: 'new-listing',\n          title: 'New Listing Match',\n          body: `\"${listing.title}\" matches your saved search in ${search.location || 'your area'}`,\n          listingId: key,\n          searchId: search.id\n        });\n      }\n    });\n  });\n\n  // Update snapshots with current listings\n  currentListings.forEach(listing => {\n    const key = listing.id || `${listing.title}-${listing.createdAt}`;\n    snapshots[key] = {\n      price: listing.price,\n      timestamp: Date.now()\n    };\n  });\n  saveListingSnapshots(snapshots);\n  return notifications;\n}\n\n// Check for price drops on favorites\nexport function checkPriceDrops(currentListings, favorites) {\n  const notifications = [];\n  const snapshots = getListingSnapshots();\n  currentListings.forEach(listing => {\n    const key = listing.id || `${listing.title}-${listing.createdAt}`;\n    if (!favorites.includes(key)) return; // not a favorite\n\n    const snap = snapshots[key];\n    if (snap && snap.price > listing.price) {\n      const drop = snap.price - listing.price;\n      notifications.push({\n        type: 'price-drop',\n        title: 'Price Drop Alert',\n        body: `\"${listing.title}\" dropped by R${drop} to R${listing.price}/month`,\n        listingId: key,\n        oldPrice: snap.price,\n        newPrice: listing.price\n      });\n    }\n  });\n\n  // Update snapshots\n  currentListings.forEach(listing => {\n    const key = listing.id || `${listing.title}-${listing.createdAt}`;\n    snapshots[key] = {\n      price: listing.price,\n      timestamp: Date.now()\n    };\n  });\n  saveListingSnapshots(snapshots);\n  return notifications;\n}\nfunction matchesSearch(listing, search) {\n  // Location match (basic substring)\n  if (search.location && !listing.location.toLowerCase().includes(search.location.toLowerCase())) {\n    return false;\n  }\n\n  // Price range\n  if (search.priceMin !== undefined && listing.price < search.priceMin) return false;\n  if (search.priceMax !== undefined && listing.price > search.priceMax) return false;\n\n  // Amenities\n  if (search.amenities && search.amenities.length > 0) {\n    const listingAmenities = listing.amenities || [];\n    const hasAll = search.amenities.every(a => listingAmenities.includes(a));\n    if (!hasAll) return false;\n  }\n  return true;\n}\nfunction getListingSnapshots() {\n  try {\n    const raw = localStorage.getItem(STORAGE_KEY_LISTING_SNAPSHOTS);\n    return raw ? JSON.parse(raw) : {};\n  } catch {\n    return {};\n  }\n}\nfunction saveListingSnapshots(snapshots) {\n  try {\n    localStorage.setItem(STORAGE_KEY_LISTING_SNAPSHOTS, JSON.stringify(snapshots));\n  } catch (e) {\n    console.error('Failed to save listing snapshots', e);\n  }\n}","map":{"version":3,"names":["STORAGE_KEY_SAVED_SEARCHES","STORAGE_KEY_NOTIFICATIONS","STORAGE_KEY_LISTING_SNAPSHOTS","getSavedSearches","raw","localStorage","getItem","JSON","parse","saveSearch","criteria","searches","entry","id","Date","now","createdAt","push","setItem","stringify","e","console","error","deleteSavedSearch","filter","s","getNotifications","addNotification","notification","notifications","timestamp","read","unshift","trimmed","slice","markNotificationRead","item","find","n","clearNotifications","checkNewListings","currentListings","savedSearches","snapshots","getListingSnapshots","forEach","listing","key","title","search","matchesSearch","type","body","location","listingId","searchId","price","saveListingSnapshots","checkPriceDrops","favorites","includes","snap","drop","oldPrice","newPrice","toLowerCase","priceMin","undefined","priceMax","amenities","length","listingAmenities","hasAll","every","a"],"sources":["C:/Users/kutum/Documents/room-rental-platform/src/utils/notificationEngine.js"],"sourcesContent":["// Smart notification engine for saved searches and price drops\r\n\r\nconst STORAGE_KEY_SAVED_SEARCHES = 'saved-searches';\r\nconst STORAGE_KEY_NOTIFICATIONS = 'notifications';\r\nconst STORAGE_KEY_LISTING_SNAPSHOTS = 'listing-snapshots';\r\n\r\nexport function getSavedSearches() {\r\n  try {\r\n    const raw = localStorage.getItem(STORAGE_KEY_SAVED_SEARCHES);\r\n    return raw ? JSON.parse(raw) : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nexport function saveSearch(criteria) {\r\n  try {\r\n    const searches = getSavedSearches();\r\n    const entry = {\r\n      id: Date.now(),\r\n      ...criteria,\r\n      createdAt: Date.now(),\r\n    };\r\n    searches.push(entry);\r\n    localStorage.setItem(STORAGE_KEY_SAVED_SEARCHES, JSON.stringify(searches));\r\n    return entry;\r\n  } catch (e) {\r\n    console.error('Failed to save search', e);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function deleteSavedSearch(id) {\r\n  try {\r\n    const searches = getSavedSearches().filter(s => s.id !== id);\r\n    localStorage.setItem(STORAGE_KEY_SAVED_SEARCHES, JSON.stringify(searches));\r\n  } catch (e) {\r\n    console.error('Failed to delete saved search', e);\r\n  }\r\n}\r\n\r\nexport function getNotifications() {\r\n  try {\r\n    const raw = localStorage.getItem(STORAGE_KEY_NOTIFICATIONS);\r\n    return raw ? JSON.parse(raw) : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nexport function addNotification(notification) {\r\n  try {\r\n    const notifications = getNotifications();\r\n    const entry = {\r\n      id: Date.now(),\r\n      ...notification,\r\n      timestamp: Date.now(),\r\n      read: false,\r\n    };\r\n    notifications.unshift(entry); // newest first\r\n    // Keep last 50\r\n    const trimmed = notifications.slice(0, 50);\r\n    localStorage.setItem(STORAGE_KEY_NOTIFICATIONS, JSON.stringify(trimmed));\r\n    return entry;\r\n  } catch (e) {\r\n    console.error('Failed to add notification', e);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function markNotificationRead(id) {\r\n  try {\r\n    const notifications = getNotifications();\r\n    const item = notifications.find(n => n.id === id);\r\n    if (item) {\r\n      item.read = true;\r\n      localStorage.setItem(STORAGE_KEY_NOTIFICATIONS, JSON.stringify(notifications));\r\n    }\r\n  } catch (e) {\r\n    console.error('Failed to mark notification read', e);\r\n  }\r\n}\r\n\r\nexport function clearNotifications() {\r\n  try {\r\n    localStorage.setItem(STORAGE_KEY_NOTIFICATIONS, JSON.stringify([]));\r\n  } catch (e) {\r\n    console.error('Failed to clear notifications', e);\r\n  }\r\n}\r\n\r\n// Check for new listings that match saved searches\r\nexport function checkNewListings(currentListings, savedSearches) {\r\n  const notifications = [];\r\n  const snapshots = getListingSnapshots();\r\n  \r\n  currentListings.forEach(listing => {\r\n    const key = listing.id || `${listing.title}-${listing.createdAt}`;\r\n    if (snapshots[key]) return; // already seen\r\n    \r\n    // Check each saved search\r\n    savedSearches.forEach(search => {\r\n      if (matchesSearch(listing, search)) {\r\n        notifications.push({\r\n          type: 'new-listing',\r\n          title: 'New Listing Match',\r\n          body: `\"${listing.title}\" matches your saved search in ${search.location || 'your area'}`,\r\n          listingId: key,\r\n          searchId: search.id,\r\n        });\r\n      }\r\n    });\r\n  });\r\n  \r\n  // Update snapshots with current listings\r\n  currentListings.forEach(listing => {\r\n    const key = listing.id || `${listing.title}-${listing.createdAt}`;\r\n    snapshots[key] = {\r\n      price: listing.price,\r\n      timestamp: Date.now(),\r\n    };\r\n  });\r\n  saveListingSnapshots(snapshots);\r\n  \r\n  return notifications;\r\n}\r\n\r\n// Check for price drops on favorites\r\nexport function checkPriceDrops(currentListings, favorites) {\r\n  const notifications = [];\r\n  const snapshots = getListingSnapshots();\r\n  \r\n  currentListings.forEach(listing => {\r\n    const key = listing.id || `${listing.title}-${listing.createdAt}`;\r\n    if (!favorites.includes(key)) return; // not a favorite\r\n    \r\n    const snap = snapshots[key];\r\n    if (snap && snap.price > listing.price) {\r\n      const drop = snap.price - listing.price;\r\n      notifications.push({\r\n        type: 'price-drop',\r\n        title: 'Price Drop Alert',\r\n        body: `\"${listing.title}\" dropped by R${drop} to R${listing.price}/month`,\r\n        listingId: key,\r\n        oldPrice: snap.price,\r\n        newPrice: listing.price,\r\n      });\r\n    }\r\n  });\r\n  \r\n  // Update snapshots\r\n  currentListings.forEach(listing => {\r\n    const key = listing.id || `${listing.title}-${listing.createdAt}`;\r\n    snapshots[key] = {\r\n      price: listing.price,\r\n      timestamp: Date.now(),\r\n    };\r\n  });\r\n  saveListingSnapshots(snapshots);\r\n  \r\n  return notifications;\r\n}\r\n\r\nfunction matchesSearch(listing, search) {\r\n  // Location match (basic substring)\r\n  if (search.location && !listing.location.toLowerCase().includes(search.location.toLowerCase())) {\r\n    return false;\r\n  }\r\n  \r\n  // Price range\r\n  if (search.priceMin !== undefined && listing.price < search.priceMin) return false;\r\n  if (search.priceMax !== undefined && listing.price > search.priceMax) return false;\r\n  \r\n  // Amenities\r\n  if (search.amenities && search.amenities.length > 0) {\r\n    const listingAmenities = listing.amenities || [];\r\n    const hasAll = search.amenities.every(a => listingAmenities.includes(a));\r\n    if (!hasAll) return false;\r\n  }\r\n  \r\n  return true;\r\n}\r\n\r\nfunction getListingSnapshots() {\r\n  try {\r\n    const raw = localStorage.getItem(STORAGE_KEY_LISTING_SNAPSHOTS);\r\n    return raw ? JSON.parse(raw) : {};\r\n  } catch {\r\n    return {};\r\n  }\r\n}\r\n\r\nfunction saveListingSnapshots(snapshots) {\r\n  try {\r\n    localStorage.setItem(STORAGE_KEY_LISTING_SNAPSHOTS, JSON.stringify(snapshots));\r\n  } catch (e) {\r\n    console.error('Failed to save listing snapshots', e);\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}