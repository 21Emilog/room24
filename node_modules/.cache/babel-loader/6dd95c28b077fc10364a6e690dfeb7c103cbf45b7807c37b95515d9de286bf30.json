{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kutum\\\\Documents\\\\room-rental-platform\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { initFirebase, initAnalytics, requestFcmToken, listenForegroundMessages, trackEvent } from './firebase';\nimport { Home, PlusCircle, Search, MapPin, X, User, Phone, Mail, Edit, CheckCircle, Heart } from 'lucide-react';\nimport Header from './components/Header';\nimport ListingDetailModal from './components/ListingDetailModal';\nimport Footer from './components/Footer';\nimport BrowseView from './components/BrowseView';\nimport PrivacyPolicyModal from './components/PrivacyPolicyModal';\nimport NotificationBanner from './components/NotificationBanner';\nimport AnalyticsConsentModal from './components/AnalyticsConsentModal';\nimport NotificationsPanel from './components/NotificationsPanel';\nimport PhotoEditor from './components/PhotoEditor';\nimport { getNotifications } from './utils/notificationEngine';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function RentalPlatform() {\n  _s();\n  const [currentView, setCurrentView] = useState('browse');\n  const [userType, setUserType] = useState(null);\n  const [previewAsRenter, setPreviewAsRenter] = useState(false); // landlord UI preview toggle\n  const [listings, setListings] = useState([]);\n  const [selectedListing, setSelectedListing] = useState(null);\n  const [users, setUsers] = useState([]); // registry of all users (localStorage 'users')\n  const [searchLocation, setSearchLocation] = useState('');\n  const [priceRange, setPriceRange] = useState([0, 10000]);\n  const [selectedAmenities, setSelectedAmenities] = useState([]);\n  const [sortBy, setSortBy] = useState('newest');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [showAuthModal, setShowAuthModal] = useState(false);\n  const [authDefaultType, setAuthDefaultType] = useState('renter');\n  const [nearbyMode, setNearbyMode] = useState(false);\n  const [nearbyRadius, setNearbyRadius] = useState(5); // km\n  const [userLocation, setUserLocation] = useState(null);\n  const [nearbyStatus, setNearbyStatus] = useState('');\n  const [showLocationConsent, setShowLocationConsent] = useState(false);\n  // Mobile menu state moved into Header component\n  const [toast, setToast] = useState(null);\n  const [showPrivacyPolicy, setShowPrivacyPolicy] = useState(false);\n  const [notificationBanner, setNotificationBanner] = useState(null);\n  const [showAnalyticsConsent, setShowAnalyticsConsent] = useState(false);\n  const [showNotificationsPanel, setShowNotificationsPanel] = useState(false);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const openAuthModal = (type = 'renter') => {\n    setAuthDefaultType(type);\n    setShowAuthModal(true);\n  };\n\n  // Update unread notification count\n  useEffect(() => {\n    const updateUnreadCount = () => {\n      const notifications = getNotifications();\n      setUnreadCount(notifications.filter(n => !n.read).length);\n    };\n    updateUnreadCount();\n    const interval = setInterval(updateUnreadCount, 5000); // check every 5s\n    return () => clearInterval(interval);\n  }, []);\n  useEffect(() => {\n    loadData();\n    // Initialize Firebase + FCM token fetch (deferred until user interaction if desired)\n    const app = initFirebase();\n\n    // Check analytics consent and show modal if not set\n    const analyticsConsent = localStorage.getItem('analytics-consent');\n    if (!analyticsConsent && process.env.REACT_APP_ENABLE_ANALYTICS === 'true') {\n      // Delay modal slightly so UI loads first\n      setTimeout(() => setShowAnalyticsConsent(true), 2000);\n    } else if (analyticsConsent === 'yes') {\n      initAnalytics(app);\n    }\n    (async () => {\n      try {\n        const token = await requestFcmToken();\n        if (token) {\n          console.log('Obtained FCM token:', token);\n          trackEvent('fcm_token_obtained');\n        }\n      } catch (e) {\n        console.warn('FCM token request failed', e);\n      }\n    })();\n    listenForegroundMessages(payload => {\n      // Display notification banner instead of toast\n      const notification = (payload === null || payload === void 0 ? void 0 : payload.notification) || {};\n      if (notification.title || notification.body) {\n        setNotificationBanner({\n          title: notification.title,\n          body: notification.body\n        });\n        // Auto-dismiss after 8 seconds\n        setTimeout(() => setNotificationBanner(null), 8000);\n      }\n    });\n  }, []);\n\n  // Guard: if someone navigates to 'add' without landlord auth, prompt to sign in\n  useEffect(() => {\n    if (currentView === 'add') {\n      if (!currentUser) {\n        openAuthModal('landlord');\n        setCurrentView('browse');\n      } else if (userType !== 'landlord') {\n        // Not a landlord - prompt to become one\n        openAuthModal('landlord');\n        setCurrentView('browse');\n      } else if (!currentUser.landlordComplete) {\n        // Landlord but hasn't completed onboarding\n        setCurrentView('landlord-onboarding');\n      }\n    }\n  }, [currentView, currentUser, userType]);\n  const loadData = async () => {\n    try {\n      const listingsResult = localStorage.getItem('listings');\n      const userResult = localStorage.getItem('current-user');\n      const usersResult = localStorage.getItem('users');\n      if (listingsResult) setListings(JSON.parse(listingsResult));\n      if (userResult) {\n        const user = JSON.parse(userResult);\n        setCurrentUser(user);\n        setUserType(user.type);\n      }\n      if (usersResult) {\n        try {\n          const parsed = JSON.parse(usersResult);\n          setUsers(Array.isArray(parsed) ? parsed : []);\n        } catch (e) {\n          console.warn('Corrupt users array in storage, resetting');\n          setUsers([]);\n        }\n      }\n    } catch (error) {\n      console.log('No existing data found, starting fresh');\n      // Add sample listings for testing the map\n      const sampleListings = [{\n        id: 'listing-1',\n        title: 'Cozy Room in Soweto',\n        price: 2500,\n        location: 'Soweto, Johannesburg',\n        description: 'Comfortable room with bathroom and kitchen access',\n        photos: [],\n        status: 'available',\n        availableDate: new Date().toISOString(),\n        amenities: ['WiFi', 'Kitchen'],\n        landlordId: 'landlord-1',\n        landlordName: 'John Smith',\n        landlordPhone: '+27 123 456 7890',\n        landlordEmail: 'john@example.com',\n        landlordPhoto: '',\n        createdAt: new Date().toISOString()\n      }, {\n        id: 'listing-2',\n        title: 'Modern Apartment in Sandton',\n        price: 4500,\n        location: 'Sandton, Johannesburg',\n        description: 'Luxurious apartment with parking and security',\n        photos: [],\n        status: 'available',\n        availableDate: new Date().toISOString(),\n        amenities: ['WiFi', 'Parking', 'Air Conditioning'],\n        landlordId: 'landlord-2',\n        landlordName: 'Jane Doe',\n        landlordPhone: '+27 987 654 3210',\n        landlordEmail: 'jane@example.com',\n        landlordPhoto: '',\n        createdAt: new Date().toISOString()\n      }, {\n        id: 'listing-3',\n        title: 'Studio in Midrand',\n        price: 3200,\n        location: 'Midrand, Johannesburg',\n        description: 'Spacious studio flat with laundry facilities',\n        photos: [],\n        status: 'available',\n        availableDate: new Date().toISOString(),\n        amenities: ['Laundry', 'WiFi'],\n        landlordId: 'landlord-3',\n        landlordName: 'Mike Johnson',\n        landlordPhone: '+27 555 555 5555',\n        landlordEmail: 'mike@example.com',\n        landlordPhoto: '',\n        createdAt: new Date().toISOString()\n      }];\n      setListings(sampleListings);\n    }\n  };\n\n  // Helper: check for duplicate phone or email in registry (exclude an optional user id)\n  const isDuplicateContact = (phone, email, ignoreId = null) => {\n    const normalizedPhone = (phone || '').trim();\n    const normalizedEmail = (email || '').trim().toLowerCase();\n    if (!users || users.length === 0) return false;\n    return users.some(u => {\n      if (ignoreId && u.id === ignoreId) return false;\n      const uPhone = (u.phone || '').trim();\n      const uEmail = (u.email || '').trim().toLowerCase();\n      const phoneMatch = normalizedPhone && uPhone && uPhone === normalizedPhone;\n      const emailMatch = normalizedEmail && uEmail && uEmail === normalizedEmail;\n      return phoneMatch || emailMatch;\n    });\n  };\n\n  // Haversine formula to compute distance in kilometers between two coords\n  const haversineDistance = (lat1, lon1, lat2, lon2) => {\n    const toRad = v => v * Math.PI / 180;\n    const R = 6371; // km\n    const dLat = toRad(lat2 - lat1);\n    const dLon = toRad(lon2 - lon1);\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  };\n  const handleFindNearby = () => {\n    if (!navigator.geolocation) {\n      setNearbyStatus('Geolocation not supported');\n      return;\n    }\n    // Show consent modal before accessing location\n    setShowLocationConsent(true);\n  };\n  const handleLocationConsentAccept = () => {\n    setShowLocationConsent(false);\n    setNearbyStatus('Locating...');\n    navigator.geolocation.getCurrentPosition(pos => {\n      const lat = pos.coords.latitude;\n      const lon = pos.coords.longitude;\n      setUserLocation({\n        lat,\n        lon\n      });\n      setNearbyMode(true);\n      setNearbyStatus('Nearby mode enabled');\n      setTimeout(() => setNearbyStatus(''), 2000);\n    }, err => {\n      console.error('Geolocation error', err);\n      setNearbyStatus('Could not get location');\n    }, {\n      enableHighAccuracy: true,\n      timeout: 10000\n    });\n  };\n  const clearNearby = () => {\n    setNearbyMode(false);\n    setUserLocation(null);\n    setNearbyStatus('');\n  };\n\n  // Toast notification helper\n  const showToast = (message, type = 'info', title = '') => {\n    setToast({\n      message,\n      type,\n      title\n    });\n    setTimeout(() => setToast(null), 5000);\n  };\n  const handleAnalyticsConsentAccept = () => {\n    localStorage.setItem('analytics-consent', 'yes');\n    setShowAnalyticsConsent(false);\n    const app = initFirebase();\n    initAnalytics(app);\n    trackEvent('analytics_consent_granted');\n    showToast('Analytics enabled', 'success', 'Thank you!');\n  };\n  const handleAnalyticsConsentDecline = () => {\n    localStorage.setItem('analytics-consent', 'no');\n    setShowAnalyticsConsent(false);\n    showToast('Analytics disabled', 'info');\n  };\n  const saveListings = async newListings => {\n    try {\n      localStorage.setItem('listings', JSON.stringify(newListings));\n      setListings(newListings);\n      // Broadcast to runtime service worker for offline snapshot caching\n      if (navigator.serviceWorker && navigator.serviceWorker.controller) {\n        try {\n          navigator.serviceWorker.controller.postMessage({\n            type: 'SYNC_LISTINGS',\n            payload: newListings\n          });\n        } catch {}\n      }\n    } catch (error) {\n      console.error('Error saving listings:', error);\n    }\n  };\n  const saveSubscriptions = async subscriptions => {\n    try {\n      localStorage.setItem('subscriptions', JSON.stringify(subscriptions));\n    } catch (error) {\n      console.error('Error saving subscriptions:', error);\n    }\n  };\n  const getSubscriptions = async () => {\n    try {\n      const res = localStorage.getItem('subscriptions');\n      return res ? JSON.parse(res) : {};\n    } catch (err) {\n      console.error('Error loading subscriptions', err);\n    }\n    return {};\n  };\n  const subscribeToArea = async (userId, area) => {\n    if (!userId) {\n      openAuthModal('renter');\n      return;\n    }\n    if (!area || area.trim() === '') {\n      alert('Please enter a location to subscribe to.');\n      return;\n    }\n    try {\n      const subs = await getSubscriptions();\n      subs[userId] = subs[userId] || [];\n      if (!subs[userId].includes(area)) {\n        subs[userId].push(area);\n        await saveSubscriptions(subs);\n        alert(`Subscribed to updates for ${area}`);\n      } else {\n        alert(`You are already subscribed to ${area}`);\n      }\n    } catch (err) {\n      console.error('Subscribe failed', err);\n      alert('Could not subscribe. Please try again.');\n    }\n  };\n  const handleProfileSetup = async profileData => {\n    try {\n      // Duplicate guard\n      if (isDuplicateContact(profileData.phone, profileData.email)) {\n        showToast('Phone or email already registered', 'error', 'Duplicate');\n        return;\n      }\n      const userId = `user-${Date.now()}`;\n      const user = {\n        id: userId,\n        type: userType,\n        ...profileData,\n        whatsapp: profileData.whatsapp || '',\n        notificationPrefs: {\n          updates: true,\n          marketing: false\n        },\n        createdAt: new Date().toISOString()\n      };\n      localStorage.setItem('current-user', JSON.stringify(user));\n      setCurrentUser(user);\n      // Update users registry\n      const existingUsersRaw = localStorage.getItem('users');\n      let existingUsers = [];\n      if (existingUsersRaw) {\n        try {\n          existingUsers = JSON.parse(existingUsersRaw);\n        } catch {\n          existingUsers = [];\n        }\n      }\n      existingUsers.push(user);\n      localStorage.setItem('users', JSON.stringify(existingUsers));\n      setUsers(existingUsers);\n      showToast('Profile created successfully!', 'success', 'Welcome!');\n      setCurrentView('browse');\n    } catch (error) {\n      console.error('Error saving profile:', error);\n      // Still set the user locally even if storage fails\n      const userId = `user-${Date.now()}`;\n      const user = {\n        id: userId,\n        type: userType,\n        ...profileData,\n        whatsapp: profileData.whatsapp || '',\n        createdAt: new Date().toISOString()\n      };\n      setCurrentUser(user);\n      const existingUsersRaw = localStorage.getItem('users');\n      let existingUsers = [];\n      if (existingUsersRaw) {\n        try {\n          existingUsers = JSON.parse(existingUsersRaw);\n        } catch {\n          existingUsers = [];\n        }\n      }\n      existingUsers.push(user);\n      try {\n        localStorage.setItem('users', JSON.stringify(existingUsers));\n      } catch {}\n      setUsers(existingUsers);\n      showToast('Profile created (data may not be persisted)', 'error');\n      setCurrentView('browse');\n    }\n  };\n  const handleUpdateProfile = async profileData => {\n    try {\n      // Duplicate guard (exclude current user id)\n      if (isDuplicateContact(profileData.phone, profileData.email, currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n        showToast('Phone or email already used by another account', 'error', 'Duplicate');\n        return;\n      }\n      const updatedUser = {\n        ...currentUser,\n        ...profileData\n      };\n      localStorage.setItem('current-user', JSON.stringify(updatedUser));\n      setCurrentUser(updatedUser);\n      // Update registry entry\n      const existingUsersRaw = localStorage.getItem('users');\n      let existingUsers = [];\n      if (existingUsersRaw) {\n        try {\n          existingUsers = JSON.parse(existingUsersRaw);\n        } catch {\n          existingUsers = [];\n        }\n      }\n      const idx = existingUsers.findIndex(u => u.id === updatedUser.id);\n      if (idx !== -1) {\n        existingUsers[idx] = updatedUser;\n      } else {\n        existingUsers.push(updatedUser); // ensure presence\n      }\n      localStorage.setItem('users', JSON.stringify(existingUsers));\n      setUsers(existingUsers);\n      showToast('Profile updated successfully!', 'success');\n      setCurrentView('browse');\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      const updatedUser = {\n        ...currentUser,\n        ...profileData\n      };\n      setCurrentUser(updatedUser);\n      const existingUsersRaw = localStorage.getItem('users');\n      let existingUsers = [];\n      if (existingUsersRaw) {\n        try {\n          existingUsers = JSON.parse(existingUsersRaw);\n        } catch {\n          existingUsers = [];\n        }\n      }\n      const idx = existingUsers.findIndex(u => u.id === updatedUser.id);\n      if (idx !== -1) {\n        existingUsers[idx] = updatedUser;\n      } else {\n        existingUsers.push(updatedUser);\n      }\n      try {\n        localStorage.setItem('users', JSON.stringify(existingUsers));\n      } catch {}\n      setUsers(existingUsers);\n      showToast('Profile updated (data may not be persisted)', 'error');\n      setCurrentView('browse');\n    }\n  };\n  const handleQuickAuth = async profileData => {\n    // Lightweight auth (used by AuthModal) - create and persist a user\n    try {\n      if (isDuplicateContact(profileData.phone, profileData.email)) {\n        showToast('Phone or email already registered', 'error', 'Duplicate');\n        return;\n      }\n      const userId = `user-${Date.now()}`;\n      const user = {\n        id: userId,\n        type: profileData.type || 'renter',\n        name: profileData.name,\n        phone: profileData.phone || '',\n        email: profileData.email || '',\n        photo: profileData.photo || '',\n        notificationPrefs: {\n          updates: true,\n          marketing: false\n        },\n        createdAt: new Date().toISOString()\n      };\n      localStorage.setItem('current-user', JSON.stringify(user));\n      setCurrentUser(user);\n      setUserType(user.type);\n      // registry update\n      const existingUsersRaw = localStorage.getItem('users');\n      let existingUsers = [];\n      if (existingUsersRaw) {\n        try {\n          existingUsers = JSON.parse(existingUsersRaw);\n        } catch {\n          existingUsers = [];\n        }\n      }\n      existingUsers.push(user);\n      localStorage.setItem('users', JSON.stringify(existingUsers));\n      setUsers(existingUsers);\n      setShowAuthModal(false);\n      // If landlord, route to onboarding to complete setup before posting\n      if (user.type === 'landlord') {\n        setCurrentView('landlord-onboarding');\n      } else {\n        setCurrentView('browse');\n      }\n    } catch (err) {\n      console.error('Auth failed', err);\n    }\n  };\n\n  // Sign out helper so you can re-auth as renter for perspective preview\n  const handleSignOut = () => {\n    try {\n      localStorage.removeItem('current-user');\n    } catch (e) {\n      console.warn('Could not clear localStorage current-user');\n    }\n    setCurrentUser(null);\n    setUserType(null);\n    setCurrentView('browse');\n    showToast('Signed out. You can now sign in as Renter.', 'info');\n  };\n  const handleCompleteOnboarding = async onboardData => {\n    try {\n      const updated = {\n        ...currentUser,\n        landlordComplete: true,\n        landlordInfo: onboardData\n      };\n      localStorage.setItem('current-user', JSON.stringify(updated));\n      setCurrentUser(updated);\n      setCurrentView('browse');\n    } catch (err) {\n      console.error('Onboarding save failed', err);\n      setCurrentUser({\n        ...currentUser,\n        landlordComplete: true,\n        landlordInfo: onboardData\n      });\n      setCurrentView('browse');\n    }\n  };\n  const handleAddListing = async listingData => {\n    var _listingData$latitude, _listingData$longitud;\n    const newListing = {\n      id: `listing-${Date.now()}`,\n      title: listingData.title,\n      price: listingData.price,\n      location: listingData.location,\n      description: listingData.description,\n      photos: listingData.photos || [],\n      status: listingData.status || 'available',\n      availableDate: listingData.availableDate || new Date().toISOString(),\n      amenities: listingData.amenities || [],\n      latitude: (_listingData$latitude = listingData.latitude) !== null && _listingData$latitude !== void 0 ? _listingData$latitude : null,\n      longitude: (_listingData$longitud = listingData.longitude) !== null && _listingData$longitud !== void 0 ? _listingData$longitud : null,\n      paymentMethod: listingData.paymentMethod || 'Bank and Cash',\n      premium: !!listingData.premium,\n      landlordId: currentUser.id,\n      landlordName: currentUser.name,\n      landlordPhone: currentUser.phone,\n      landlordEmail: currentUser.email,\n      landlordPhoto: currentUser.photo,\n      createdAt: new Date().toISOString()\n    };\n    const updatedListings = [...listings, newListing];\n    await saveListings(updatedListings);\n    showToast('Listing created successfully!', 'success', 'Success!');\n    setCurrentView('browse');\n    // Scroll to top to see new listing\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n\n  // Messaging removed\n\n  const filteredListings = listings.map(listing => {\n    // attach distance if we have userLocation\n    if (userLocation && listing.latitude != null && listing.longitude != null) {\n      const d = haversineDistance(userLocation.lat, userLocation.lon, listing.latitude, listing.longitude);\n      return {\n        ...listing,\n        __distanceKm: d\n      };\n    }\n    if (userLocation && (listing.latitude == null || listing.longitude == null)) {\n      // try to geocode-less accurate: leave distance undefined\n      return {\n        ...listing\n      };\n    }\n    return {\n      ...listing\n    };\n  }).filter(listing => {\n    const matchesLocation = !searchLocation || (listing.location || '').toLowerCase().includes(searchLocation.toLowerCase());\n    const price = parseFloat(listing.price);\n    const matchesPrice = price >= priceRange[0] && price <= priceRange[1];\n    const matchesAmenities = selectedAmenities.length === 0 || selectedAmenities.every(amenity => {\n      var _listing$amenities;\n      return (_listing$amenities = listing.amenities) === null || _listing$amenities === void 0 ? void 0 : _listing$amenities.includes(amenity);\n    });\n    let passesNearby = true;\n    if (nearbyMode && userLocation) {\n      // require listing to have coordinates to be included\n      if (listing.latitude != null && listing.longitude != null) {\n        var _listing$__distanceKm;\n        const d = (_listing$__distanceKm = listing.__distanceKm) !== null && _listing$__distanceKm !== void 0 ? _listing$__distanceKm : haversineDistance(userLocation.lat, userLocation.lon, listing.latitude, listing.longitude);\n        passesNearby = d <= nearbyRadius;\n      } else {\n        passesNearby = false;\n      }\n    }\n    return matchesLocation && matchesPrice && matchesAmenities && passesNearby;\n  }).sort((a, b) => {\n    if (a.premium && !b.premium) return -1;\n    if (!a.premium && b.premium) return 1;\n    if (nearbyMode && userLocation) {\n      var _a$__distanceKm, _b$__distanceKm;\n      const da = (_a$__distanceKm = a.__distanceKm) !== null && _a$__distanceKm !== void 0 ? _a$__distanceKm : Infinity;\n      const db = (_b$__distanceKm = b.__distanceKm) !== null && _b$__distanceKm !== void 0 ? _b$__distanceKm : Infinity;\n      return da - db;\n    }\n    if (sortBy === 'newest') {\n      return new Date(b.createdAt) - new Date(a.createdAt);\n    } else if (sortBy === 'cheapest') {\n      return parseFloat(a.price) - parseFloat(b.price);\n    } else if (sortBy === 'expensive') {\n      return parseFloat(b.price) - parseFloat(a.price);\n    }\n    return 0;\n  });\n\n  // Allow guests to land on Browse by default. If userType isn't set,\n  // show a gentle callout in the header (below) so users can pick a role\n  // when they want to post or set up their profile.\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      currentUser: currentUser,\n      previewAsRenter: previewAsRenter,\n      setPreviewAsRenter: setPreviewAsRenter,\n      openAuthModal: openAuthModal,\n      handleSignOut: handleSignOut,\n      setCurrentView: setCurrentView,\n      unreadCount: unreadCount,\n      onOpenNotifications: () => setShowNotificationsPanel(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 596,\n      columnNumber: 7\n    }, this), previewAsRenter && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.type) === 'landlord' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-indigo-50 border-b border-indigo-200 text-indigo-700 text-xs py-1 text-center\",\n      role: \"status\",\n      \"aria-live\": \"polite\",\n      children: \"Renter preview mode: interactions are read-only. Toggle off to resume landlord actions.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 607,\n      columnNumber: 9\n    }, this), notificationBanner && /*#__PURE__*/_jsxDEV(NotificationBanner, {\n      title: notificationBanner.title,\n      body: notificationBanner.body,\n      onClose: () => setNotificationBanner(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 614,\n      columnNumber: 9\n    }, this), toast && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed top-20 right-4 z-50 max-w-sm w-full transition-all duration-300 ${toast.type === 'error' ? 'bg-red-50 border-red-400' : toast.type === 'success' ? 'bg-green-50 border-green-400' : toast.type === 'warning' ? 'bg-amber-50 border-amber-400' : 'bg-blue-50 border-blue-400'} border-l-4 rounded-lg shadow-xl p-4 fade-in`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center ${toast.type === 'error' ? 'bg-red-100' : toast.type === 'success' ? 'bg-green-100' : toast.type === 'warning' ? 'bg-amber-100' : 'bg-blue-100'}`,\n          children: [toast.type === 'success' && /*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"w-4 h-4 text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 44\n          }, this), toast.type === 'error' && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-600 font-bold text-sm\",\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 42\n          }, this), toast.type === 'warning' && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-amber-600 font-bold text-sm\",\n            children: \"!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 44\n          }, this), toast.type === 'info' && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-blue-600 font-bold text-sm\",\n            children: \"i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 639,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [toast.title && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `font-semibold mb-1 ${toast.type === 'error' ? 'text-red-800' : toast.type === 'success' ? 'text-green-800' : toast.type === 'warning' ? 'text-amber-800' : 'text-blue-800'}`,\n            children: toast.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 642,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-sm ${toast.type === 'error' ? 'text-red-700' : toast.type === 'success' ? 'text-green-700' : toast.type === 'warning' ? 'text-amber-700' : 'text-blue-700'}`,\n            children: toast.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setToast(null),\n          className: `flex-shrink-0 p-1 rounded hover:bg-gray-200 transition ${toast.type === 'error' ? 'text-red-600' : toast.type === 'success' ? 'text-green-600' : toast.type === 'warning' ? 'text-amber-600' : 'text-blue-600'}`,\n          \"aria-label\": \"Close notification\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 623,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"main-content\",\n      className: \"max-w-6xl mx-auto pb-20\",\n      role: \"main\",\n      children: [currentView === 'setup-profile' && /*#__PURE__*/_jsxDEV(ProfileSetupView, {\n        onSubmit: handleProfileSetup,\n        userType: userType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 673,\n        columnNumber: 11\n      }, this), currentView === 'profile' && currentUser && /*#__PURE__*/_jsxDEV(ProfileView, {\n        user: currentUser,\n        onEdit: () => setCurrentView('edit-profile'),\n        onUpdatePrefs: prefs => {\n          const updated = {\n            ...currentUser,\n            notificationPrefs: prefs\n          };\n          setCurrentUser(updated);\n          try {\n            localStorage.setItem('current-user', JSON.stringify(updated));\n            // update registry\n            const raw = localStorage.getItem('users');\n            if (raw) {\n              try {\n                const arr = JSON.parse(raw);\n                const idx = arr.findIndex(u => u.id === updated.id);\n                if (idx !== -1) {\n                  arr[idx] = updated;\n                  localStorage.setItem('users', JSON.stringify(arr));\n                }\n              } catch {}\n            }\n          } catch {}\n          showToast('Preferences updated', 'success');\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 677,\n        columnNumber: 11\n      }, this), currentView === 'edit-profile' && currentUser && /*#__PURE__*/_jsxDEV(EditProfileView, {\n        user: currentUser,\n        onSubmit: handleUpdateProfile,\n        onCancel: () => setCurrentView('profile')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 11\n      }, this), currentView === 'landlord-onboarding' && currentUser && userType === 'landlord' && /*#__PURE__*/_jsxDEV(LandlordOnboardingView, {\n        onComplete: handleCompleteOnboarding,\n        onCancel: () => setCurrentView('browse'),\n        currentUser: currentUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 705,\n        columnNumber: 11\n      }, this), currentView === 'browse' && /*#__PURE__*/_jsxDEV(BrowseView, {\n        listings: filteredListings,\n        searchLocation: searchLocation,\n        setSearchLocation: setSearchLocation,\n        priceRange: priceRange,\n        setPriceRange: setPriceRange,\n        selectedAmenities: selectedAmenities,\n        setSelectedAmenities: setSelectedAmenities,\n        sortBy: sortBy,\n        setSortBy: setSortBy,\n        onSelectListing: setSelectedListing,\n        setCurrentView: setCurrentView,\n        currentUser: currentUser,\n        onRequireAuth: openAuthModal,\n        subscribeToArea: subscribeToArea,\n        onFindNearby: handleFindNearby,\n        nearbyRadius: nearbyRadius,\n        setNearbyRadius: setNearbyRadius,\n        nearbyMode: nearbyMode,\n        clearNearby: clearNearby,\n        userLocation: userLocation,\n        nearbyStatus: nearbyStatus,\n        previewMode: previewAsRenter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 709,\n        columnNumber: 21\n      }, this), currentView === 'add' && /*#__PURE__*/_jsxDEV(AddListingView, {\n        onSubmit: handleAddListing,\n        onCancel: () => setCurrentView('browse'),\n        currentUser: currentUser,\n        userType: userType,\n        onRequireAuth: openAuthModal,\n        onRequireOnboarding: () => setCurrentView('landlord-onboarding')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 738,\n        columnNumber: 11\n      }, this), currentView === 'my-listings' && currentUser && userType === 'landlord' && /*#__PURE__*/_jsxDEV(MyListingsView, {\n        listings: listings.filter(l => l.landlordId === currentUser.id),\n        onDelete: async id => {\n          const updated = listings.filter(l => l.id !== id);\n          await saveListings(updated);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 749,\n        columnNumber: 11\n      }, this), currentView === 'favorites' && /*#__PURE__*/_jsxDEV(FavoritesView, {\n        listings: listings,\n        onSelectListing: setSelectedListing\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 759,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 671,\n      columnNumber: 7\n    }, this), selectedListing && /*#__PURE__*/_jsxDEV(ListingDetailModal, {\n      listing: selectedListing,\n      landlord: {\n        name: selectedListing.landlordName,\n        phone: selectedListing.landlordPhone,\n        email: selectedListing.landlordEmail,\n        photo: selectedListing.landlordPhoto\n      },\n      onClose: () => setSelectedListing(null),\n      userType: userType,\n      currentUser: currentUser,\n      onRequireAuth: openAuthModal,\n      previewMode: previewAsRenter,\n      showToast: showToast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 767,\n      columnNumber: 9\n    }, this), showAuthModal && /*#__PURE__*/_jsxDEV(AuthModal, {\n      defaultType: authDefaultType,\n      onClose: () => setShowAuthModal(false),\n      onSubmit: handleQuickAuth\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 787,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(BottomNav, {\n      currentView: currentView,\n      setCurrentView: setCurrentView,\n      userType: userType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 794,\n      columnNumber: 7\n    }, this), showLocationConsent && /*#__PURE__*/_jsxDEV(LocationConsentModal, {\n      onAccept: handleLocationConsentAccept,\n      onDecline: () => setShowLocationConsent(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 801,\n      columnNumber: 9\n    }, this), showPrivacyPolicy && /*#__PURE__*/_jsxDEV(PrivacyPolicyModal, {\n      onClose: () => setShowPrivacyPolicy(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 808,\n      columnNumber: 9\n    }, this), showAnalyticsConsent && /*#__PURE__*/_jsxDEV(AnalyticsConsentModal, {\n      onAccept: handleAnalyticsConsentAccept,\n      onDecline: handleAnalyticsConsentDecline\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 812,\n      columnNumber: 9\n    }, this), showNotificationsPanel && /*#__PURE__*/_jsxDEV(NotificationsPanel, {\n      onClose: () => {\n        setShowNotificationsPanel(false);\n        setUnreadCount(getNotifications().filter(n => !n.read).length);\n      },\n      onSelectListing: listingId => {\n        const listing = listings.find(l => (l.id || `${l.title}-${l.createdAt}`) === listingId);\n        if (listing) {\n          setSelectedListing(listing);\n        }\n        setShowNotificationsPanel(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 819,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      onOpenPrivacy: () => setShowPrivacyPolicy(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 834,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 595,\n    columnNumber: 5\n  }, this);\n}\n_s(RentalPlatform, \"eocFFvNWawXI/fIGQWkqDmZYfgo=\");\n_c = RentalPlatform;\nfunction ProfileSetupView({\n  onSubmit,\n  userType\n}) {\n  _s2();\n  const [formData, setFormData] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    whatsapp: '',\n    photo: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n  const validateField = (name, value, extras = {}) => {\n    const newErrors = {\n      ...errors\n    };\n    switch (name) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'phone':\n        if (!value || !/^[+]?[-0-9()\\s]{7,}$/.test(value.trim())) {\n          newErrors.phone = 'Enter a valid phone number (min 7 digits)';\n        } else {\n          delete newErrors.phone;\n        }\n        break;\n      case 'email':\n        if (!value || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value.trim())) {\n          newErrors.email = 'Enter a valid email address';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      case 'photo':\n        if (value === 'FILE_TOO_LARGE') {\n          newErrors.photo = 'Photo is too large (max 2MB)';\n        } else {\n          delete newErrors.photo;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n  const handlePhotoUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 2 * 1024 * 1024) {\n        // 2MB limit\n        setFormData({\n          ...formData,\n          photo: ''\n        });\n        validateField('photo', 'FILE_TOO_LARGE');\n        return;\n      }\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({\n          ...formData,\n          photo: reader.result\n        });\n        validateField('photo', reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleSubmit = () => {\n    // Touch all fields\n    const allTouched = {\n      name: true,\n      phone: true,\n      email: true,\n      photo: true\n    };\n    setTouched(allTouched);\n    validateField('name', formData.name);\n    validateField('phone', formData.phone);\n    validateField('email', formData.email);\n    if (Object.keys(errors).length === 0 && formData.name && formData.phone && formData.email) {\n      onSubmit(formData);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 min-h-screen bg-gray-50 pb-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-bold text-gray-800 mb-2\",\n            children: \"Complete Your Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 923,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Help others know who you are\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 924,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 922,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center mb-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [formData.photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: formData.photo,\n                alt: \"Profile\",\n                className: \"w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 932,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-blue-200 shadow-lg\",\n                children: /*#__PURE__*/_jsxDEV(User, {\n                  className: \"w-16 h-16 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 939,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 938,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition group\",\n                \"aria-label\": \"Upload profile photo\",\n                children: [/*#__PURE__*/_jsxDEV(Edit, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 943,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/*\",\n                  onChange: handlePhotoUpload,\n                  className: \"hidden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 944,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 942,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 930,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 929,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Full Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 956,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              required: true,\n              value: formData.name,\n              onChange: e => {\n                setFormData({\n                  ...formData,\n                  name: e.target.value\n                });\n                if (touched.name) validateField('name', e.target.value);\n              },\n              onBlur: e => {\n                setTouched({\n                  ...touched,\n                  name: true\n                });\n                validateField('name', e.target.value);\n              },\n              placeholder: \"Enter your full name\",\n              \"aria-invalid\": errors.name ? 'true' : 'false',\n              \"aria-describedby\": errors.name ? 'profile-name-error' : undefined,\n              className: `w-full px-4 py-3 border ${errors.name ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 957,\n              columnNumber: 15\n            }, this), errors.name && touched.name && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"profile-name-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 968,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 955,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Phone Number *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 972,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 974,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                required: true,\n                value: formData.phone,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    phone: e.target.value\n                  });\n                  if (touched.phone) validateField('phone', e.target.value);\n                },\n                onBlur: e => {\n                  setTouched({\n                    ...touched,\n                    phone: true\n                  });\n                  validateField('phone', e.target.value);\n                },\n                placeholder: \"e.g., +27 12 345 6789\",\n                \"aria-invalid\": errors.phone ? 'true' : 'false',\n                \"aria-describedby\": errors.phone ? 'profile-phone-error' : undefined,\n                className: `w-full pl-11 pr-4 py-3 border ${errors.phone ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 975,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 973,\n              columnNumber: 15\n            }, this), errors.phone && touched.phone && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"profile-phone-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 987,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 971,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Email Address *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 991,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Mail, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 993,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                required: true,\n                value: formData.email,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    email: e.target.value\n                  });\n                  if (touched.email) validateField('email', e.target.value);\n                },\n                onBlur: e => {\n                  setTouched({\n                    ...touched,\n                    email: true\n                  });\n                  validateField('email', e.target.value);\n                },\n                placeholder: \"your.email@example.com\",\n                \"aria-invalid\": errors.email ? 'true' : 'false',\n                \"aria-describedby\": errors.email ? 'profile-email-error' : undefined,\n                className: `w-full pl-11 pr-4 py-3 border ${errors.email ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 994,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 992,\n              columnNumber: 15\n            }, this), errors.email && touched.email && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"profile-email-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1006,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 990,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"WhatsApp (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1010,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1012,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                value: formData.whatsapp,\n                onChange: e => setFormData({\n                  ...formData,\n                  whatsapp: e.target.value\n                }),\n                placeholder: \"e.g., +27 71 234 5678\",\n                className: \"w-full pl-11 pr-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1013,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1011,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: \"Used to create a WhatsApp chat link on your listings.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1021,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1009,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            className: \"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition mt-8 shadow-sm\",\n            children: \"Complete Setup\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1025,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 927,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 921,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 920,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 919,\n    columnNumber: 5\n  }, this);\n}\n_s2(ProfileSetupView, \"kfDeqkcyc9zNK7eVP7iQRpX1qkA=\");\n_c2 = ProfileSetupView;\nfunction ProfileView({\n  user,\n  onEdit,\n  onUpdatePrefs\n}) {\n  _s3();\n  const prefs = user.notificationPrefs || {\n    updates: true,\n    marketing: false\n  };\n  const [localPrefs, setLocalPrefs] = React.useState(prefs);\n  const togglePref = key => {\n    const next = {\n      ...localPrefs,\n      [key]: !localPrefs[key]\n    };\n    setLocalPrefs(next);\n    onUpdatePrefs && onUpdatePrefs(next);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow p-6 max-w-xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-start mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: \"My Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1052,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onEdit,\n          className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Edit, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1057,\n            columnNumber: 13\n          }, this), \"Edit\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1053,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1051,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center mb-6\",\n        children: [user.photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: user.photo,\n          alt: \"Profile\",\n          className: \"w-32 h-32 rounded-full object-cover border-4 border-blue-500 mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1064,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center border-4 border-gray-300 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(User, {\n            className: \"w-16 h-16 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1067,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1066,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1070,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inline-block mt-2 px-4 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold\",\n          children: user.type === 'landlord' ? 'Landlord' : 'Renter'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1071,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1062,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(Phone, {\n              className: \"w-5 h-5 mr-3 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1079,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mb-1\",\n                children: \"Phone Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1081,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800\",\n                children: user.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1082,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1080,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1078,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1077,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(Mail, {\n              className: \"w-5 h-5 mr-3 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1089,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mb-1\",\n                children: \"Email Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1091,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800\",\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1092,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1090,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1088,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1087,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(User, {\n              className: \"w-5 h-5 mr-3 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1099,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mb-1\",\n                children: \"Member Since\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1101,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800\",\n                children: new Date(user.createdAt).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1102,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1100,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1098,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1097,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-indigo-50 rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-gray-800 mb-2\",\n            children: \"Notification Preferences\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-2 text-sm text-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: localPrefs.updates,\n                onChange: () => togglePref('updates')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1113,\n                columnNumber: 17\n              }, this), \"Updates about new rooms in subscribed areas\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1112,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-2 text-sm text-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: localPrefs.marketing,\n                onChange: () => togglePref('marketing')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1121,\n                columnNumber: 17\n              }, this), \"Occasional feature & promotion emails\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1120,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-[11px] text-gray-500 mt-2\",\n            children: \"You can opt out anytime. Changes save instantly.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1129,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1076,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1050,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1049,\n    columnNumber: 5\n  }, this);\n}\n_s3(ProfileView, \"NCLbZ9/EK3qA4KJuUuQq28+1rwg=\");\n_c3 = ProfileView;\nfunction LandlordOnboardingView({\n  onComplete,\n  onCancel,\n  currentUser\n}) {\n  _s4();\n  const [form, setForm] = useState({\n    businessName: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || '',\n    bankDetails: '',\n    idNumber: '',\n    agree: false\n  });\n  const handleSubmit = () => {\n    if (!form.businessName || !form.agree) {\n      alert('Please provide a display name and agree to the terms.');\n      return;\n    }\n    onComplete(form);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 min-h-screen bg-gray-50 pb-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-6 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-16 h-16 rounded-full bg-blue-50 flex items-center justify-center text-blue-600 text-2xl font-bold\",\n            children: currentUser && currentUser.name ? currentUser.name.charAt(0) : 'L'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold text-gray-800\",\n              children: [\"Welcome, \", (currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || 'Landlord']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"A few details to get your listings live and increase trust with renters.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1158,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-1\",\n              children: \"Display Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: form.businessName,\n              onChange: e => setForm({\n                ...form,\n                businessName: e.target.value\n              }),\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1165,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: \"This name is shown to renters on your listings and messages.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1166,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-1\",\n              children: \"How do you want to receive payments?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: form.bankDetails,\n              onChange: e => setForm({\n                ...form,\n                bankDetails: e.target.value\n              }),\n              placeholder: \"Bank account or payment details (optional)\",\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1171,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-1\",\n              children: \"ID Number (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: form.idNumber,\n              onChange: e => setForm({\n                ...form,\n                idNumber: e.target.value\n              }),\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: form.agree,\n              onChange: e => setForm({\n                ...form,\n                agree: e.target.checked\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"I confirm I am authorised to list these properties and agree to the \", /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: e => e.preventDefault(),\n                className: \"text-blue-600 underline p-0\",\n                children: \"terms of service\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1181,\n                columnNumber: 122\n              }, this), \".\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1181,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3 pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onCancel,\n              className: \"flex-1 bg-gray-100 hover:bg-gray-200 py-3 rounded\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubmit,\n              className: \"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded\",\n              children: \"Complete and Start Listing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1186,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1151,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1150,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1149,\n    columnNumber: 5\n  }, this);\n}\n_s4(LandlordOnboardingView, \"Ac17KE539D878YeIRIQ45kYstio=\");\n_c4 = LandlordOnboardingView;\nfunction EditProfileView({\n  user,\n  onSubmit,\n  onCancel\n}) {\n  _s5();\n  const [formData, setFormData] = useState({\n    name: user.name || '',\n    phone: user.phone || '',\n    email: user.email || '',\n    whatsapp: user.whatsapp || '',\n    photo: user.photo || ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n  const validateField = (name, value, extras = {}) => {\n    const newErrors = {\n      ...errors\n    };\n    switch (name) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'phone':\n        if (!value || !/^[+]?[-0-9()\\s]{7,}$/.test(value.trim())) {\n          newErrors.phone = 'Enter a valid phone number';\n        } else {\n          delete newErrors.phone;\n        }\n        break;\n      case 'email':\n        if (!value || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value.trim())) {\n          newErrors.email = 'Enter a valid email';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n  const handlePhotoUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({\n          ...formData,\n          photo: reader.result\n        });\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleSubmit = () => {\n    setTouched({\n      name: true,\n      phone: true,\n      email: true\n    });\n    validateField('name', formData.name);\n    validateField('phone', formData.phone);\n    validateField('email', formData.email);\n    if (Object.keys(errors).length === 0 && formData.name && formData.phone && formData.email) {\n      onSubmit(formData);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 min-h-screen bg-gray-50 pb-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-bold text-gray-800\",\n            children: \"Edit Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1262,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onCancel,\n            className: \"text-gray-400 hover:text-gray-600 transition\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1264,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1263,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center mb-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [formData.photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: formData.photo,\n                alt: \"Profile\",\n                className: \"w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1273,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-blue-200 shadow-lg\",\n                children: /*#__PURE__*/_jsxDEV(User, {\n                  className: \"w-16 h-16 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1276,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1275,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition\",\n                \"aria-label\": \"Upload new profile photo\",\n                children: [/*#__PURE__*/_jsxDEV(Edit, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1280,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/*\",\n                  onChange: handlePhotoUpload,\n                  className: \"hidden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1281,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1279,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1271,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Full Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              required: true,\n              value: formData.name,\n              onChange: e => {\n                setFormData({\n                  ...formData,\n                  name: e.target.value\n                });\n                if (touched.name) validateField('name', e.target.value);\n              },\n              onBlur: e => {\n                setTouched({\n                  ...touched,\n                  name: true\n                });\n                validateField('name', e.target.value);\n              },\n              \"aria-invalid\": errors.name ? 'true' : 'false',\n              \"aria-describedby\": errors.name ? 'edit-name-error' : undefined,\n              className: `w-full px-4 py-3 border ${errors.name ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1294,\n              columnNumber: 15\n            }, this), errors.name && touched.name && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"edit-name-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1304,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1292,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1308,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1310,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                required: true,\n                value: formData.phone,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    phone: e.target.value\n                  });\n                  if (touched.phone) validateField('phone', e.target.value);\n                },\n                onBlur: e => {\n                  setTouched({\n                    ...touched,\n                    phone: true\n                  });\n                  validateField('phone', e.target.value);\n                },\n                \"aria-invalid\": errors.phone ? 'true' : 'false',\n                \"aria-describedby\": errors.phone ? 'edit-phone-error' : undefined,\n                className: `w-full pl-11 pr-4 py-3 border ${errors.phone ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1311,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1309,\n              columnNumber: 15\n            }, this), errors.phone && touched.phone && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"edit-phone-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1322,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Email Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1326,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Mail, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1328,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                required: true,\n                value: formData.email,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    email: e.target.value\n                  });\n                  if (touched.email) validateField('email', e.target.value);\n                },\n                onBlur: e => {\n                  setTouched({\n                    ...touched,\n                    email: true\n                  });\n                  validateField('email', e.target.value);\n                },\n                \"aria-invalid\": errors.email ? 'true' : 'false',\n                \"aria-describedby\": errors.email ? 'edit-email-error' : undefined,\n                className: `w-full pl-11 pr-4 py-3 border ${errors.email ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1329,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1327,\n              columnNumber: 15\n            }, this), errors.email && touched.email && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"edit-email-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1340,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"WhatsApp (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1344,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1346,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                value: formData.whatsapp,\n                onChange: e => setFormData({\n                  ...formData,\n                  whatsapp: e.target.value\n                }),\n                placeholder: \"e.g., +27 71 234 5678\",\n                className: \"w-full pl-11 pr-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1347,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1345,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: \"Used to create a WhatsApp chat link on your listings.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1355,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3 pt-6 border-t border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onCancel,\n              className: \"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 rounded-lg transition\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1360,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubmit,\n              className: \"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition shadow-sm\",\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1366,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1359,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1268,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1260,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1259,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1258,\n    columnNumber: 5\n  }, this);\n}\n\n/* BrowseView extracted to components/BrowseView.jsx */\n_s5(EditProfileView, \"cOSAqGAlx0e4c08rHdbkImVA+ZU=\");\n_c5 = EditProfileView;\nfunction FavoritesView({\n  listings,\n  onSelectListing\n}) {\n  _s6();\n  const [favorites, setFavorites] = useState([]);\n  useEffect(() => {\n    try {\n      const rawFavorites = localStorage.getItem('favorites');\n      if (rawFavorites) {\n        const arr = JSON.parse(rawFavorites);\n        if (Array.isArray(arr)) setFavorites(arr);\n      }\n    } catch {}\n  }, []);\n  const toggleFavorite = listingId => {\n    setFavorites(prev => {\n      const updated = prev.filter(id => id !== listingId);\n      try {\n        localStorage.setItem('favorites', JSON.stringify(updated));\n      } catch {}\n      return updated;\n    });\n  };\n  const favoriteListings = listings.filter(l => favorites.includes(l.id));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 min-h-screen bg-gray-50 pb-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-bold text-gray-800 flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(Heart, {\n            className: \"w-8 h-8 text-red-500 fill-red-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1412,\n            columnNumber: 13\n          }, this), \"Saved Listings\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1411,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mt-2\",\n          children: favoriteListings.length === 0 ? 'No saved listings yet. Browse and tap the heart icon to save your favorites!' : `${favoriteListings.length} saved ${favoriteListings.length === 1 ? 'listing' : 'listings'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1415,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1410,\n        columnNumber: 9\n      }, this), favoriteListings.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg border border-gray-200 p-12 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(Heart, {\n          className: \"w-24 h-24 mx-auto mb-4 text-gray-300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1424,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 font-medium mb-2\",\n          children: \"No saved listings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1425,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-sm mb-6\",\n          children: \"Start browsing and save your favorite rooms to find them here later\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1426,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1423,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\n        children: favoriteListings.map(listing => {\n          const ListingCard = require('./components/ListingCard').default;\n          return /*#__PURE__*/_jsxDEV(ListingCard, {\n            listing: listing,\n            onClick: () => onSelectListing(listing),\n            isFavorite: true,\n            onToggleFavorite: toggleFavorite\n          }, listing.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1435,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1431,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1409,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1408,\n    columnNumber: 5\n  }, this);\n}\n_s6(FavoritesView, \"gYNGUuNbE7AW8shO5JZPpsJJ/gw=\");\n_c6 = FavoritesView;\nfunction AddListingView({\n  onSubmit,\n  onCancel,\n  currentUser,\n  userType,\n  onRequireAuth,\n  onRequireOnboarding\n}) {\n  _s7();\n  const GEOCODER_KEY = process.env.REACT_APP_GEOCODER_API_KEY;\n  const GEOCODER_PROVIDER = (process.env.REACT_APP_GEOCODER_PROVIDER || '').toLowerCase();\n  const [formData, setFormData] = useState({\n    title: '',\n    price: '',\n    location: '',\n    streetAddress: '',\n    description: '',\n    photos: [],\n    status: 'available',\n    availableDate: new Date().toISOString().split('T')[0],\n    amenities: [],\n    latitude: null,\n    longitude: null,\n    paymentMethod: 'Bank and Cash',\n    roomType: 'private',\n    leaseDuration: '7-12',\n    petFriendly: false,\n    genderPreference: 'any'\n  });\n  const [geocodingStatus, setGecodingStatus] = useState('');\n  const [errors, setErrors] = useState({});\n  const [locationHelpBanner, setLocationHelpBanner] = useState('');\n  const [showPhotoEditor, setShowPhotoEditor] = useState(false);\n  const reverseGeocodeCacheRef = React.useRef({});\n  const [lastGeocodeSource, setLastGeocodeSource] = useState(null); // 'cached' | 'mapbox' | 'proxy' | 'direct' | 'coords-only' | 'manual-geocode'\n  const [fullAddressInput, setFullAddressInput] = useState('');\n  const [isFullAddressEditing, setIsFullAddressEditing] = useState(false);\n\n  // Helper: fetch with graceful fallbacks when third-party APIs lack CORS headers\n  const corsFallbackTransforms = useMemo(() => [url => url.startsWith('https://cors.isomorphic-git.org/') ? url : `https://cors.isomorphic-git.org/${url}`, url => url.startsWith('https://corsproxy.io/?') ? url : `https://corsproxy.io/?${encodeURIComponent(url)}`], []);\n  const fetchWithCorsFallback = useCallback(async (url, options = {}) => {\n    const cloneOptions = () => {\n      const base = {\n        ...options\n      };\n      if (options.headers) base.headers = {\n        ...options.headers\n      };\n      return base;\n    };\n    const attempt = async targetUrl => {\n      const resp = await fetch(targetUrl, cloneOptions());\n      if (!resp.ok) throw new Error(`Request failed with status ${resp.status}`);\n      return resp;\n    };\n    try {\n      return await attempt(url);\n    } catch (err) {\n      var _options$signal;\n      if ((_options$signal = options.signal) !== null && _options$signal !== void 0 && _options$signal.aborted) throw err;\n      let lastError = err;\n      for (const transform of corsFallbackTransforms) {\n        try {\n          const proxiedUrl = transform(url);\n          return await attempt(proxiedUrl);\n        } catch (proxyErr) {\n          var _options$signal2;\n          lastError = proxyErr;\n          if ((_options$signal2 = options.signal) !== null && _options$signal2 !== void 0 && _options$signal2.aborted) break;\n        }\n      }\n      throw lastError;\n    }\n  }, [corsFallbackTransforms]);\n\n  // Reusable reverse geocoding function - extracted for use by both GPS and draggable marker\n  const reverseGeocodeCoords = async (lat, lon) => {\n    const cacheKey = `${lat.toFixed(4)},${lon.toFixed(4)}`;\n\n    // Check cache first\n    const cached = reverseGeocodeCacheRef.current[cacheKey];\n    if (cached && cached.streetAddress && cached.location) {\n      return {\n        streetAddress: cached.streetAddress,\n        location: cached.location,\n        source: 'cached'\n      };\n    }\n\n    // Try geocoding\n    try {\n      var _revData;\n      // Try Mapbox if available\n      if (GEOCODER_PROVIDER === 'mapbox' && GEOCODER_KEY) {\n        var _revData$features;\n        const rev = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${lon},${lat}.json?access_token=${GEOCODER_KEY}&limit=1&country=za&types=address,poi`);\n        const revData = await rev.json();\n        if ((revData === null || revData === void 0 ? void 0 : (_revData$features = revData.features) === null || _revData$features === void 0 ? void 0 : _revData$features.length) > 0) {\n          const feature = revData.features[0];\n          const address = feature.address || '';\n          const streetName = feature.text || '';\n          const fullStreet = address ? `${address} ${streetName}` : streetName;\n          let area = '';\n          if (feature.context) {\n            const place = feature.context.find(c => c.id.startsWith('place'));\n            const locality = feature.context.find(c => c.id.startsWith('locality'));\n            const region = feature.context.find(c => c.id.startsWith('region'));\n            const baseArea = (place ? place.text : locality ? locality.text : '') || '';\n            const province = region ? region.text : '';\n            area = province && baseArea && province.toLowerCase() !== baseArea.toLowerCase() ? `${baseArea}, ${province}` : baseArea || province;\n          }\n          area = area.replace(/ (Metropolitan|Local|District) Municipality$/i, '').replace(/^City of /i, '').trim();\n          if (fullStreet || area) {\n            reverseGeocodeCacheRef.current[cacheKey] = {\n              streetAddress: fullStreet,\n              location: area,\n              ts: Date.now()\n            };\n            try {\n              localStorage.setItem('reverse-geocode-cache', JSON.stringify(reverseGeocodeCacheRef.current));\n            } catch {}\n            return {\n              streetAddress: fullStreet,\n              location: area,\n              source: 'mapbox'\n            };\n          }\n        }\n      }\n\n      // Try geocode.maps.co (Nominatim mirror with CORS enabled)\n      try {\n        const mapsCoResp = await fetch(`https://geocode.maps.co/reverse?lat=${lat}&lon=${lon}`);\n        if (mapsCoResp.ok) {\n          const mapsCoData = await mapsCoResp.json();\n          if (mapsCoData !== null && mapsCoData !== void 0 && mapsCoData.address) {\n            const addr = mapsCoData.address;\n            const houseNumber = addr.house_number || '';\n            const road = addr.road || addr.street || '';\n            const suburb = addr.suburb || addr.neighbourhood || '';\n            const street = [houseNumber, road].filter(Boolean).join(' ').trim() || suburb;\n            const area = formatAreaFromAddress(addr) || suburb;\n            if (street || area) {\n              reverseGeocodeCacheRef.current[cacheKey] = {\n                streetAddress: street,\n                location: area,\n                ts: Date.now()\n              };\n              try {\n                localStorage.setItem('reverse-geocode-cache', JSON.stringify(reverseGeocodeCacheRef.current));\n              } catch {}\n              return {\n                streetAddress: street,\n                location: area,\n                source: 'maps.co'\n              };\n            }\n          }\n        }\n      } catch (mapsCoErr) {\n        console.warn('maps.co reverse geocode failed', mapsCoErr);\n      }\n\n      // Try BigDataCloud (CORS-friendly, no key required)\n      try {\n        const bdcResp = await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lon}&localityLanguage=en`);\n        if (bdcResp.ok) {\n          const bdcData = await bdcResp.json();\n          const formatted = formatBigDataCloudAddress(bdcData);\n          if (formatted.streetAddress || formatted.location) {\n            reverseGeocodeCacheRef.current[cacheKey] = {\n              streetAddress: formatted.streetAddress,\n              location: formatted.location,\n              ts: Date.now()\n            };\n            try {\n              localStorage.setItem('reverse-geocode-cache', JSON.stringify(reverseGeocodeCacheRef.current));\n            } catch {}\n            return {\n              ...formatted,\n              source: 'bigdatacloud'\n            };\n          }\n        }\n      } catch (bdcErr) {\n        console.warn('BigDataCloud reverse geocode failed', bdcErr);\n      }\n\n      // Try proxy/Nominatim\n      const API_BASE = process.env.REACT_APP_PROXY_BASE || (window.location && window.location.port === '8443' ? 'https://localhost:4443' : '');\n      let revData = null;\n      try {\n        const rev = await fetch(`${API_BASE}/api/reverse?lat=${lat}&lon=${lon}`);\n        if (rev.ok) revData = await rev.json();\n      } catch (proxyErr) {\n        console.warn('Proxy reverse geocode failed, trying direct', proxyErr);\n      }\n\n      // Direct Nominatim fallback\n      if (!revData) {\n        try {\n          const direct = await fetchWithCorsFallback(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}&zoom=18&addressdetails=1`, {\n            headers: {\n              'Accept': 'application/json',\n              'User-Agent': 'room-rental-platform/1.0'\n            }\n          });\n          revData = await direct.json();\n        } catch (directErr) {\n          console.warn('Direct nominatim failed', directErr);\n        }\n      }\n      if ((_revData = revData) !== null && _revData !== void 0 && _revData.address) {\n        const addr = revData.address;\n        const houseNumber = addr.house_number || '';\n        const road = addr.road || addr.street || '';\n        const suburb = addr.suburb || addr.neighbourhood || '';\n        const street = [houseNumber, road].filter(Boolean).join(' ').trim() || suburb;\n        const area = formatAreaFromAddress(addr) || suburb;\n        if (street || area) {\n          reverseGeocodeCacheRef.current[cacheKey] = {\n            streetAddress: street,\n            location: area,\n            ts: Date.now()\n          };\n          try {\n            localStorage.setItem('reverse-geocode-cache', JSON.stringify(reverseGeocodeCacheRef.current));\n          } catch {}\n          return {\n            streetAddress: street,\n            location: area,\n            source: 'nominatim'\n          };\n        }\n      }\n    } catch (e) {\n      console.error('Reverse geocode error:', e);\n    }\n    return null; // Failed to geocode\n  };\n\n  // Forward geocode helper for manual address lookups\n  const forwardGeocodeAddress = async query => {\n    if (!query || query.trim().length < 3) return [];\n\n    // 1. Mapbox (if configured)\n    if (GEOCODER_PROVIDER === 'mapbox' && GEOCODER_KEY) {\n      try {\n        var _data$features;\n        const resp = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(query)}.json?access_token=${GEOCODER_KEY}&limit=3&country=za&types=address,place,locality`);\n        const data = await resp.json();\n        if (data !== null && data !== void 0 && (_data$features = data.features) !== null && _data$features !== void 0 && _data$features.length) {\n          return data.features.map(f => {\n            var _f$geometry, _f$geometry$coordinat, _f$geometry2, _f$geometry2$coordina;\n            return {\n              lat: f.center ? f.center[1] : (_f$geometry = f.geometry) === null || _f$geometry === void 0 ? void 0 : (_f$geometry$coordinat = _f$geometry.coordinates) === null || _f$geometry$coordinat === void 0 ? void 0 : _f$geometry$coordinat[1],\n              lon: f.center ? f.center[0] : (_f$geometry2 = f.geometry) === null || _f$geometry2 === void 0 ? void 0 : (_f$geometry2$coordina = _f$geometry2.coordinates) === null || _f$geometry2$coordina === void 0 ? void 0 : _f$geometry2$coordina[0],\n              label: f.place_name || f.text,\n              source: 'mapbox'\n            };\n          }).filter(entry => typeof entry.lat === 'number' && typeof entry.lon === 'number');\n        }\n      } catch (err) {\n        console.warn('Mapbox forward geocode failed', err);\n      }\n    }\n\n    // 2. maps.co (CORS-friendly)\n    try {\n      const mapsResp = await fetch(`https://geocode.maps.co/search?q=${encodeURIComponent(query)}&limit=3`);\n      if (mapsResp.ok) {\n        const mapsData = await mapsResp.json();\n        if (Array.isArray(mapsData) && mapsData.length) {\n          return mapsData.slice(0, 3).map(entry => ({\n            lat: parseFloat(entry.lat),\n            lon: parseFloat(entry.lon),\n            label: entry.display_name || entry.name,\n            source: 'maps.co'\n          }));\n        }\n      }\n    } catch (mapsErr) {\n      console.warn('maps.co forward geocode failed', mapsErr);\n    }\n\n    // 3. Local proxy (if running)\n    const API_BASE = process.env.REACT_APP_PROXY_BASE || (window.location && window.location.port === '8443' ? 'https://localhost:4443' : '');\n    if (API_BASE) {\n      try {\n        const proxyResp = await fetch(`${API_BASE}/api/search?q=${encodeURIComponent(query)}`);\n        if (proxyResp.ok) {\n          const proxyData = await proxyResp.json();\n          if (Array.isArray(proxyData) && proxyData.length) {\n            return proxyData.slice(0, 3).map(entry => ({\n              lat: parseFloat(entry.lat),\n              lon: parseFloat(entry.lon),\n              label: entry.display_name,\n              source: API_BASE.includes('localhost') ? 'local-proxy' : 'proxy'\n            }));\n          }\n        }\n      } catch (proxyErr) {\n        console.warn('Local proxy forward geocode failed', proxyErr);\n      }\n    }\n\n    // 4. Direct Nominatim fallback (may still be blocked, but last resort)\n    try {\n      const directResp = await fetchWithCorsFallback(`https://nominatim.openstreetmap.org/search?format=json&addressdetails=1&q=${encodeURIComponent(query)}`, {\n        headers: {\n          'User-Agent': 'room-rental-platform/1.0 (direct fallback)',\n          'Accept': 'application/json'\n        }\n      });\n      if (directResp.ok) {\n        const directData = await directResp.json();\n        if (Array.isArray(directData) && directData.length) {\n          return directData.slice(0, 3).map(entry => ({\n            lat: parseFloat(entry.lat),\n            lon: parseFloat(entry.lon),\n            label: entry.display_name,\n            source: 'direct'\n          }));\n        }\n      }\n    } catch (directErr) {\n      console.warn('Direct nominatim forward geocode failed', directErr);\n    }\n    return [];\n  };\n  const availableAmenities = ['WiFi', 'Parking', 'Kitchen', 'Laundry', 'Air Conditioning', 'Heating', 'TV', 'Furnished', 'Pet Friendly', 'Garden'];\n  const validateField = (name, value) => {\n    const newErrors = {\n      ...errors\n    };\n    switch (name) {\n      case 'title':\n        if (!value || value.trim().length < 5) {\n          newErrors.title = 'Title must be at least 5 characters';\n        } else {\n          delete newErrors.title;\n        }\n        break;\n      case 'price':\n        if (!value || parseFloat(value) <= 0) {\n          newErrors.price = 'Price must be greater than 0';\n        } else if (parseFloat(value) < 500) {\n          newErrors.price = 'Price seems too low (minimum R500)';\n        } else if (parseFloat(value) > 50000) {\n          newErrors.price = 'Price seems too high (maximum R50,000)';\n        } else {\n          delete newErrors.price;\n        }\n        break;\n      case 'location':\n        {\n          var _ref, _extras$streetAddress, _ref2, _extras$location;\n          const streetText = ((_ref = (_extras$streetAddress = extras.streetAddress) !== null && _extras$streetAddress !== void 0 ? _extras$streetAddress : formData.streetAddress) !== null && _ref !== void 0 ? _ref : '').trim();\n          const areaText = ((_ref2 = (_extras$location = extras.location) !== null && _extras$location !== void 0 ? _extras$location : value) !== null && _ref2 !== void 0 ? _ref2 : '').trim();\n          if (!streetText || streetText.length < 3) {\n            newErrors.location = 'Add the street or stand number (e.g., 5170 Molefe St)';\n          } else if (!areaText || areaText.length < 3) {\n            newErrors.location = 'Add the suburb, city, and postal code (e.g., Ivory Park, Midrand, 1693)';\n          } else {\n            delete newErrors.location;\n          }\n          break;\n        }\n      case 'description':\n        if (value && value.length > 500) {\n          newErrors.description = 'Description is too long (max 500 characters)';\n        } else {\n          delete newErrors.description;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n\n  // Load persisted reverse geocode cache\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem('reverse-geocode-cache');\n      if (raw) {\n        const parsed = JSON.parse(raw);\n        if (parsed && typeof parsed === 'object') {\n          reverseGeocodeCacheRef.current = parsed;\n        }\n      }\n    } catch (e) {/* ignore */}\n  }, []);\n\n  // Geocode address using Nominatim (OpenStreetMap)\n  // Use browser geolocation and reverse-geocode to fill address/coords\n  // Helper: format city + province (South Africa) removing verbose municipality suffixes\n  const formatAreaFromAddress = addr => {\n    if (!addr) return '';\n    const cleanMunicipality = val => {\n      if (!val) return '';\n      return val.replace(/ City of /i, '').replace(/ (Metropolitan|Local|District) Municipality$/i, '').trim();\n    };\n\n    // Prioritize suburb/neighborhood first as it's most specific\n    let suburb = addr.suburb || addr.neighbourhood || '';\n    let city = addr.city || addr.town || addr.village || addr.hamlet || '';\n    let municipality = cleanMunicipality(addr.municipality || '');\n    city = cleanMunicipality(city);\n\n    // Use suburb if available, otherwise fall back to city, then municipality\n    let primaryArea = suburb || city || municipality;\n    const province = addr.state || '';\n\n    // Avoid duplication like \"Johannesburg, Johannesburg\"\n    if (province && primaryArea && province.toLowerCase() === primaryArea.toLowerCase()) {\n      return primaryArea;\n    }\n    if (primaryArea && province) return `${primaryArea}, ${province}`;\n    return primaryArea || province || '';\n  };\n  const formatBigDataCloudAddress = data => {\n    var _data$localityInfo, _data$localityInfo2;\n    if (!data) return {\n      streetAddress: '',\n      location: ''\n    };\n    const informative = ((_data$localityInfo = data.localityInfo) === null || _data$localityInfo === void 0 ? void 0 : _data$localityInfo.informative) || [];\n    const admin = ((_data$localityInfo2 = data.localityInfo) === null || _data$localityInfo2 === void 0 ? void 0 : _data$localityInfo2.administrative) || [];\n    const streetCandidate = informative.find(entry => /road|street|route|drive|avenue|lane|close|crescent/i.test(entry.description || entry.name || '')) || informative.find(entry => /residential|locality/i.test(entry.description || ''));\n    const suburbCandidate = admin.find(entry => entry.order === 5) || admin.find(entry => /suburb|township|neighbourhood/i.test(entry.description || ''));\n    const cityCandidate = admin.find(entry => entry.order === 6) || admin.find(entry => /city|town/i.test(entry.description || ''));\n    const streetAddress = (streetCandidate === null || streetCandidate === void 0 ? void 0 : streetCandidate.name) || '';\n    const areaParts = [(suburbCandidate === null || suburbCandidate === void 0 ? void 0 : suburbCandidate.name) || data.locality || data.city || '', data.principalSubdivision || (cityCandidate === null || cityCandidate === void 0 ? void 0 : cityCandidate.name) || ''].filter(Boolean);\n    return {\n      streetAddress,\n      location: areaParts.filter((val, idx, arr) => val && arr.indexOf(val) === idx).join(', ')\n    };\n  };\n\n  // (Cache ref declared earlier in component; duplicate removed)\n\n  const geolocateCurrentPosition = () => {\n    const insecure = typeof window !== 'undefined' && !window.isSecureContext && window.location.hostname !== 'localhost';\n    if (insecure) {\n      setGecodingStatus('Location is blocked on HTTP. Use HTTPS to enable.');\n      setLocationHelpBanner('Your browser requires HTTPS to access GPS on mobile. Use the HTTPS link below.');\n      return;\n    }\n    if (!navigator.geolocation) {\n      setGecodingStatus('Geolocation not supported by your browser');\n      setLocationHelpBanner('Location is disabled. Tap for steps to enable.');\n      return;\n    }\n    setGecodingStatus('Getting your precise location...');\n    navigator.geolocation.getCurrentPosition(async pos => {\n      const lat = pos.coords.latitude;\n      const lon = pos.coords.longitude;\n      const accuracy = pos.coords.accuracy;\n      console.log(`Location obtained: ${lat}, ${lon} (accuracy: ${accuracy}m)`);\n      try {\n        const geocodeResult = await reverseGeocodeCoords(lat, lon);\n        if (geocodeResult) {\n          setFormData(prev => ({\n            ...prev,\n            streetAddress: geocodeResult.streetAddress || prev.streetAddress,\n            location: geocodeResult.location || prev.location,\n            latitude: lat,\n            longitude: lon\n          }));\n          validateField('location', geocodeResult.location || geocodeResult.streetAddress, {\n            location: geocodeResult.location,\n            streetAddress: geocodeResult.streetAddress\n          });\n          setGecodingStatus(` Location set (${accuracy.toFixed(0)}m accuracy)`);\n          setTimeout(() => setGecodingStatus(''), 3000);\n          setLastGeocodeSource(geocodeResult.source || 'manual-geocode');\n          return;\n        }\n      } catch (e) {\n        console.error('Reverse geocode failed', e);\n      }\n\n      // Only use coordinate placeholders if reverse geocoding completely failed\n      setFormData(prev => ({\n        ...prev,\n        latitude: lat,\n        longitude: lon\n      }));\n      setGecodingStatus(` Coordinates captured (${accuracy.toFixed(0)}m accuracy). Add the street or suburb manually while we reconnect to the address service.`);\n      setTimeout(() => setGecodingStatus(''), 3000);\n      setLastGeocodeSource('coords-only');\n    }, err => {\n      console.error('Geolocation error', err);\n      if (err && err.code === 1) {\n        // PERMISSION_DENIED\n        setGecodingStatus('Permission denied. Allow location access to continue.');\n        setLocationHelpBanner('Tap the lock icon in the address bar and set Location to Allow, then refresh.');\n      } else if (err && err.code === 2) {\n        // POSITION_UNAVAILABLE\n        setGecodingStatus('Position unavailable. Check GPS and network, then retry.');\n      } else if (err && err.code === 3) {\n        // TIMEOUT\n        setGecodingStatus('Location timed out. Move to open area or retry.');\n      } else {\n        setGecodingStatus('Could not get your location - ' + ((err === null || err === void 0 ? void 0 : err.message) || 'Unknown error'));\n      }\n      setLocationHelpBanner('Location permission denied. Tap here for steps to enable.');\n      setLastGeocodeSource(null);\n    }, {\n      enableHighAccuracy: true,\n      timeout: 15000,\n      maximumAge: 0\n    });\n  };\n  const geocodeAddress = async () => {\n    if (!formData.streetAddress) {\n      setGecodingStatus('Please enter a street address');\n      return;\n    }\n    setGecodingStatus('Finding coordinates...');\n    try {\n      const fullAddress = `${formData.streetAddress}, ${formData.location}, South Africa`;\n      const results = await forwardGeocodeAddress(fullAddress);\n      if (results.length > 0) {\n        const best = results[0];\n        setFormData({\n          ...formData,\n          latitude: parseFloat(best.lat),\n          longitude: parseFloat(best.lon)\n        });\n        setGecodingStatus(` Address found!`);\n        setTimeout(() => setGecodingStatus(''), 2000);\n        setLastGeocodeSource(best.source || 'manual-geocode');\n        return;\n      }\n      setGecodingStatus('Address not found. Trying with area only...');\n      const areaResults = await forwardGeocodeAddress(`${formData.location}, South Africa`);\n      if (areaResults.length > 0) {\n        const bestArea = areaResults[0];\n        setFormData({\n          ...formData,\n          latitude: parseFloat(bestArea.lat),\n          longitude: parseFloat(bestArea.lon)\n        });\n        setGecodingStatus(' Area found!');\n        setTimeout(() => setGecodingStatus(''), 2000);\n        setLastGeocodeSource(bestArea.source || 'manual-geocode');\n      } else {\n        setGecodingStatus('Could not find location');\n      }\n    } catch (error) {\n      console.error('Geocoding error:', error);\n      setGecodingStatus('Error finding address. Check your connection.');\n      setLastGeocodeSource(null);\n    }\n  };\n  const toggleAmenity = amenity => {\n    if (formData.amenities.includes(amenity)) {\n      setFormData({\n        ...formData,\n        amenities: formData.amenities.filter(a => a !== amenity)\n      });\n    } else {\n      setFormData({\n        ...formData,\n        amenities: [...formData.amenities, amenity]\n      });\n    }\n  };\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const handleSubmit = async () => {\n    // Enforce auth and onboarding checks before allowing submission\n    if (!currentUser) {\n      onRequireAuth && onRequireAuth('landlord');\n      return;\n    }\n    if (userType !== 'landlord') {\n      // prompt to become landlord\n      onRequireAuth && onRequireAuth('landlord');\n      return;\n    }\n    if (!currentUser.landlordComplete) {\n      // send to onboarding\n      onRequireOnboarding && onRequireOnboarding();\n      return;\n    }\n\n    // Validate all fields\n    validateField('title', formData.title);\n    validateField('price', formData.price);\n    validateField('location', formData.location, {\n      location: formData.location,\n      streetAddress: formData.streetAddress\n    });\n    validateField('description', formData.description);\n    if (!formData.title || formData.title.trim().length < 5) {\n      setErrors(prev => ({\n        ...prev,\n        title: 'Title must be at least 5 characters'\n      }));\n      return;\n    }\n    if (!formData.price || parseFloat(formData.price) <= 0) {\n      setErrors(prev => ({\n        ...prev,\n        price: 'Price must be greater than 0'\n      }));\n      return;\n    }\n    if (!formData.location || formData.location.trim().length < 3) {\n      setErrors(prev => ({\n        ...prev,\n        location: 'Location is required'\n      }));\n      return;\n    }\n    if (Object.keys(errors).length > 0) {\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      await onSubmit(formData);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Auto-attempt geolocation shortly after mount for landlord convenience\n  useEffect(() => {\n    const shouldAttempt = !formData.latitude && !formData.longitude;\n    if (shouldAttempt) {\n      const t = setTimeout(() => {\n        console.log('Auto-triggering current location detection...');\n        geolocateCurrentPosition();\n      }, 500); // Faster trigger\n      return () => clearTimeout(t);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData.latitude, formData.longitude]);\n  const googleMapsQuery = [formData.streetAddress, formData.location, 'South Africa'].filter(Boolean).join(', ');\n  const googleMapsUrl = googleMapsQuery ? `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(googleMapsQuery)}` : '';\n  const combinedFormAddress = [formData.streetAddress, formData.location].map(part => (part || '').trim()).filter(Boolean).join(', ');\n  useEffect(() => {\n    if (isFullAddressEditing) return;\n    setFullAddressInput(prev => prev === combinedFormAddress ? prev : combinedFormAddress);\n  }, [combinedFormAddress, isFullAddressEditing]);\n  const handleFullAddressChange = value => {\n    setFullAddressInput(value);\n    if (!value || value.length < 3) {\n      setFormData(prev => ({\n        ...prev,\n        streetAddress: '',\n        location: ''\n      }));\n      validateField('location', '');\n      return;\n    }\n    const parts = value.split(',').map(part => part.trim()).filter(Boolean);\n    if (parts.length === 0) {\n      setFormData(prev => ({\n        ...prev,\n        streetAddress: '',\n        location: ''\n      }));\n      validateField('location', '');\n      return;\n    }\n    let street = parts[0] || '';\n    let derivedLocation = parts.slice(1).join(', ');\n    if (!derivedLocation) {\n      const words = street.split(/\\s+/).filter(Boolean);\n      if (words.length >= 4) {\n        // Guess that the last few tokens describe the suburb/city/postal portion.\n        const locationWordCount = Math.min(4, Math.ceil(words.length / 2));\n        derivedLocation = words.slice(-locationWordCount).join(' ');\n        street = words.slice(0, words.length - locationWordCount).join(' ');\n      } else {\n        derivedLocation = street;\n      }\n    }\n    setFormData(prev => ({\n      ...prev,\n      streetAddress: street,\n      location: derivedLocation\n    }));\n    validateField('location', derivedLocation || street, {\n      location: derivedLocation,\n      streetAddress: street\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 bg-gray-50 min-h-screen pb-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl mx-auto mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-bold text-gray-800\",\n            children: \"Post a Room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onCancel,\n            className: \"text-gray-400 hover:text-gray-600 transition\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2122,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2121,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: [\"Room Title *\", formData.title && formData.title.trim().length >= 5 && !errors.title && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2 text-green-600 text-xs\",\n                children: \"\\u2713 Looks good\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2132,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2129,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                required: true,\n                value: formData.title,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    title: e.target.value\n                  });\n                  validateField('title', e.target.value);\n                },\n                onBlur: e => validateField('title', e.target.value),\n                placeholder: \"e.g., Cozy backroom with private bathroom\",\n                className: `w-full px-4 py-3 pr-10 border ${errors.title ? 'border-red-500 bg-red-50' : formData.title && formData.title.trim().length >= 5 ? 'border-green-500 bg-green-50' : 'border-gray-300'} text-gray-800 rounded-lg focus:ring-2 ${errors.title ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition-all placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2136,\n                columnNumber: 17\n              }, this), formData.title && formData.title.trim().length >= 5 && !errors.title && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-green-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2155,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2135,\n              columnNumber: 15\n            }, this), errors.title && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-1 flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u26A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2158,\n                columnNumber: 97\n              }, this), \" \", errors.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2158,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: [\"Monthly Price (R) *\", formData.price && parseFloat(formData.price) >= 500 && parseFloat(formData.price) <= 50000 && !errors.price && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2 text-green-600 text-xs\",\n                children: \"\\u2713 Valid price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2166,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium\",\n                children: \"R\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2170,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                required: true,\n                value: formData.price,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    price: e.target.value\n                  });\n                  validateField('price', e.target.value);\n                },\n                onBlur: e => validateField('price', e.target.value),\n                placeholder: \"2500\",\n                min: \"500\",\n                max: \"50000\",\n                className: `w-full pl-10 pr-4 py-3 border ${errors.price ? 'border-red-500 bg-red-50' : formData.price && parseFloat(formData.price) >= 500 && parseFloat(formData.price) <= 50000 ? 'border-green-500 bg-green-50' : 'border-gray-300'} text-gray-800 rounded-lg focus:ring-2 ${errors.price ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition-all placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2171,\n                columnNumber: 17\n              }, this), formData.price && parseFloat(formData.price) >= 500 && parseFloat(formData.price) <= 50000 && !errors.price && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-green-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2192,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2169,\n              columnNumber: 15\n            }, this), errors.price && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-1 flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u26A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2195,\n                columnNumber: 97\n              }, this), \" \", errors.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2195,\n              columnNumber: 32\n            }, this), !errors.price && formData.price && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-xs mt-1\",\n              children: \"Suggested range: R500 - R50,000 per month\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2197,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-1\",\n              children: \"Full South African Address *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mb-2\",\n              children: \"Example: 5170 Molefe St, Ivory Park, Midrand, 1693\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              required: true,\n              rows: \"2\",\n              value: fullAddressInput,\n              onChange: e => handleFullAddressChange(e.target.value),\n              onFocus: () => setIsFullAddressEditing(true),\n              onBlur: e => {\n                setIsFullAddressEditing(false);\n                handleFullAddressChange(e.target.value);\n              },\n              placeholder: \"Type the full street + suburb + city + postal code\",\n              className: `w-full px-4 py-3 border ${errors.location ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.location ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2205,\n              columnNumber: 15\n            }, this), errors.location && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-1\",\n              \"aria-live\": \"assertive\",\n              children: errors.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2215,\n              columnNumber: 35\n            }, this), !errors.location && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-xs mt-1\",\n              children: \"Include the street/stand number plus suburb, city, and postal code. Commas are optional; we will split it for you.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2217,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-300 rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start gap-3 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                className: \"w-6 h-6 text-blue-600 flex-shrink-0 mt-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2226,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-1\",\n                  children: \"Set Your Precise Location\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2228,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"For best accuracy, use your current GPS location. The exact address will be automatically detected.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2229,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2227,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2225,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-3 items-center mb-4\",\n              children: [locationHelpBanner && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full bg-yellow-50 border-2 border-yellow-200 text-yellow-800 rounded-lg p-3 text-sm flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u26A0\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2236,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [locationHelpBanner, /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"ml-2 underline font-semibold\",\n                    onClick: () => window.alert('To enable location: 1) Tap the lock icon in the address bar. 2) Find Location permission. 3) Set to Allow. Then refresh the page.'),\n                    children: \"How to enable\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2239,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2237,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2235,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full flex items-start gap-2 text-xs text-blue-800 bg-white border border-blue-300 rounded p-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-lg\",\n                  children: \"\\uD83D\\uDCA1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2248,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Recommended:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2249,\n                    columnNumber: 25\n                  }, this), \" Click \\\"Use Current Location\\\" for GPS accuracy (within meters). You can still fine-tune the street or suburb manually if needed.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2249,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2247,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: geolocateCurrentPosition,\n                className: \"w-full md:w-auto bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-8 py-3 rounded-lg font-bold transition shadow-md flex items-center justify-center gap-2 text-base\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2258,\n                  columnNumber: 19\n                }, this), \"Use Current Location (Recommended)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2253,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: geocodeAddress,\n                className: \"w-full md:w-auto bg-white hover:bg-gray-50 text-gray-700 border-2 border-gray-300 px-6 py-3 rounded-lg text-sm font-semibold transition flex items-center justify-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2268,\n                  columnNumber: 19\n                }, this), \"Look Up Address\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2263,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm flex-1\",\n                children: [geocodingStatus && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `${geocodingStatus.startsWith('') ? 'text-green-600 font-semibold' : geocodingStatus.startsWith('') ? 'text-blue-600' : geocodingStatus.startsWith('') ? 'text-amber-600' : 'text-gray-700'} flex items-center gap-1`,\n                  children: [geocodingStatus.startsWith('') && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2275,\n                    columnNumber: 59\n                  }, this), geocodingStatus, lastGeocodeSource === 'cached' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-purple-100 text-purple-600 font-semibold\",\n                    children: \"CACHED\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2278,\n                    columnNumber: 25\n                  }, this), lastGeocodeSource === 'mapbox' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-blue-100 text-blue-600 font-semibold\",\n                    children: \"MAPBOX\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2281,\n                    columnNumber: 25\n                  }, this), lastGeocodeSource === 'maps.co' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-indigo-100 text-indigo-600 font-semibold\",\n                    children: \"MAPS.CO\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2284,\n                    columnNumber: 25\n                  }, this), lastGeocodeSource === 'proxy' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-green-100 text-green-600 font-semibold\",\n                    children: \"PROXY\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2287,\n                    columnNumber: 25\n                  }, this), lastGeocodeSource === 'direct' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-yellow-100 text-yellow-700 font-semibold\",\n                    children: \"FALLBACK\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2290,\n                    columnNumber: 25\n                  }, this), lastGeocodeSource === 'coords-only' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-red-100 text-red-600 font-semibold\",\n                    children: \"COORDS ONLY\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2293,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2274,\n                  columnNumber: 21\n                }, this), formData.latitude && formData.longitude && !geocodingStatus && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-600 font-semibold flex items-center gap-1\",\n                  children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2299,\n                    columnNumber: 23\n                  }, this), \"Location set: \", formData.latitude.toFixed(4), \", \", formData.longitude.toFixed(4), lastGeocodeSource === 'cached' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-purple-100 text-purple-600 font-semibold\",\n                    children: \"CACHED\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2302,\n                    columnNumber: 25\n                  }, this), lastGeocodeSource === 'maps.co' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-indigo-100 text-indigo-600 font-semibold\",\n                    children: \"MAPS.CO\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2305,\n                    columnNumber: 25\n                  }, this), lastGeocodeSource === 'coords-only' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-red-100 text-red-600 font-semibold\",\n                    children: \"COORDS ONLY\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2308,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2298,\n                  columnNumber: 21\n                }, this), lastGeocodeSource === 'coords-only' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: geolocateCurrentPosition,\n                  className: \"mt-2 text-xs font-semibold underline text-blue-700\",\n                  children: \"Retry address lookup\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2313,\n                  columnNumber: 21\n                }, this), googleMapsUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3 bg-white border border-gray-200 rounded-lg p-3 text-xs text-gray-600\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"block text-gray-800 font-semibold mb-1\",\n                    children: \"Preview this address\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2321,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: googleMapsUrl,\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\",\n                    className: \"inline-flex items-center gap-2 text-teal-700 font-semibold hover:text-teal-900 underline\",\n                    children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                      className: \"w-3 h-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2328,\n                      columnNumber: 25\n                    }, this), \" Open in Google Maps\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2322,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"block mt-2 text-[11px] text-gray-500\",\n                    children: \"Renters will see the same button under your listing.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2330,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2320,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2272,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 text-sm text-gray-600 bg-white border border-dashed border-gray-300 rounded-lg p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800 mb-1\",\n                children: \"Manual address confirmed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2336,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Type the exact street above or tap \\\"Use Current Location\\\". We capture the text you enter and let renters jump out to Google Maps for directions.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2337,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2335,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2344,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: formData.status,\n                onChange: e => setFormData({\n                  ...formData,\n                  status: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"available\",\n                  children: \"Available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2350,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"rented\",\n                  children: \"Rented\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2351,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2345,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2343,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Available Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2356,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: formData.availableDate,\n                onChange: e => setFormData({\n                  ...formData,\n                  availableDate: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2357,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2355,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2342,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Payment Method\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2368,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: formData.paymentMethod,\n              onChange: e => setFormData({\n                ...formData,\n                paymentMethod: e.target.value\n              }),\n              className: \"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Bank and Cash\",\n                children: \"Bank and Cash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2374,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Cash Only\",\n                children: \"Cash Only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2375,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Bank Only\",\n                children: \"Bank Only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2376,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2369,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2367,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Room Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2383,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: formData.roomType,\n                onChange: e => setFormData({\n                  ...formData,\n                  roomType: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"private\",\n                  children: \"Private Room\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2389,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"shared\",\n                  children: \"Shared Room\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2390,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2384,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2382,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Lease Duration (months)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2395,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: formData.leaseDuration,\n                onChange: e => setFormData({\n                  ...formData,\n                  leaseDuration: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"1-3\",\n                  children: \"1-3 months\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2401,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"4-6\",\n                  children: \"4-6 months\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2402,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"7-12\",\n                  children: \"7-12 months\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2403,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"12+\",\n                  children: \"12+ months\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2404,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2396,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2394,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2381,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: formData.petFriendly,\n                onChange: e => setFormData({\n                  ...formData,\n                  petFriendly: e.target.checked\n                }),\n                id: \"petFriendly\",\n                className: \"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2412,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"petFriendly\",\n                className: \"text-sm font-medium text-gray-700\",\n                children: \"\\uD83D\\uDC3E Pet Friendly\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2419,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2411,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Gender Preference\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2425,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: formData.genderPreference,\n                onChange: e => setFormData({\n                  ...formData,\n                  genderPreference: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"any\",\n                  children: \"Any\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2431,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"male\",\n                  children: \"Male Only\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2432,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"female\",\n                  children: \"Female Only\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2433,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2426,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2424,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2410,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: !!formData.premium,\n              onChange: e => setFormData({\n                ...formData,\n                premium: e.target.checked\n              }),\n              id: \"premiumFlag\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2440,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"premiumFlag\",\n              className: \"text-sm font-medium text-gray-700\",\n              children: \"Premium listing (highlight & priority sorting)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2446,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2439,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: [\"Description\", formData.description && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `ml-2 text-xs ${formData.description.length > 500 ? 'text-red-500' : 'text-gray-500'}`,\n                children: [\"(\", formData.description.length, \"/500 characters)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2456,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2453,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: formData.description,\n              onChange: e => {\n                setFormData({\n                  ...formData,\n                  description: e.target.value\n                });\n                validateField('description', e.target.value);\n              },\n              onBlur: e => validateField('description', e.target.value),\n              placeholder: \"Describe the room, amenities, rules, and any other details...\",\n              rows: \"4\",\n              className: `w-full px-4 py-3 border ${errors.description ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.description ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2461,\n              columnNumber: 15\n            }, this), errors.description && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-1\",\n              children: errors.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2472,\n              columnNumber: 38\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-3\",\n              children: \"Amenities\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2477,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-3 gap-2\",\n              children: availableAmenities.map(amenity => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => toggleAmenity(amenity),\n                className: `px-4 py-2 rounded-lg text-sm font-medium transition ${formData.amenities.includes(amenity) ? 'bg-blue-600 text-white shadow-sm' : 'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'}`,\n                children: amenity\n              }, amenity, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2480,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2478,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2476,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Photos (Max 5)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2498,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setShowPhotoEditor(true),\n                className: \"flex-1 px-4 py-3 border-2 border-dashed border-gray-300 bg-gray-50 text-gray-700 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition font-medium\",\n                children: formData.photos.length === 0 ? ' Add Photos' : ` Edit Photos (${formData.photos.length}/5)`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2500,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2499,\n              columnNumber: 15\n            }, this), formData.photos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 grid grid-cols-2 md:grid-cols-3 gap-3\",\n              children: formData.photos.map((photo, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative group\",\n                children: [index === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute top-2 left-2 bg-blue-600 text-white text-xs px-2 py-1 rounded-full font-semibold z-10\",\n                  children: \"Cover\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2513,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: photo,\n                  alt: `Preview ${index + 1}`,\n                  className: \"w-full h-32 object-cover rounded-lg border border-gray-200 shadow-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2517,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2511,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2509,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2497,\n            columnNumber: 13\n          }, this), showPhotoEditor && /*#__PURE__*/_jsxDEV(PhotoEditor, {\n            photos: formData.photos,\n            onPhotosChange: newPhotos => setFormData({\n              ...formData,\n              photos: newPhotos\n            }),\n            onClose: () => setShowPhotoEditor(false),\n            maxPhotos: 5\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2529,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t border-gray-200 pt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubmit,\n              disabled: isSubmitting || Object.keys(errors).length > 0,\n              className: `w-full font-semibold py-3 rounded-lg transition shadow-sm relative ${isSubmitting || Object.keys(errors).length > 0 ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700 text-white'}`,\n              children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"opacity-0\",\n                  children: \"Post Room\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2550,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute inset-0 flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2552,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2551,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true) : 'Post Room'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2539,\n              columnNumber: 15\n            }, this), Object.keys(errors).length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-2 text-center\",\n              children: \"Please fix the errors above before submitting\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2560,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2538,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2118,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2117,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2116,\n    columnNumber: 5\n  }, this);\n}\n\n// MessagesView removed - using direct contact instead\n_s7(AddListingView, \"7S3d0J1mSQ+wToizUgA3gBc7bzw=\");\n_c7 = AddListingView;\nfunction MyListingsView({\n  listings,\n  onDelete\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4 text-gray-800\",\n      children: \"My Listings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2575,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: listings.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-br from-blue-50 to-teal-50 rounded-xl shadow-sm p-12 text-center border border-blue-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 shadow-md\",\n          children: /*#__PURE__*/_jsxDEV(Home, {\n            className: \"w-12 h-12 text-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2580,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2579,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-gray-800 mb-2\",\n          children: \"No Listings Yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2582,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6 max-w-md mx-auto\",\n          children: \"Start earning by posting your first room. It only takes a few minutes!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2583,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.hash = '#add',\n          className: \"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-lg transition shadow-md hover:shadow-lg\",\n          children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2590,\n            columnNumber: 15\n          }, this), \"Post Your First Room\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2586,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2578,\n        columnNumber: 11\n      }, this) : listings.map(listing => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-4\",\n        children: [listing.photos && listing.photos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: listing.photos[0],\n            alt: \"Room\",\n            className: \"w-full h-32 object-cover rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2599,\n            columnNumber: 5\n          }, this), listing.photos.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-2 right-2 bg-black bg-opacity-60 text-white px-2 py-1 rounded text-xs\",\n            children: [listing.photos.length, \" photos\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2601,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2598,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold text-lg mb-1\",\n          children: listing.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2607,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-blue-600 font-bold mb-2\",\n          children: [\"R\", listing.price, \"/month\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2608,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center text-gray-600 text-sm mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            className: \"w-4 h-4 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2610,\n            columnNumber: 17\n          }, this), listing.location]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2609,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onDelete(listing.id),\n          className: \"w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg transition\",\n          children: \"Delete Listing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2613,\n          columnNumber: 15\n        }, this)]\n      }, listing.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2596,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2576,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2574,\n    columnNumber: 5\n  }, this);\n}\n\n// Inline message box component with validation for listing detail view\n// ListingInlineMessageBox removed\n\n// ConversationModal removed\n_c8 = MyListingsView;\nfunction AuthModal({\n  defaultType = 'renter',\n  onClose,\n  onSubmit\n}) {\n  _s8();\n  const [form, setForm] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    type: defaultType,\n    photo: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const validateForm = () => {\n    const newErrors = {};\n    if (!form.name || form.name.trim().length < 2) {\n      newErrors.name = 'Name must be at least 2 characters';\n    }\n    if (!form.email || !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.email)) {\n      newErrors.email = 'Please enter a valid email address';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = async () => {\n    if (!validateForm()) return;\n    setIsSubmitting(true);\n    try {\n      await onSubmit(form);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-start sm:items-center justify-center p-4 pt-16 sm:pt-4 z-50 overflow-y-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl w-full max-w-md p-6 my-auto shadow-2xl fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold text-gray-800\",\n            children: \"Welcome to Room24\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2666,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-1\",\n            children: \"Sign in or create an account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2667,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2665,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2673,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2669,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2664,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-1.5\",\n            children: \"Full name *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2680,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: form.name,\n            onChange: e => {\n              setForm({\n                ...form,\n                name: e.target.value\n              });\n              setErrors({\n                ...errors,\n                name: ''\n              });\n            },\n            className: `w-full px-4 py-2.5 border-2 rounded-lg transition-all focus:ring-2 focus:ring-blue-100 focus:border-blue-500 ${errors.name ? 'border-red-400 bg-red-50' : 'border-gray-200 hover:border-gray-300'}`,\n            placeholder: \"John Doe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2681,\n            columnNumber: 13\n          }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500 text-xs mt-1\",\n            children: errors.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2690,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2679,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-1.5\",\n            children: \"Email *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2695,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: form.email,\n            onChange: e => {\n              setForm({\n                ...form,\n                email: e.target.value\n              });\n              setErrors({\n                ...errors,\n                email: ''\n              });\n            },\n            className: `w-full px-4 py-2.5 border-2 rounded-lg transition-all focus:ring-2 focus:ring-blue-100 focus:border-blue-500 ${errors.email ? 'border-red-400 bg-red-50' : 'border-gray-200 hover:border-gray-300'}`,\n            placeholder: \"john@example.com\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2696,\n            columnNumber: 13\n          }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500 text-xs mt-1\",\n            children: errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2705,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2694,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-1.5\",\n            children: [\"Phone \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-400 font-normal\",\n              children: \"(optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2711,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2710,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            value: form.phone,\n            onChange: e => setForm({\n              ...form,\n              phone: e.target.value\n            }),\n            className: \"w-full px-4 py-2.5 border-2 border-gray-200 hover:border-gray-300 rounded-lg transition-all focus:ring-2 focus:ring-blue-100 focus:border-blue-500\",\n            placeholder: \"+27 12 345 6789\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2713,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2709,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-1.5\",\n            children: \"I am a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2724,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setForm({\n                ...form,\n                type: 'renter'\n              }),\n              className: `p-3 rounded-lg border-2 transition-all flex flex-col items-center gap-1 ${form.type === 'renter' ? 'border-blue-500 bg-blue-50 text-blue-700' : 'border-gray-200 hover:border-gray-300 text-gray-600'}`,\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2735,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium\",\n                children: \"Looking for a room\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2736,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2726,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setForm({\n                ...form,\n                type: 'landlord'\n              }),\n              className: `p-3 rounded-lg border-2 transition-all flex flex-col items-center gap-1 ${form.type === 'landlord' ? 'border-blue-500 bg-blue-50 text-blue-700' : 'border-gray-200 hover:border-gray-300 text-gray-600'}`,\n              children: [/*#__PURE__*/_jsxDEV(Home, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2747,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium\",\n                children: \"Listing rooms\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2748,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2738,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2725,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2723,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-3 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2.5 rounded-lg transition\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2755,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            disabled: isSubmitting,\n            className: `flex-1 font-semibold py-2.5 rounded-lg transition-all relative ${isSubmitting ? 'bg-blue-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700 text-white hover:shadow-lg'}`,\n            children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"opacity-0\",\n                children: \"Continue\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2770,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2772,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2771,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : 'Continue'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2761,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2754,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2677,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-400 text-center mt-6\",\n        children: \"By continuing, you agree to our Terms of Service and Privacy Policy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2783,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2662,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2661,\n    columnNumber: 5\n  }, this);\n}\n_s8(AuthModal, \"DvbetMJaYzY1yjcZ/1VS/wCO7Dc=\");\n_c9 = AuthModal;\nfunction LocationConsentModal({\n  onAccept,\n  onDecline\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg max-w-md w-full p-6 shadow-xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(MapPin, {\n          className: \"w-8 h-8 text-blue-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2796,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-gray-800\",\n          children: \"Location Access\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2797,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2795,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-4\",\n        children: \"Room24 would like to access your location to show nearby rental listings. Your location data:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2800,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"text-sm text-gray-600 mb-6 space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-start gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-600 mt-0.5\",\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2806,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Is only used to calculate distances to listings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2807,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2805,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-start gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-600 mt-0.5\",\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2810,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Is not stored on our servers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2811,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2809,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-start gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-600 mt-0.5\",\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2814,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Is not shared with third parties\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2815,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2813,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2804,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onDecline,\n          className: \"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 rounded-lg transition\",\n          children: \"Not Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2820,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onAccept,\n          className: \"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition\",\n          children: \"Allow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2826,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2819,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mt-4 text-center\",\n        children: \"You can change this permission anytime in your browser settings.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2834,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2794,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2793,\n    columnNumber: 5\n  }, this);\n}\n_c0 = LocationConsentModal;\nfunction BottomNav({\n  currentView,\n  setCurrentView,\n  userType\n}) {\n  const navItems = [{\n    id: 'browse',\n    label: 'Browse',\n    icon: /*#__PURE__*/_jsxDEV(Search, {\n      className: \"w-5 h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2844,\n      columnNumber: 44\n    }, this)\n  }, {\n    id: 'add',\n    label: 'List Room',\n    icon: /*#__PURE__*/_jsxDEV(PlusCircle, {\n      className: \"w-5 h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2845,\n      columnNumber: 44\n    }, this),\n    requiresLandlord: true\n  }, {\n    id: 'my-rooms',\n    label: 'My Rooms',\n    icon: /*#__PURE__*/_jsxDEV(Home, {\n      className: \"w-5 h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2846,\n      columnNumber: 48\n    }, this)\n  }, {\n    id: 'profile',\n    label: 'Profile',\n    icon: /*#__PURE__*/_jsxDEV(User, {\n      className: \"w-5 h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2847,\n      columnNumber: 46\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 z-20 md:hidden\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-4 gap-2\",\n      children: navItems.map(item => {\n        const disabled = item.requiresLandlord && userType !== 'landlord';\n        const isActive = currentView === item.id;\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          disabled: disabled,\n          onClick: () => !disabled && setCurrentView(item.id),\n          className: `flex flex-col items-center gap-1 py-1.5 rounded-xl transition-all ${disabled ? 'opacity-40 cursor-not-allowed' : 'hover:text-blue-600'} ${isActive ? 'text-blue-600 font-semibold bg-blue-50' : 'text-gray-500'}`,\n          children: [item.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs\",\n            children: item.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2865,\n            columnNumber: 15\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2857,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2852,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2851,\n    columnNumber: 5\n  }, this);\n}\n_c1 = BottomNav;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1;\n$RefreshReg$(_c, \"RentalPlatform\");\n$RefreshReg$(_c2, \"ProfileSetupView\");\n$RefreshReg$(_c3, \"ProfileView\");\n$RefreshReg$(_c4, \"LandlordOnboardingView\");\n$RefreshReg$(_c5, \"EditProfileView\");\n$RefreshReg$(_c6, \"FavoritesView\");\n$RefreshReg$(_c7, \"AddListingView\");\n$RefreshReg$(_c8, \"MyListingsView\");\n$RefreshReg$(_c9, \"AuthModal\");\n$RefreshReg$(_c0, \"LocationConsentModal\");\n$RefreshReg$(_c1, \"BottomNav\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","initFirebase","initAnalytics","requestFcmToken","listenForegroundMessages","trackEvent","Home","PlusCircle","Search","MapPin","X","User","Phone","Mail","Edit","CheckCircle","Heart","Header","ListingDetailModal","Footer","BrowseView","PrivacyPolicyModal","NotificationBanner","AnalyticsConsentModal","NotificationsPanel","PhotoEditor","getNotifications","jsxDEV","_jsxDEV","Fragment","_Fragment","RentalPlatform","_s","currentView","setCurrentView","userType","setUserType","previewAsRenter","setPreviewAsRenter","listings","setListings","selectedListing","setSelectedListing","users","setUsers","searchLocation","setSearchLocation","priceRange","setPriceRange","selectedAmenities","setSelectedAmenities","sortBy","setSortBy","currentUser","setCurrentUser","showAuthModal","setShowAuthModal","authDefaultType","setAuthDefaultType","nearbyMode","setNearbyMode","nearbyRadius","setNearbyRadius","userLocation","setUserLocation","nearbyStatus","setNearbyStatus","showLocationConsent","setShowLocationConsent","toast","setToast","showPrivacyPolicy","setShowPrivacyPolicy","notificationBanner","setNotificationBanner","showAnalyticsConsent","setShowAnalyticsConsent","showNotificationsPanel","setShowNotificationsPanel","unreadCount","setUnreadCount","openAuthModal","type","updateUnreadCount","notifications","filter","n","read","length","interval","setInterval","clearInterval","loadData","app","analyticsConsent","localStorage","getItem","process","env","REACT_APP_ENABLE_ANALYTICS","setTimeout","token","console","log","e","warn","payload","notification","title","body","landlordComplete","listingsResult","userResult","usersResult","JSON","parse","user","parsed","Array","isArray","error","sampleListings","id","price","location","description","photos","status","availableDate","Date","toISOString","amenities","landlordId","landlordName","landlordPhone","landlordEmail","landlordPhoto","createdAt","isDuplicateContact","phone","email","ignoreId","normalizedPhone","trim","normalizedEmail","toLowerCase","some","u","uPhone","uEmail","phoneMatch","emailMatch","haversineDistance","lat1","lon1","lat2","lon2","toRad","v","Math","PI","R","dLat","dLon","a","sin","cos","c","atan2","sqrt","handleFindNearby","navigator","geolocation","handleLocationConsentAccept","getCurrentPosition","pos","lat","coords","latitude","lon","longitude","err","enableHighAccuracy","timeout","clearNearby","showToast","message","handleAnalyticsConsentAccept","setItem","handleAnalyticsConsentDecline","saveListings","newListings","stringify","serviceWorker","controller","postMessage","saveSubscriptions","subscriptions","getSubscriptions","res","subscribeToArea","userId","area","alert","subs","includes","push","handleProfileSetup","profileData","now","whatsapp","notificationPrefs","updates","marketing","existingUsersRaw","existingUsers","handleUpdateProfile","updatedUser","idx","findIndex","handleQuickAuth","name","photo","handleSignOut","removeItem","handleCompleteOnboarding","onboardData","updated","landlordInfo","handleAddListing","listingData","_listingData$latitude","_listingData$longitud","newListing","paymentMethod","premium","updatedListings","window","scrollTo","top","behavior","filteredListings","map","listing","d","__distanceKm","matchesLocation","parseFloat","matchesPrice","matchesAmenities","every","amenity","_listing$amenities","passesNearby","_listing$__distanceKm","sort","b","_a$__distanceKm","_b$__distanceKm","da","Infinity","db","className","children","onOpenNotifications","fileName","_jsxFileName","lineNumber","columnNumber","role","onClose","onClick","ProfileSetupView","onSubmit","ProfileView","onEdit","onUpdatePrefs","prefs","raw","arr","EditProfileView","onCancel","LandlordOnboardingView","onComplete","onSelectListing","onRequireAuth","onFindNearby","previewMode","AddListingView","onRequireOnboarding","MyListingsView","l","onDelete","FavoritesView","landlord","AuthModal","defaultType","BottomNav","LocationConsentModal","onAccept","onDecline","listingId","find","onOpenPrivacy","_c","_s2","formData","setFormData","errors","setErrors","touched","setTouched","validateField","value","extras","newErrors","test","handlePhotoUpload","file","target","files","size","reader","FileReader","onloadend","result","readAsDataURL","handleSubmit","allTouched","Object","keys","src","alt","accept","onChange","required","onBlur","placeholder","undefined","_c2","_s3","localPrefs","setLocalPrefs","togglePref","key","next","toLocaleDateString","checked","_c3","_s4","form","setForm","businessName","bankDetails","idNumber","agree","charAt","preventDefault","_c4","_s5","_c5","_s6","favorites","setFavorites","rawFavorites","toggleFavorite","prev","favoriteListings","ListingCard","require","default","isFavorite","onToggleFavorite","_c6","_s7","GEOCODER_KEY","REACT_APP_GEOCODER_API_KEY","GEOCODER_PROVIDER","REACT_APP_GEOCODER_PROVIDER","streetAddress","split","roomType","leaseDuration","petFriendly","genderPreference","geocodingStatus","setGecodingStatus","locationHelpBanner","setLocationHelpBanner","showPhotoEditor","setShowPhotoEditor","reverseGeocodeCacheRef","useRef","lastGeocodeSource","setLastGeocodeSource","fullAddressInput","setFullAddressInput","isFullAddressEditing","setIsFullAddressEditing","corsFallbackTransforms","url","startsWith","encodeURIComponent","fetchWithCorsFallback","options","cloneOptions","base","headers","attempt","targetUrl","resp","fetch","ok","Error","_options$signal","signal","aborted","lastError","transform","proxiedUrl","proxyErr","_options$signal2","reverseGeocodeCoords","cacheKey","toFixed","cached","current","source","_revData","_revData$features","rev","revData","json","features","feature","address","streetName","text","fullStreet","context","place","locality","region","baseArea","province","replace","ts","mapsCoResp","mapsCoData","addr","houseNumber","house_number","road","street","suburb","neighbourhood","Boolean","join","formatAreaFromAddress","mapsCoErr","bdcResp","bdcData","formatted","formatBigDataCloudAddress","bdcErr","API_BASE","REACT_APP_PROXY_BASE","port","direct","directErr","forwardGeocodeAddress","query","_data$features","data","f","_f$geometry","_f$geometry$coordinat","_f$geometry2","_f$geometry2$coordina","center","geometry","coordinates","label","place_name","entry","mapsResp","mapsData","slice","display_name","mapsErr","proxyResp","proxyData","directResp","directData","availableAmenities","_ref","_extras$streetAddress","_ref2","_extras$location","streetText","areaText","cleanMunicipality","val","city","town","village","hamlet","municipality","primaryArea","state","_data$localityInfo","_data$localityInfo2","informative","localityInfo","admin","administrative","streetCandidate","suburbCandidate","order","cityCandidate","areaParts","principalSubdivision","indexOf","geolocateCurrentPosition","insecure","isSecureContext","hostname","accuracy","geocodeResult","code","maximumAge","geocodeAddress","fullAddress","results","best","areaResults","bestArea","toggleAmenity","isSubmitting","setIsSubmitting","shouldAttempt","t","clearTimeout","googleMapsQuery","googleMapsUrl","combinedFormAddress","part","handleFullAddressChange","parts","derivedLocation","words","locationWordCount","min","ceil","max","rows","onFocus","href","rel","htmlFor","index","onPhotosChange","newPhotos","maxPhotos","disabled","_c7","hash","_c8","_s8","validateForm","_c9","_c0","navItems","icon","requiresLandlord","item","isActive","_c1","$RefreshReg$"],"sources":["C:/Users/kutum/Documents/room-rental-platform/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { initFirebase, initAnalytics, requestFcmToken, listenForegroundMessages, trackEvent } from './firebase';\nimport { Home, PlusCircle, Search, MapPin, X, User, Phone, Mail, Edit, CheckCircle, Heart } from 'lucide-react';\nimport Header from './components/Header';\nimport ListingDetailModal from './components/ListingDetailModal';\nimport Footer from './components/Footer';\nimport BrowseView from './components/BrowseView';\nimport PrivacyPolicyModal from './components/PrivacyPolicyModal';\nimport NotificationBanner from './components/NotificationBanner';\nimport AnalyticsConsentModal from './components/AnalyticsConsentModal';\nimport NotificationsPanel from './components/NotificationsPanel';\nimport PhotoEditor from './components/PhotoEditor';\nimport { getNotifications } from './utils/notificationEngine';\n\nexport default function RentalPlatform() {\n  const [currentView, setCurrentView] = useState('browse');\n  const [userType, setUserType] = useState(null);\n  const [previewAsRenter, setPreviewAsRenter] = useState(false); // landlord UI preview toggle\n  const [listings, setListings] = useState([]);\n  const [selectedListing, setSelectedListing] = useState(null);\n  const [users, setUsers] = useState([]); // registry of all users (localStorage 'users')\n  const [searchLocation, setSearchLocation] = useState('');\n  const [priceRange, setPriceRange] = useState([0, 10000]);\n  const [selectedAmenities, setSelectedAmenities] = useState([]);\n  const [sortBy, setSortBy] = useState('newest');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [showAuthModal, setShowAuthModal] = useState(false);\n  const [authDefaultType, setAuthDefaultType] = useState('renter');\n  const [nearbyMode, setNearbyMode] = useState(false);\n  const [nearbyRadius, setNearbyRadius] = useState(5); // km\n  const [userLocation, setUserLocation] = useState(null);\n  const [nearbyStatus, setNearbyStatus] = useState('');\n  const [showLocationConsent, setShowLocationConsent] = useState(false);\n  // Mobile menu state moved into Header component\n  const [toast, setToast] = useState(null);\n  const [showPrivacyPolicy, setShowPrivacyPolicy] = useState(false);\n  const [notificationBanner, setNotificationBanner] = useState(null);\n  const [showAnalyticsConsent, setShowAnalyticsConsent] = useState(false);\n  const [showNotificationsPanel, setShowNotificationsPanel] = useState(false);\n  const [unreadCount, setUnreadCount] = useState(0);\n\n  const openAuthModal = (type = 'renter') => {\n    setAuthDefaultType(type);\n    setShowAuthModal(true);\n  };\n\n  // Update unread notification count\n  useEffect(() => {\n    const updateUnreadCount = () => {\n      const notifications = getNotifications();\n      setUnreadCount(notifications.filter(n => !n.read).length);\n    };\n    updateUnreadCount();\n    const interval = setInterval(updateUnreadCount, 5000); // check every 5s\n    return () => clearInterval(interval);\n  }, []);\n  \n\n  useEffect(() => {\n    loadData();\n    // Initialize Firebase + FCM token fetch (deferred until user interaction if desired)\n    const app = initFirebase();\n    \n    // Check analytics consent and show modal if not set\n    const analyticsConsent = localStorage.getItem('analytics-consent');\n    if (!analyticsConsent && process.env.REACT_APP_ENABLE_ANALYTICS === 'true') {\n      // Delay modal slightly so UI loads first\n      setTimeout(() => setShowAnalyticsConsent(true), 2000);\n    } else if (analyticsConsent === 'yes') {\n      initAnalytics(app);\n    }\n\n    (async () => {\n      try {\n        const token = await requestFcmToken();\n        if (token) {\n          console.log('Obtained FCM token:', token);\n          trackEvent('fcm_token_obtained');\n        }\n      } catch (e) {\n        console.warn('FCM token request failed', e);\n      }\n    })();\n    \n    listenForegroundMessages((payload) => {\n      // Display notification banner instead of toast\n      const notification = payload?.notification || {};\n      if (notification.title || notification.body) {\n        setNotificationBanner({\n          title: notification.title,\n          body: notification.body\n        });\n        // Auto-dismiss after 8 seconds\n        setTimeout(() => setNotificationBanner(null), 8000);\n      }\n    });\n  }, []);\n\n  // Guard: if someone navigates to 'add' without landlord auth, prompt to sign in\n  useEffect(() => {\n    if (currentView === 'add') {\n      if (!currentUser) {\n        openAuthModal('landlord');\n        setCurrentView('browse');\n      } else if (userType !== 'landlord') {\n        // Not a landlord - prompt to become one\n        openAuthModal('landlord');\n        setCurrentView('browse');\n      } else if (!currentUser.landlordComplete) {\n        // Landlord but hasn't completed onboarding\n        setCurrentView('landlord-onboarding');\n      }\n    }\n  }, [currentView, currentUser, userType]);\n\n  const loadData = async () => {\n    try {\n      const listingsResult = localStorage.getItem('listings');\n      const userResult = localStorage.getItem('current-user');\n      const usersResult = localStorage.getItem('users');\n      \n      if (listingsResult) setListings(JSON.parse(listingsResult));\n      if (userResult) {\n        const user = JSON.parse(userResult);\n        setCurrentUser(user);\n        setUserType(user.type);\n      }\n      if (usersResult) {\n        try {\n          const parsed = JSON.parse(usersResult);\n          setUsers(Array.isArray(parsed) ? parsed : []);\n        } catch (e) {\n          console.warn('Corrupt users array in storage, resetting');\n          setUsers([]);\n        }\n      }\n    } catch (error) {\n      console.log('No existing data found, starting fresh');\n      // Add sample listings for testing the map\n      const sampleListings = [\n        {\n          id: 'listing-1',\n          title: 'Cozy Room in Soweto',\n          price: 2500,\n          location: 'Soweto, Johannesburg',\n          description: 'Comfortable room with bathroom and kitchen access',\n          photos: [],\n          status: 'available',\n          availableDate: new Date().toISOString(),\n          amenities: ['WiFi', 'Kitchen'],\n          landlordId: 'landlord-1',\n          landlordName: 'John Smith',\n          landlordPhone: '+27 123 456 7890',\n          landlordEmail: 'john@example.com',\n          landlordPhoto: '',\n          createdAt: new Date().toISOString()\n        },\n        {\n          id: 'listing-2',\n          title: 'Modern Apartment in Sandton',\n          price: 4500,\n          location: 'Sandton, Johannesburg',\n          description: 'Luxurious apartment with parking and security',\n          photos: [],\n          status: 'available',\n          availableDate: new Date().toISOString(),\n          amenities: ['WiFi', 'Parking', 'Air Conditioning'],\n          landlordId: 'landlord-2',\n          landlordName: 'Jane Doe',\n          landlordPhone: '+27 987 654 3210',\n          landlordEmail: 'jane@example.com',\n          landlordPhoto: '',\n          createdAt: new Date().toISOString()\n        },\n        {\n          id: 'listing-3',\n          title: 'Studio in Midrand',\n          price: 3200,\n          location: 'Midrand, Johannesburg',\n          description: 'Spacious studio flat with laundry facilities',\n          photos: [],\n          status: 'available',\n          availableDate: new Date().toISOString(),\n          amenities: ['Laundry', 'WiFi'],\n          landlordId: 'landlord-3',\n          landlordName: 'Mike Johnson',\n          landlordPhone: '+27 555 555 5555',\n          landlordEmail: 'mike@example.com',\n          landlordPhoto: '',\n          createdAt: new Date().toISOString()\n        }\n      ];\n      setListings(sampleListings);\n    }\n  };\n\n  // Helper: check for duplicate phone or email in registry (exclude an optional user id)\n  const isDuplicateContact = (phone, email, ignoreId = null) => {\n    const normalizedPhone = (phone || '').trim();\n    const normalizedEmail = (email || '').trim().toLowerCase();\n    if (!users || users.length === 0) return false;\n    return users.some(u => {\n      if (ignoreId && u.id === ignoreId) return false;\n      const uPhone = (u.phone || '').trim();\n      const uEmail = (u.email || '').trim().toLowerCase();\n      const phoneMatch = normalizedPhone && uPhone && uPhone === normalizedPhone;\n      const emailMatch = normalizedEmail && uEmail && uEmail === normalizedEmail;\n      return phoneMatch || emailMatch;\n    });\n  };\n\n  // Haversine formula to compute distance in kilometers between two coords\n  const haversineDistance = (lat1, lon1, lat2, lon2) => {\n    const toRad = (v) => (v * Math.PI) / 180;\n    const R = 6371; // km\n    const dLat = toRad(lat2 - lat1);\n    const dLon = toRad(lon2 - lon1);\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  };\n\n  const handleFindNearby = () => {\n    if (!navigator.geolocation) {\n      setNearbyStatus('Geolocation not supported');\n      return;\n    }\n    // Show consent modal before accessing location\n    setShowLocationConsent(true);\n  };\n\n  const handleLocationConsentAccept = () => {\n    setShowLocationConsent(false);\n    setNearbyStatus('Locating...');\n    navigator.geolocation.getCurrentPosition((pos) => {\n      const lat = pos.coords.latitude;\n      const lon = pos.coords.longitude;\n      setUserLocation({ lat, lon });\n      setNearbyMode(true);\n      setNearbyStatus('Nearby mode enabled');\n      setTimeout(() => setNearbyStatus(''), 2000);\n    }, (err) => {\n      console.error('Geolocation error', err);\n      setNearbyStatus('Could not get location');\n    }, { enableHighAccuracy: true, timeout: 10000 });\n  };\n\n  const clearNearby = () => {\n    setNearbyMode(false);\n    setUserLocation(null);\n    setNearbyStatus('');\n  };\n\n  // Toast notification helper\n  const showToast = (message, type = 'info', title = '') => {\n    setToast({ message, type, title });\n    setTimeout(() => setToast(null), 5000);\n  };\n\n  const handleAnalyticsConsentAccept = () => {\n    localStorage.setItem('analytics-consent', 'yes');\n    setShowAnalyticsConsent(false);\n    const app = initFirebase();\n    initAnalytics(app);\n    trackEvent('analytics_consent_granted');\n    showToast('Analytics enabled', 'success', 'Thank you!');\n  };\n\n  const handleAnalyticsConsentDecline = () => {\n    localStorage.setItem('analytics-consent', 'no');\n    setShowAnalyticsConsent(false);\n    showToast('Analytics disabled', 'info');\n  };\n\n  const saveListings = async (newListings) => {\n    try {\n      localStorage.setItem('listings', JSON.stringify(newListings));\n      setListings(newListings);\n      // Broadcast to runtime service worker for offline snapshot caching\n      if (navigator.serviceWorker && navigator.serviceWorker.controller) {\n        try { navigator.serviceWorker.controller.postMessage({ type: 'SYNC_LISTINGS', payload: newListings }); } catch {}\n      }\n    } catch (error) {\n      console.error('Error saving listings:', error);\n    }\n  };\n\n  const saveSubscriptions = async (subscriptions) => {\n    try {\n      localStorage.setItem('subscriptions', JSON.stringify(subscriptions));\n    } catch (error) {\n      console.error('Error saving subscriptions:', error);\n    }\n  };\n\n  const getSubscriptions = async () => {\n    try {\n      const res = localStorage.getItem('subscriptions');\n      return res ? JSON.parse(res) : {};\n    } catch (err) {\n      console.error('Error loading subscriptions', err);\n    }\n    return {};\n  };\n\n  const subscribeToArea = async (userId, area) => {\n    if (!userId) {\n      openAuthModal('renter');\n      return;\n    }\n    if (!area || area.trim() === '') {\n      alert('Please enter a location to subscribe to.');\n      return;\n    }\n    try {\n      const subs = await getSubscriptions();\n      subs[userId] = subs[userId] || [];\n      if (!subs[userId].includes(area)) {\n        subs[userId].push(area);\n        await saveSubscriptions(subs);\n        alert(`Subscribed to updates for ${area}`);\n      } else {\n        alert(`You are already subscribed to ${area}`);\n      }\n    } catch (err) {\n      console.error('Subscribe failed', err);\n      alert('Could not subscribe. Please try again.');\n    }\n  };\n\n  \n\nconst handleProfileSetup = async (profileData) => {\n  try {\n    // Duplicate guard\n    if (isDuplicateContact(profileData.phone, profileData.email)) {\n      showToast('Phone or email already registered', 'error', 'Duplicate');\n      return;\n    }\n    const userId = `user-${Date.now()}`;\n    const user = { \n      id: userId, \n      type: userType, \n      ...profileData,\n      whatsapp: profileData.whatsapp || '',\n      notificationPrefs: { updates: true, marketing: false },\n      createdAt: new Date().toISOString()\n    };\n    \n    localStorage.setItem('current-user', JSON.stringify(user));\n    setCurrentUser(user);\n    // Update users registry\n    const existingUsersRaw = localStorage.getItem('users');\n    let existingUsers = [];\n    if (existingUsersRaw) {\n      try { existingUsers = JSON.parse(existingUsersRaw); } catch { existingUsers = []; }\n    }\n    existingUsers.push(user);\n    localStorage.setItem('users', JSON.stringify(existingUsers));\n    setUsers(existingUsers);\n    showToast('Profile created successfully!', 'success', 'Welcome!');\n    setCurrentView('browse');\n  } catch (error) {\n    console.error('Error saving profile:', error);\n    // Still set the user locally even if storage fails\n    const userId = `user-${Date.now()}`;\n    const user = { \n      id: userId, \n      type: userType, \n      ...profileData,\n      whatsapp: profileData.whatsapp || '',\n      createdAt: new Date().toISOString()\n    };\n    setCurrentUser(user);\n    const existingUsersRaw = localStorage.getItem('users');\n    let existingUsers = [];\n    if (existingUsersRaw) {\n      try { existingUsers = JSON.parse(existingUsersRaw); } catch { existingUsers = []; }\n    }\n    existingUsers.push(user);\n    try { localStorage.setItem('users', JSON.stringify(existingUsers)); } catch {}\n    setUsers(existingUsers);\n    showToast('Profile created (data may not be persisted)', 'error');\n    setCurrentView('browse');\n  }\n};\n\nconst handleUpdateProfile = async (profileData) => {\n  try {\n    // Duplicate guard (exclude current user id)\n    if (isDuplicateContact(profileData.phone, profileData.email, currentUser?.id)) {\n      showToast('Phone or email already used by another account', 'error', 'Duplicate');\n      return;\n    }\n    const updatedUser = { ...currentUser, ...profileData };\n    \n    localStorage.setItem('current-user', JSON.stringify(updatedUser));\n    setCurrentUser(updatedUser);\n    // Update registry entry\n    const existingUsersRaw = localStorage.getItem('users');\n    let existingUsers = [];\n    if (existingUsersRaw) {\n      try { existingUsers = JSON.parse(existingUsersRaw); } catch { existingUsers = []; }\n    }\n    const idx = existingUsers.findIndex(u => u.id === updatedUser.id);\n    if (idx !== -1) {\n      existingUsers[idx] = updatedUser;\n    } else {\n      existingUsers.push(updatedUser); // ensure presence\n    }\n    localStorage.setItem('users', JSON.stringify(existingUsers));\n    setUsers(existingUsers);\n    showToast('Profile updated successfully!', 'success');\n    setCurrentView('browse');\n  } catch (error) {\n    console.error('Error updating profile:', error);\n    const updatedUser = { ...currentUser, ...profileData };\n    setCurrentUser(updatedUser);\n    const existingUsersRaw = localStorage.getItem('users');\n    let existingUsers = [];\n    if (existingUsersRaw) {\n      try { existingUsers = JSON.parse(existingUsersRaw); } catch { existingUsers = []; }\n    }\n    const idx = existingUsers.findIndex(u => u.id === updatedUser.id);\n    if (idx !== -1) {\n      existingUsers[idx] = updatedUser;\n    } else {\n      existingUsers.push(updatedUser);\n    }\n    try { localStorage.setItem('users', JSON.stringify(existingUsers)); } catch {}\n    setUsers(existingUsers);\n    showToast('Profile updated (data may not be persisted)', 'error');\n    setCurrentView('browse');\n  }\n};\n\nconst handleQuickAuth = async (profileData) => {\n  // Lightweight auth (used by AuthModal) - create and persist a user\n  try {\n    if (isDuplicateContact(profileData.phone, profileData.email)) {\n      showToast('Phone or email already registered', 'error', 'Duplicate');\n      return;\n    }\n    const userId = `user-${Date.now()}`;\n    const user = {\n      id: userId,\n      type: profileData.type || 'renter',\n      name: profileData.name,\n      phone: profileData.phone || '',\n      email: profileData.email || '',\n      photo: profileData.photo || '',\n      notificationPrefs: { updates: true, marketing: false },\n      createdAt: new Date().toISOString()\n    };\n    localStorage.setItem('current-user', JSON.stringify(user));\n    setCurrentUser(user);\n    setUserType(user.type);\n    // registry update\n    const existingUsersRaw = localStorage.getItem('users');\n    let existingUsers = [];\n    if (existingUsersRaw) {\n      try { existingUsers = JSON.parse(existingUsersRaw); } catch { existingUsers = []; }\n    }\n    existingUsers.push(user);\n    localStorage.setItem('users', JSON.stringify(existingUsers));\n    setUsers(existingUsers);\n    setShowAuthModal(false);\n    // If landlord, route to onboarding to complete setup before posting\n    if (user.type === 'landlord') {\n      setCurrentView('landlord-onboarding');\n    } else {\n      setCurrentView('browse');\n    }\n  } catch (err) {\n    console.error('Auth failed', err);\n  }\n};\n\n// Sign out helper so you can re-auth as renter for perspective preview\nconst handleSignOut = () => {\n  try {\n    localStorage.removeItem('current-user');\n  } catch (e) {\n    console.warn('Could not clear localStorage current-user');\n  }\n  setCurrentUser(null);\n  setUserType(null);\n  setCurrentView('browse');\n  showToast('Signed out. You can now sign in as Renter.', 'info');\n};\n\nconst handleCompleteOnboarding = async (onboardData) => {\n  try {\n    const updated = { ...currentUser, landlordComplete: true, landlordInfo: onboardData };\n    localStorage.setItem('current-user', JSON.stringify(updated));\n    setCurrentUser(updated);\n    setCurrentView('browse');\n  } catch (err) {\n    console.error('Onboarding save failed', err);\n    setCurrentUser({ ...currentUser, landlordComplete: true, landlordInfo: onboardData });\n    setCurrentView('browse');\n  }\n};\n\nconst handleAddListing = async (listingData) => {\n  const newListing = {\n    id: `listing-${Date.now()}`,\n    title: listingData.title,\n    price: listingData.price,\n    location: listingData.location,\n    description: listingData.description,\n    photos: listingData.photos || [],\n    status: listingData.status || 'available',\n    availableDate: listingData.availableDate || new Date().toISOString(),\n    amenities: listingData.amenities || [],\n    latitude: listingData.latitude ?? null,\n    longitude: listingData.longitude ?? null,\n      paymentMethod: listingData.paymentMethod || 'Bank and Cash',\n    premium: !!listingData.premium,\n    landlordId: currentUser.id,\n    landlordName: currentUser.name,\n    landlordPhone: currentUser.phone,\n    landlordEmail: currentUser.email,\n    landlordPhoto: currentUser.photo,\n    createdAt: new Date().toISOString()\n  };\n\n    const updatedListings = [...listings, newListing];\n    await saveListings(updatedListings);\n    showToast('Listing created successfully!', 'success', 'Success!');\n    setCurrentView('browse');\n    // Scroll to top to see new listing\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  // Messaging removed\n\nconst filteredListings = listings\n  .map(listing => {\n    // attach distance if we have userLocation\n    if (userLocation && listing.latitude != null && listing.longitude != null) {\n      const d = haversineDistance(userLocation.lat, userLocation.lon, listing.latitude, listing.longitude);\n      return { ...listing, __distanceKm: d };\n    }\n    if (userLocation && (listing.latitude == null || listing.longitude == null)) {\n      // try to geocode-less accurate: leave distance undefined\n      return { ...listing };\n    }\n    return { ...listing };\n  })\n  .filter(listing => {\n    const matchesLocation = !searchLocation || \n      (listing.location || '').toLowerCase().includes(searchLocation.toLowerCase());\n    const price = parseFloat(listing.price);\n    const matchesPrice = price >= priceRange[0] && price <= priceRange[1];\n    const matchesAmenities = selectedAmenities.length === 0 || \n      selectedAmenities.every(amenity => listing.amenities?.includes(amenity));\n\n    let passesNearby = true;\n    if (nearbyMode && userLocation) {\n      // require listing to have coordinates to be included\n      if (listing.latitude != null && listing.longitude != null) {\n        const d = listing.__distanceKm ?? haversineDistance(userLocation.lat, userLocation.lon, listing.latitude, listing.longitude);\n        passesNearby = d <= nearbyRadius;\n      } else {\n        passesNearby = false;\n      }\n    }\n\n    return matchesLocation && matchesPrice && matchesAmenities && passesNearby;\n  })\n  .sort((a, b) => {\n    if (a.premium && !b.premium) return -1;\n    if (!a.premium && b.premium) return 1;\n    if (nearbyMode && userLocation) {\n      const da = a.__distanceKm ?? Infinity;\n      const db = b.__distanceKm ?? Infinity;\n      return da - db;\n    }\n    if (sortBy === 'newest') {\n      return new Date(b.createdAt) - new Date(a.createdAt);\n    } else if (sortBy === 'cheapest') {\n      return parseFloat(a.price) - parseFloat(b.price);\n    } else if (sortBy === 'expensive') {\n      return parseFloat(b.price) - parseFloat(a.price);\n    }\n    return 0;\n  });\n\n  // Allow guests to land on Browse by default. If userType isn't set,\n  // show a gentle callout in the header (below) so users can pick a role\n  // when they want to post or set up their profile.\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Header\n        currentUser={currentUser}\n        previewAsRenter={previewAsRenter}\n        setPreviewAsRenter={setPreviewAsRenter}\n        openAuthModal={openAuthModal}\n        handleSignOut={handleSignOut}\n        setCurrentView={setCurrentView}\n        unreadCount={unreadCount}\n        onOpenNotifications={() => setShowNotificationsPanel(true)}\n      />\n      {previewAsRenter && currentUser?.type === 'landlord' && (\n        <div className=\"bg-indigo-50 border-b border-indigo-200 text-indigo-700 text-xs py-1 text-center\" role=\"status\" aria-live=\"polite\">\n          Renter preview mode: interactions are read-only. Toggle off to resume landlord actions.\n        </div>\n      )}\n\n      {/* Notification Banner (Push Notifications) */}\n      {notificationBanner && (\n        <NotificationBanner\n          title={notificationBanner.title}\n          body={notificationBanner.body}\n          onClose={() => setNotificationBanner(null)}\n        />\n      )}\n\n      {/* Toast Notification */}\n      {toast && (\n        <div className={`fixed top-20 right-4 z-50 max-w-sm w-full transition-all duration-300 ${\n          toast.type === 'error' ? 'bg-red-50 border-red-400' :\n          toast.type === 'success' ? 'bg-green-50 border-green-400' :\n          toast.type === 'warning' ? 'bg-amber-50 border-amber-400' :\n          'bg-blue-50 border-blue-400'\n        } border-l-4 rounded-lg shadow-xl p-4 fade-in`}>\n          <div className=\"flex items-start gap-3\">\n            <div className={`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center ${\n              toast.type === 'error' ? 'bg-red-100' :\n              toast.type === 'success' ? 'bg-green-100' :\n              toast.type === 'warning' ? 'bg-amber-100' :\n              'bg-blue-100'\n            }`}>\n              {toast.type === 'success' && <CheckCircle className=\"w-4 h-4 text-green-600\" />}\n              {toast.type === 'error' && <span className=\"text-red-600 font-bold text-sm\"></span>}\n              {toast.type === 'warning' && <span className=\"text-amber-600 font-bold text-sm\">!</span>}\n              {toast.type === 'info' && <span className=\"text-blue-600 font-bold text-sm\">i</span>}\n            </div>\n            <div className=\"flex-1\">\n              {toast.title && <p className={`font-semibold mb-1 ${\n                toast.type === 'error' ? 'text-red-800' :\n                toast.type === 'success' ? 'text-green-800' :\n                toast.type === 'warning' ? 'text-amber-800' :\n                'text-blue-800'\n              }`}>{toast.title}</p>}\n              <p className={`text-sm ${\n                toast.type === 'error' ? 'text-red-700' :\n                toast.type === 'success' ? 'text-green-700' :\n                toast.type === 'warning' ? 'text-amber-700' :\n                'text-blue-700'\n              }`}>{toast.message}</p>\n            </div>\n            <button \n              onClick={() => setToast(null)}\n              className={`flex-shrink-0 p-1 rounded hover:bg-gray-200 transition ${\n                toast.type === 'error' ? 'text-red-600' :\n                toast.type === 'success' ? 'text-green-600' :\n                toast.type === 'warning' ? 'text-amber-600' :\n                'text-blue-600'\n              }`}\n              aria-label=\"Close notification\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n          </div>\n        </div>\n      )}\n\n      <div id=\"main-content\" className=\"max-w-6xl mx-auto pb-20\" role=\"main\">\n        {currentView === 'setup-profile' && (\n          <ProfileSetupView onSubmit={handleProfileSetup} userType={userType} />\n        )}\n\n        {currentView === 'profile' && currentUser && (\n          <ProfileView \n            user={currentUser} \n            onEdit={() => setCurrentView('edit-profile')} \n            onUpdatePrefs={(prefs) => {\n              const updated = { ...currentUser, notificationPrefs: prefs };\n              setCurrentUser(updated);\n              try {\n                localStorage.setItem('current-user', JSON.stringify(updated));\n                // update registry\n                const raw = localStorage.getItem('users');\n                if (raw) {\n                  try {\n                    const arr = JSON.parse(raw);\n                    const idx = arr.findIndex(u => u.id === updated.id);\n                    if (idx !== -1) { arr[idx] = updated; localStorage.setItem('users', JSON.stringify(arr)); }\n                  } catch {}\n                }\n              } catch {}\n              showToast('Preferences updated', 'success');\n            }}\n          />\n        )}\n\n        {currentView === 'edit-profile' && currentUser && (\n          <EditProfileView user={currentUser} onSubmit={handleUpdateProfile} onCancel={() => setCurrentView('profile')} />\n        )}\n\n        {currentView === 'landlord-onboarding' && currentUser && userType === 'landlord' && (\n          <LandlordOnboardingView onComplete={handleCompleteOnboarding} onCancel={() => setCurrentView('browse')} currentUser={currentUser} />\n        )}\n\n        {currentView === 'browse' && (\n                    <BrowseView \n                      listings={filteredListings}\n                      searchLocation={searchLocation}\n                      setSearchLocation={setSearchLocation}\n                      priceRange={priceRange}\n                      setPriceRange={setPriceRange}\n                      selectedAmenities={selectedAmenities}\n                      setSelectedAmenities={setSelectedAmenities}\n                      sortBy={sortBy}\n                      setSortBy={setSortBy}\n                      onSelectListing={setSelectedListing}\n                      setCurrentView={setCurrentView}\n                      currentUser={currentUser}\n                      onRequireAuth={openAuthModal}\n                      subscribeToArea={subscribeToArea}\n                      onFindNearby={handleFindNearby}\n                      nearbyRadius={nearbyRadius}\n                      setNearbyRadius={setNearbyRadius}\n                      nearbyMode={nearbyMode}\n                      clearNearby={clearNearby}\n                      userLocation={userLocation}\n                      nearbyStatus={nearbyStatus}\n                      previewMode={previewAsRenter}\n                    />\n        )}\n\n        {/* Messages view removed */}\n\n        {currentView === 'add' && (\n          <AddListingView\n            onSubmit={handleAddListing}\n            onCancel={() => setCurrentView('browse')}\n            currentUser={currentUser}\n            userType={userType}\n            onRequireAuth={openAuthModal}\n            onRequireOnboarding={() => setCurrentView('landlord-onboarding')}\n          />\n        )}\n\n        {currentView === 'my-listings' && currentUser && userType === 'landlord' && (\n          <MyListingsView \n            listings={listings.filter(l => l.landlordId === currentUser.id)}\n            onDelete={async (id) => {\n              const updated = listings.filter(l => l.id !== id);\n              await saveListings(updated);\n            }}\n          />\n        )}\n\n        {currentView === 'favorites' && (\n          <FavoritesView\n            listings={listings}\n            onSelectListing={setSelectedListing}\n          />\n        )}\n      </div>\n\n      {selectedListing && (\n        <ListingDetailModal \n          listing={selectedListing}\n          landlord={{\n            name: selectedListing.landlordName,\n            phone: selectedListing.landlordPhone,\n            email: selectedListing.landlordEmail,\n            photo: selectedListing.landlordPhoto\n          }}\n          onClose={() => setSelectedListing(null)}\n          userType={userType}\n          currentUser={currentUser}\n          onRequireAuth={openAuthModal}\n          previewMode={previewAsRenter}\n          showToast={showToast}\n        />\n      )}\n\n      {/* Conversation modal removed */}\n\n      {showAuthModal && (\n        <AuthModal\n          defaultType={authDefaultType}\n          onClose={() => setShowAuthModal(false)}\n          onSubmit={handleQuickAuth}\n        />\n      )}\n\n      <BottomNav \n        currentView={currentView}\n        setCurrentView={setCurrentView}\n        userType={userType}\n      />\n\n      {showLocationConsent && (\n        <LocationConsentModal\n          onAccept={handleLocationConsentAccept}\n          onDecline={() => setShowLocationConsent(false)}\n        />\n      )}\n\n      {showPrivacyPolicy && (\n        <PrivacyPolicyModal onClose={() => setShowPrivacyPolicy(false)} />\n      )}\n\n      {showAnalyticsConsent && (\n        <AnalyticsConsentModal\n          onAccept={handleAnalyticsConsentAccept}\n          onDecline={handleAnalyticsConsentDecline}\n        />\n      )}\n\n      {showNotificationsPanel && (\n        <NotificationsPanel\n          onClose={() => {\n            setShowNotificationsPanel(false);\n            setUnreadCount(getNotifications().filter(n => !n.read).length);\n          }}\n          onSelectListing={(listingId) => {\n            const listing = listings.find(l => (l.id || `${l.title}-${l.createdAt}`) === listingId);\n            if (listing) {\n              setSelectedListing(listing);\n            }\n            setShowNotificationsPanel(false);\n          }}\n        />\n      )}\n\n      <Footer onOpenPrivacy={() => setShowPrivacyPolicy(true)} />\n    </div>\n  );\n}\n\n\n\nfunction ProfileSetupView({ onSubmit, userType }) {\n  const [formData, setFormData] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    whatsapp: '',\n    photo: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n\n  const validateField = (name, value, extras = {}) => {\n    const newErrors = { ...errors };\n    switch (name) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'phone':\n        if (!value || !/^[+]?[-0-9()\\s]{7,}$/.test(value.trim())) {\n          newErrors.phone = 'Enter a valid phone number (min 7 digits)';\n        } else {\n          delete newErrors.phone;\n        }\n        break;\n      case 'email':\n        if (!value || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value.trim())) {\n          newErrors.email = 'Enter a valid email address';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      case 'photo':\n        if (value === 'FILE_TOO_LARGE') {\n          newErrors.photo = 'Photo is too large (max 2MB)';\n        } else {\n          delete newErrors.photo;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n\n  const handlePhotoUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 2 * 1024 * 1024) { // 2MB limit\n        setFormData({ ...formData, photo: '' });\n        validateField('photo', 'FILE_TOO_LARGE');\n        return;\n      }\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({ ...formData, photo: reader.result });\n        validateField('photo', reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleSubmit = () => {\n    // Touch all fields\n    const allTouched = { name: true, phone: true, email: true, photo: true };\n    setTouched(allTouched);\n    validateField('name', formData.name);\n    validateField('phone', formData.phone);\n    validateField('email', formData.email);\n    if (Object.keys(errors).length === 0 && formData.name && formData.phone && formData.email) {\n      onSubmit(formData);\n    }\n  };\n\n  return (\n    <div className=\"p-4 min-h-screen bg-gray-50 pb-20\">\n      <div className=\"max-w-2xl mx-auto mt-8\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n          <div className=\"text-center mb-8\">\n            <h2 className=\"text-3xl font-bold text-gray-800 mb-2\">Complete Your Profile</h2>\n            <p className=\"text-gray-600\">Help others know who you are</p>\n          </div>\n\n          <div className=\"space-y-6\">\n            {/* Photo Upload */}\n            <div className=\"flex justify-center mb-8\">\n              <div className=\"relative\">\n                {formData.photo ? (\n                  <img \n                    src={formData.photo} \n                    alt=\"Profile\" \n                    className=\"w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-lg\" \n                  />\n                ) : (\n                  <div className=\"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-blue-200 shadow-lg\">\n                    <User className=\"w-16 h-16 text-blue-600\" />\n                  </div>\n                )}\n                <label className=\"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition group\" aria-label=\"Upload profile photo\">\n                  <Edit className=\"w-5 h-5\" />\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handlePhotoUpload}\n                    className=\"hidden\"\n                  />\n                </label>\n              </div>\n            </div>\n\n            {/* Form Fields */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Full Name *</label>\n              <input\n                type=\"text\"\n                required\n                value={formData.name}\n                onChange={(e) => { setFormData({ ...formData, name: e.target.value }); if (touched.name) validateField('name', e.target.value); }}\n                onBlur={(e) => { setTouched({ ...touched, name: true }); validateField('name', e.target.value); }}\n                placeholder=\"Enter your full name\"\n                aria-invalid={errors.name ? 'true' : 'false'}\n                aria-describedby={errors.name ? 'profile-name-error' : undefined}\n                className={`w-full px-4 py-3 border ${errors.name ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.name && touched.name && <p id=\"profile-name-error\" className=\"mt-1 text-xs text-red-600\">{errors.name}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Phone Number *</label>\n              <div className=\"relative\">\n                <Phone className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"tel\"\n                  required\n                  value={formData.phone}\n                  onChange={(e) => { setFormData({ ...formData, phone: e.target.value }); if (touched.phone) validateField('phone', e.target.value); }}\n                  onBlur={(e) => { setTouched({ ...touched, phone: true }); validateField('phone', e.target.value); }}\n                  placeholder=\"e.g., +27 12 345 6789\"\n                  aria-invalid={errors.phone ? 'true' : 'false'}\n                  aria-describedby={errors.phone ? 'profile-phone-error' : undefined}\n                  className={`w-full pl-11 pr-4 py-3 border ${errors.phone ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n                />\n              </div>\n              {errors.phone && touched.phone && <p id=\"profile-phone-error\" className=\"mt-1 text-xs text-red-600\">{errors.phone}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Email Address *</label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"email\"\n                  required\n                  value={formData.email}\n                  onChange={(e) => { setFormData({ ...formData, email: e.target.value }); if (touched.email) validateField('email', e.target.value); }}\n                  onBlur={(e) => { setTouched({ ...touched, email: true }); validateField('email', e.target.value); }}\n                  placeholder=\"your.email@example.com\"\n                  aria-invalid={errors.email ? 'true' : 'false'}\n                  aria-describedby={errors.email ? 'profile-email-error' : undefined}\n                  className={`w-full pl-11 pr-4 py-3 border ${errors.email ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n                />\n              </div>\n              {errors.email && touched.email && <p id=\"profile-email-error\" className=\"mt-1 text-xs text-red-600\">{errors.email}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">WhatsApp (optional)</label>\n              <div className=\"relative\">\n                <Phone className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"tel\"\n                  value={formData.whatsapp}\n                  onChange={(e) => setFormData({ ...formData, whatsapp: e.target.value })}\n                  placeholder=\"e.g., +27 71 234 5678\"\n                  className=\"w-full pl-11 pr-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400\"\n                />\n              </div>\n              <p className=\"text-xs text-gray-500 mt-1\">Used to create a WhatsApp chat link on your listings.</p>\n            </div>\n\n            {/* Submit Button */}\n            <button\n              onClick={handleSubmit}\n              className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition mt-8 shadow-sm\"\n            >\n              Complete Setup\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ProfileView({ user, onEdit, onUpdatePrefs }) {\n  const prefs = user.notificationPrefs || { updates: true, marketing: false };\n  const [localPrefs, setLocalPrefs] = React.useState(prefs);\n\n  const togglePref = (key) => {\n    const next = { ...localPrefs, [key]: !localPrefs[key] };\n    setLocalPrefs(next);\n    onUpdatePrefs && onUpdatePrefs(next);\n  };\n\n  return (\n    <div className=\"p-4\">\n      <div className=\"bg-white rounded-lg shadow p-6 max-w-xl mx-auto\">\n        <div className=\"flex justify-between items-start mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-800\">My Profile</h2>\n          <button\n            onClick={onEdit}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition flex items-center gap-2\"\n          >\n            <Edit className=\"w-4 h-4\" />\n            Edit\n          </button>\n        </div>\n\n        <div className=\"flex flex-col items-center mb-6\">\n          {user.photo ? (\n            <img src={user.photo} alt=\"Profile\" className=\"w-32 h-32 rounded-full object-cover border-4 border-blue-500 mb-4\" />\n          ) : (\n            <div className=\"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center border-4 border-gray-300 mb-4\">\n              <User className=\"w-16 h-16 text-gray-400\" />\n            </div>\n          )}\n          <h3 className=\"text-2xl font-bold text-gray-800\">{user.name}</h3>\n          <span className=\"inline-block mt-2 px-4 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold\">\n            {user.type === 'landlord' ? 'Landlord' : 'Renter'}\n          </span>\n        </div>\n\n        <div className=\"space-y-4\">\n          <div className=\"bg-gray-50 rounded-lg p-4\">\n            <div className=\"flex items-center text-gray-600\">\n              <Phone className=\"w-5 h-5 mr-3 text-blue-600\" />\n              <div>\n                <p className=\"text-xs text-gray-500 mb-1\">Phone Number</p>\n                <p className=\"font-semibold text-gray-800\">{user.phone}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-gray-50 rounded-lg p-4\">\n            <div className=\"flex items-center text-gray-600\">\n              <Mail className=\"w-5 h-5 mr-3 text-blue-600\" />\n              <div>\n                <p className=\"text-xs text-gray-500 mb-1\">Email Address</p>\n                <p className=\"font-semibold text-gray-800\">{user.email}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-gray-50 rounded-lg p-4\">\n            <div className=\"flex items-center text-gray-600\">\n              <User className=\"w-5 h-5 mr-3 text-blue-600\" />\n              <div>\n                <p className=\"text-xs text-gray-500 mb-1\">Member Since</p>\n                <p className=\"font-semibold text-gray-800\">\n                  {new Date(user.createdAt).toLocaleDateString()}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-indigo-50 rounded-lg p-4\">\n            <h4 className=\"font-semibold text-gray-800 mb-2\">Notification Preferences</h4>\n            <div className=\"space-y-2\">\n              <label className=\"flex items-center gap-2 text-sm text-gray-700\">\n                <input\n                  type=\"checkbox\"\n                  checked={localPrefs.updates}\n                  onChange={() => togglePref('updates')}\n                />\n                Updates about new rooms in subscribed areas\n              </label>\n              <label className=\"flex items-center gap-2 text-sm text-gray-700\">\n                <input\n                  type=\"checkbox\"\n                  checked={localPrefs.marketing}\n                  onChange={() => togglePref('marketing')}\n                />\n                Occasional feature & promotion emails\n              </label>\n            </div>\n            <p className=\"text-[11px] text-gray-500 mt-2\">You can opt out anytime. Changes save instantly.</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction LandlordOnboardingView({ onComplete, onCancel, currentUser }) {\n  const [form, setForm] = useState({ businessName: currentUser?.name || '', bankDetails: '', idNumber: '', agree: false });\n\n  const handleSubmit = () => {\n    if (!form.businessName || !form.agree) {\n      alert('Please provide a display name and agree to the terms.');\n      return;\n    }\n    onComplete(form);\n  };\n\n  return (\n    <div className=\"p-4 min-h-screen bg-gray-50 pb-20\">\n      <div className=\"max-w-2xl mx-auto mt-8\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n          <div className=\"flex items-center gap-6 mb-6\">\n            <div className=\"w-16 h-16 rounded-full bg-blue-50 flex items-center justify-center text-blue-600 text-2xl font-bold\">\n              {currentUser && currentUser.name ? currentUser.name.charAt(0) : 'L'}\n            </div>\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-800\">Welcome, {currentUser?.name || 'Landlord'}</h2>\n              <p className=\"text-gray-600\">A few details to get your listings live and increase trust with renters.</p>\n            </div>\n          </div>\n\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-1\">Display Name *</label>\n              <input value={form.businessName} onChange={(e) => setForm({ ...form, businessName: e.target.value })} className=\"w-full px-4 py-3 border border-gray-300 rounded-lg\" />\n              <p className=\"text-xs text-gray-500 mt-1\">This name is shown to renters on your listings and messages.</p>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-1\">How do you want to receive payments?</label>\n              <input value={form.bankDetails} onChange={(e) => setForm({ ...form, bankDetails: e.target.value })} placeholder=\"Bank account or payment details (optional)\" className=\"w-full px-4 py-3 border border-gray-300 rounded-lg\" />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-1\">ID Number (optional)</label>\n              <input value={form.idNumber} onChange={(e) => setForm({ ...form, idNumber: e.target.value })} className=\"w-full px-4 py-3 border border-gray-300 rounded-lg\" />\n            </div>\n\n            <div className=\"flex items-start gap-2\">\n              <input type=\"checkbox\" checked={form.agree} onChange={(e) => setForm({ ...form, agree: e.target.checked })} />\n              <div className=\"text-sm text-gray-600\">I confirm I am authorised to list these properties and agree to the <button type=\"button\" onClick={(e) => e.preventDefault()} className=\"text-blue-600 underline p-0\">terms of service</button>.</div>\n            </div>\n\n            <div className=\"flex gap-3 pt-4\">\n              <button onClick={onCancel} className=\"flex-1 bg-gray-100 hover:bg-gray-200 py-3 rounded\">Cancel</button>\n              <button onClick={handleSubmit} className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded\">Complete and Start Listing</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction EditProfileView({ user, onSubmit, onCancel }) {\n  const [formData, setFormData] = useState({\n    name: user.name || '',\n    phone: user.phone || '',\n    email: user.email || '',\n    whatsapp: user.whatsapp || '',\n    photo: user.photo || ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n\n  const validateField = (name, value, extras = {}) => {\n    const newErrors = { ...errors };\n    switch (name) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'phone':\n        if (!value || !/^[+]?[-0-9()\\s]{7,}$/.test(value.trim())) {\n          newErrors.phone = 'Enter a valid phone number';\n        } else {\n          delete newErrors.phone;\n        }\n        break;\n      case 'email':\n        if (!value || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value.trim())) {\n          newErrors.email = 'Enter a valid email';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n\n  const handlePhotoUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({ ...formData, photo: reader.result });\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleSubmit = () => {\n    setTouched({ name: true, phone: true, email: true });\n    validateField('name', formData.name);\n    validateField('phone', formData.phone);\n    validateField('email', formData.email);\n    if (Object.keys(errors).length === 0 && formData.name && formData.phone && formData.email) {\n      onSubmit(formData);\n    }\n  };\n\n  return (\n    <div className=\"p-4 min-h-screen bg-gray-50 pb-20\">\n      <div className=\"max-w-2xl mx-auto mt-8\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n          <div className=\"flex items-center justify-between mb-8\">\n            <h2 className=\"text-3xl font-bold text-gray-800\">Edit Profile</h2>\n            <button onClick={onCancel} className=\"text-gray-400 hover:text-gray-600 transition\">\n              <X className=\"w-6 h-6\" />\n            </button>\n          </div>\n\n          <div className=\"space-y-6\">\n            {/* Photo Upload */}\n            <div className=\"flex justify-center mb-8\">\n              <div className=\"relative\">\n                {formData.photo ? (\n                  <img src={formData.photo} alt=\"Profile\" className=\"w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-lg\" />\n                ) : (\n                  <div className=\"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-blue-200 shadow-lg\">\n                    <User className=\"w-16 h-16 text-blue-600\" />\n                  </div>\n                )}\n                <label className=\"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition\" aria-label=\"Upload new profile photo\">\n                  <Edit className=\"w-5 h-5\" />\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handlePhotoUpload}\n                    className=\"hidden\"\n                  />\n                </label>\n              </div>\n            </div>\n\n            {/* Form Fields */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Full Name</label>\n              <input\n                type=\"text\"\n                required\n                value={formData.name}\n                onChange={(e) => { setFormData({ ...formData, name: e.target.value }); if (touched.name) validateField('name', e.target.value); }}\n                onBlur={(e) => { setTouched({ ...touched, name: true }); validateField('name', e.target.value); }}\n                aria-invalid={errors.name ? 'true' : 'false'}\n                aria-describedby={errors.name ? 'edit-name-error' : undefined}\n                className={`w-full px-4 py-3 border ${errors.name ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.name && touched.name && <p id=\"edit-name-error\" className=\"mt-1 text-xs text-red-600\">{errors.name}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Phone Number</label>\n              <div className=\"relative\">\n                <Phone className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"tel\"\n                  required\n                  value={formData.phone}\n                  onChange={(e) => { setFormData({ ...formData, phone: e.target.value }); if (touched.phone) validateField('phone', e.target.value); }}\n                  onBlur={(e) => { setTouched({ ...touched, phone: true }); validateField('phone', e.target.value); }}\n                  aria-invalid={errors.phone ? 'true' : 'false'}\n                  aria-describedby={errors.phone ? 'edit-phone-error' : undefined}\n                  className={`w-full pl-11 pr-4 py-3 border ${errors.phone ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n                />\n              </div>\n              {errors.phone && touched.phone && <p id=\"edit-phone-error\" className=\"mt-1 text-xs text-red-600\">{errors.phone}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Email Address</label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"email\"\n                  required\n                  value={formData.email}\n                  onChange={(e) => { setFormData({ ...formData, email: e.target.value }); if (touched.email) validateField('email', e.target.value); }}\n                  onBlur={(e) => { setTouched({ ...touched, email: true }); validateField('email', e.target.value); }}\n                  aria-invalid={errors.email ? 'true' : 'false'}\n                  aria-describedby={errors.email ? 'edit-email-error' : undefined}\n                  className={`w-full pl-11 pr-4 py-3 border ${errors.email ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n                />\n              </div>\n              {errors.email && touched.email && <p id=\"edit-email-error\" className=\"mt-1 text-xs text-red-600\">{errors.email}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">WhatsApp (optional)</label>\n              <div className=\"relative\">\n                <Phone className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"tel\"\n                  value={formData.whatsapp}\n                  onChange={(e) => setFormData({ ...formData, whatsapp: e.target.value })}\n                  placeholder=\"e.g., +27 71 234 5678\"\n                  className=\"w-full pl-11 pr-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400\"\n                />\n              </div>\n              <p className=\"text-xs text-gray-500 mt-1\">Used to create a WhatsApp chat link on your listings.</p>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex gap-3 pt-6 border-t border-gray-200\">\n              <button\n                onClick={onCancel}\n                className=\"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 rounded-lg transition\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleSubmit}\n                className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition shadow-sm\"\n              >\n                Save Changes\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* BrowseView extracted to components/BrowseView.jsx */\n\nfunction FavoritesView({ listings, onSelectListing }) {\n  const [favorites, setFavorites] = useState([]);\n\n  useEffect(() => {\n    try {\n      const rawFavorites = localStorage.getItem('favorites');\n      if (rawFavorites) {\n        const arr = JSON.parse(rawFavorites);\n        if (Array.isArray(arr)) setFavorites(arr);\n      }\n    } catch {}\n  }, []);\n\n  const toggleFavorite = (listingId) => {\n    setFavorites(prev => {\n      const updated = prev.filter(id => id !== listingId);\n      try {\n        localStorage.setItem('favorites', JSON.stringify(updated));\n      } catch {}\n      return updated;\n    });\n  };\n\n  const favoriteListings = listings.filter(l => favorites.includes(l.id));\n\n  return (\n    <div className=\"p-4 min-h-screen bg-gray-50 pb-20\">\n      <div className=\"max-w-7xl mx-auto mt-8\">\n        <div className=\"mb-6\">\n          <h2 className=\"text-3xl font-bold text-gray-800 flex items-center gap-3\">\n            <Heart className=\"w-8 h-8 text-red-500 fill-red-500\" />\n            Saved Listings\n          </h2>\n          <p className=\"text-gray-600 mt-2\">\n            {favoriteListings.length === 0\n              ? 'No saved listings yet. Browse and tap the heart icon to save your favorites!'\n              : `${favoriteListings.length} saved ${favoriteListings.length === 1 ? 'listing' : 'listings'}`}\n          </p>\n        </div>\n\n        {favoriteListings.length === 0 ? (\n          <div className=\"bg-white rounded-lg border border-gray-200 p-12 text-center\">\n            <Heart className=\"w-24 h-24 mx-auto mb-4 text-gray-300\" />\n            <p className=\"text-gray-600 font-medium mb-2\">No saved listings</p>\n            <p className=\"text-gray-500 text-sm mb-6\">\n              Start browsing and save your favorite rooms to find them here later\n            </p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            {favoriteListings.map(listing => {\n              const ListingCard = require('./components/ListingCard').default;\n              return (\n                <ListingCard\n                  key={listing.id}\n                  listing={listing}\n                  onClick={() => onSelectListing(listing)}\n                  isFavorite={true}\n                  onToggleFavorite={toggleFavorite}\n                />\n              );\n            })}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction AddListingView({ onSubmit, onCancel, currentUser, userType, onRequireAuth, onRequireOnboarding }) {\n  const GEOCODER_KEY = process.env.REACT_APP_GEOCODER_API_KEY;\n  const GEOCODER_PROVIDER = (process.env.REACT_APP_GEOCODER_PROVIDER || '').toLowerCase();\n\n  const [formData, setFormData] = useState({\n    title: '',\n    price: '',\n    location: '',\n    streetAddress: '',\n    description: '',\n    photos: [],\n    status: 'available',\n    availableDate: new Date().toISOString().split('T')[0],\n    amenities: [],\n    latitude: null,\n    longitude: null,\n    paymentMethod: 'Bank and Cash',\n    roomType: 'private',\n    leaseDuration: '7-12',\n    petFriendly: false,\n    genderPreference: 'any'\n  });\n  const [geocodingStatus, setGecodingStatus] = useState('');\n  const [errors, setErrors] = useState({});\n  const [locationHelpBanner, setLocationHelpBanner] = useState('');\n  const [showPhotoEditor, setShowPhotoEditor] = useState(false);\n  const reverseGeocodeCacheRef = React.useRef({});\n  const [lastGeocodeSource, setLastGeocodeSource] = useState(null); // 'cached' | 'mapbox' | 'proxy' | 'direct' | 'coords-only' | 'manual-geocode'\n  const [fullAddressInput, setFullAddressInput] = useState('');\n  const [isFullAddressEditing, setIsFullAddressEditing] = useState(false);\n\n  // Helper: fetch with graceful fallbacks when third-party APIs lack CORS headers\n  const corsFallbackTransforms = useMemo(() => [\n    (url) => url.startsWith('https://cors.isomorphic-git.org/') ? url : `https://cors.isomorphic-git.org/${url}`,\n    (url) => url.startsWith('https://corsproxy.io/?') ? url : `https://corsproxy.io/?${encodeURIComponent(url)}`\n  ], []);\n\n  const fetchWithCorsFallback = useCallback(async (url, options = {}) => {\n    const cloneOptions = () => {\n      const base = { ...options };\n      if (options.headers) base.headers = { ...options.headers };\n      return base;\n    };\n\n    const attempt = async (targetUrl) => {\n      const resp = await fetch(targetUrl, cloneOptions());\n      if (!resp.ok) throw new Error(`Request failed with status ${resp.status}`);\n      return resp;\n    };\n\n    try {\n      return await attempt(url);\n    } catch (err) {\n      if (options.signal?.aborted) throw err;\n      let lastError = err;\n      for (const transform of corsFallbackTransforms) {\n        try {\n          const proxiedUrl = transform(url);\n          return await attempt(proxiedUrl);\n        } catch (proxyErr) {\n          lastError = proxyErr;\n          if (options.signal?.aborted) break;\n        }\n      }\n      throw lastError;\n    }\n  }, [corsFallbackTransforms]);\n\n  // Reusable reverse geocoding function - extracted for use by both GPS and draggable marker\n  const reverseGeocodeCoords = async (lat, lon) => {\n    const cacheKey = `${lat.toFixed(4)},${lon.toFixed(4)}`;\n    \n    // Check cache first\n    const cached = reverseGeocodeCacheRef.current[cacheKey];\n    if (cached && cached.streetAddress && cached.location) {\n      return { streetAddress: cached.streetAddress, location: cached.location, source: 'cached' };\n    }\n\n    // Try geocoding\n    try {\n      // Try Mapbox if available\n      if (GEOCODER_PROVIDER === 'mapbox' && GEOCODER_KEY) {\n        const rev = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${lon},${lat}.json?access_token=${GEOCODER_KEY}&limit=1&country=za&types=address,poi`);\n        const revData = await rev.json();\n        if (revData?.features?.length > 0) {\n          const feature = revData.features[0];\n          const address = feature.address || '';\n          const streetName = feature.text || '';\n          const fullStreet = address ? `${address} ${streetName}` : streetName;\n          \n          let area = '';\n          if (feature.context) {\n            const place = feature.context.find(c => c.id.startsWith('place'));\n            const locality = feature.context.find(c => c.id.startsWith('locality'));\n            const region = feature.context.find(c => c.id.startsWith('region'));\n            const baseArea = (place ? place.text : (locality ? locality.text : '')) || '';\n            const province = region ? region.text : '';\n            area = province && baseArea && province.toLowerCase() !== baseArea.toLowerCase() ? `${baseArea}, ${province}` : (baseArea || province);\n          }\n          area = area.replace(/ (Metropolitan|Local|District) Municipality$/i, '').replace(/^City of /i, '').trim();\n          \n          if (fullStreet || area) {\n            reverseGeocodeCacheRef.current[cacheKey] = { streetAddress: fullStreet, location: area, ts: Date.now() };\n            try { localStorage.setItem('reverse-geocode-cache', JSON.stringify(reverseGeocodeCacheRef.current)); } catch {}\n            return { streetAddress: fullStreet, location: area, source: 'mapbox' };\n          }\n        }\n      }\n\n      // Try geocode.maps.co (Nominatim mirror with CORS enabled)\n      try {\n        const mapsCoResp = await fetch(`https://geocode.maps.co/reverse?lat=${lat}&lon=${lon}`);\n        if (mapsCoResp.ok) {\n          const mapsCoData = await mapsCoResp.json();\n          if (mapsCoData?.address) {\n            const addr = mapsCoData.address;\n            const houseNumber = addr.house_number || '';\n            const road = addr.road || addr.street || '';\n            const suburb = addr.suburb || addr.neighbourhood || '';\n            const street = [houseNumber, road].filter(Boolean).join(' ').trim() || suburb;\n            const area = formatAreaFromAddress(addr) || suburb;\n            if (street || area) {\n              reverseGeocodeCacheRef.current[cacheKey] = { streetAddress: street, location: area, ts: Date.now() };\n              try { localStorage.setItem('reverse-geocode-cache', JSON.stringify(reverseGeocodeCacheRef.current)); } catch {}\n              return { streetAddress: street, location: area, source: 'maps.co' };\n            }\n          }\n        }\n      } catch (mapsCoErr) {\n        console.warn('maps.co reverse geocode failed', mapsCoErr);\n      }\n\n      // Try BigDataCloud (CORS-friendly, no key required)\n      try {\n        const bdcResp = await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lon}&localityLanguage=en`);\n        if (bdcResp.ok) {\n          const bdcData = await bdcResp.json();\n          const formatted = formatBigDataCloudAddress(bdcData);\n          if (formatted.streetAddress || formatted.location) {\n            reverseGeocodeCacheRef.current[cacheKey] = { streetAddress: formatted.streetAddress, location: formatted.location, ts: Date.now() };\n            try { localStorage.setItem('reverse-geocode-cache', JSON.stringify(reverseGeocodeCacheRef.current)); } catch {}\n            return { ...formatted, source: 'bigdatacloud' };\n          }\n        }\n      } catch (bdcErr) {\n        console.warn('BigDataCloud reverse geocode failed', bdcErr);\n      }\n\n      // Try proxy/Nominatim\n      const API_BASE = (process.env.REACT_APP_PROXY_BASE || (window.location && window.location.port === '8443' ? 'https://localhost:4443' : ''));\n      let revData = null;\n      \n      try {\n        const rev = await fetch(`${API_BASE}/api/reverse?lat=${lat}&lon=${lon}`);\n        if (rev.ok) revData = await rev.json();\n      } catch (proxyErr) {\n        console.warn('Proxy reverse geocode failed, trying direct', proxyErr);\n      }\n\n      // Direct Nominatim fallback\n      if (!revData) {\n        try {\n          const direct = await fetchWithCorsFallback(\n            `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}&zoom=18&addressdetails=1`,\n            { headers: { 'Accept': 'application/json', 'User-Agent': 'room-rental-platform/1.0' } }\n          );\n          revData = await direct.json();\n        } catch (directErr) {\n          console.warn('Direct nominatim failed', directErr);\n        }\n      }\n\n      if (revData?.address) {\n        const addr = revData.address;\n        const houseNumber = addr.house_number || '';\n        const road = addr.road || addr.street || '';\n        const suburb = addr.suburb || addr.neighbourhood || '';\n        const street = [houseNumber, road].filter(Boolean).join(' ').trim() || suburb;\n        const area = formatAreaFromAddress(addr) || suburb;\n        \n        if (street || area) {\n          reverseGeocodeCacheRef.current[cacheKey] = { streetAddress: street, location: area, ts: Date.now() };\n          try { localStorage.setItem('reverse-geocode-cache', JSON.stringify(reverseGeocodeCacheRef.current)); } catch {}\n          return { streetAddress: street, location: area, source: 'nominatim' };\n        }\n      }\n    } catch (e) {\n      console.error('Reverse geocode error:', e);\n    }\n    \n    return null; // Failed to geocode\n  };\n\n  // Forward geocode helper for manual address lookups\n  const forwardGeocodeAddress = async (query) => {\n    if (!query || query.trim().length < 3) return [];\n\n    // 1. Mapbox (if configured)\n    if (GEOCODER_PROVIDER === 'mapbox' && GEOCODER_KEY) {\n      try {\n        const resp = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(query)}.json?access_token=${GEOCODER_KEY}&limit=3&country=za&types=address,place,locality`);\n        const data = await resp.json();\n        if (data?.features?.length) {\n          return data.features.map(f => ({\n            lat: f.center ? f.center[1] : f.geometry?.coordinates?.[1],\n            lon: f.center ? f.center[0] : f.geometry?.coordinates?.[0],\n            label: f.place_name || f.text,\n            source: 'mapbox'\n          })).filter(entry => typeof entry.lat === 'number' && typeof entry.lon === 'number');\n        }\n      } catch (err) {\n        console.warn('Mapbox forward geocode failed', err);\n      }\n    }\n\n    // 2. maps.co (CORS-friendly)\n    try {\n      const mapsResp = await fetch(`https://geocode.maps.co/search?q=${encodeURIComponent(query)}&limit=3`);\n      if (mapsResp.ok) {\n        const mapsData = await mapsResp.json();\n        if (Array.isArray(mapsData) && mapsData.length) {\n          return mapsData.slice(0, 3).map(entry => ({\n            lat: parseFloat(entry.lat),\n            lon: parseFloat(entry.lon),\n            label: entry.display_name || entry.name,\n            source: 'maps.co'\n          }));\n        }\n      }\n    } catch (mapsErr) {\n      console.warn('maps.co forward geocode failed', mapsErr);\n    }\n\n    // 3. Local proxy (if running)\n    const API_BASE = (process.env.REACT_APP_PROXY_BASE || (window.location && window.location.port === '8443' ? 'https://localhost:4443' : ''));\n    if (API_BASE) {\n      try {\n        const proxyResp = await fetch(`${API_BASE}/api/search?q=${encodeURIComponent(query)}`);\n        if (proxyResp.ok) {\n          const proxyData = await proxyResp.json();\n          if (Array.isArray(proxyData) && proxyData.length) {\n            return proxyData.slice(0, 3).map(entry => ({\n              lat: parseFloat(entry.lat),\n              lon: parseFloat(entry.lon),\n              label: entry.display_name,\n              source: API_BASE.includes('localhost') ? 'local-proxy' : 'proxy'\n            }));\n          }\n        }\n      } catch (proxyErr) {\n        console.warn('Local proxy forward geocode failed', proxyErr);\n      }\n    }\n\n    // 4. Direct Nominatim fallback (may still be blocked, but last resort)\n    try {\n      const directResp = await fetchWithCorsFallback(`https://nominatim.openstreetmap.org/search?format=json&addressdetails=1&q=${encodeURIComponent(query)}`, {\n        headers: {\n          'User-Agent': 'room-rental-platform/1.0 (direct fallback)',\n          'Accept': 'application/json'\n        }\n      });\n      if (directResp.ok) {\n        const directData = await directResp.json();\n        if (Array.isArray(directData) && directData.length) {\n          return directData.slice(0, 3).map(entry => ({\n            lat: parseFloat(entry.lat),\n            lon: parseFloat(entry.lon),\n            label: entry.display_name,\n            source: 'direct'\n          }));\n        }\n      }\n    } catch (directErr) {\n      console.warn('Direct nominatim forward geocode failed', directErr);\n    }\n\n    return [];\n  };\n\n  const availableAmenities = [\n    'WiFi', 'Parking', 'Kitchen', 'Laundry', 'Air Conditioning', \n    'Heating', 'TV', 'Furnished', 'Pet Friendly', 'Garden'\n  ];\n\n  const validateField = (name, value) => {\n    const newErrors = { ...errors };\n    \n    switch (name) {\n      case 'title':\n        if (!value || value.trim().length < 5) {\n          newErrors.title = 'Title must be at least 5 characters';\n        } else {\n          delete newErrors.title;\n        }\n        break;\n      case 'price':\n        if (!value || parseFloat(value) <= 0) {\n          newErrors.price = 'Price must be greater than 0';\n        } else if (parseFloat(value) < 500) {\n          newErrors.price = 'Price seems too low (minimum R500)';\n        } else if (parseFloat(value) > 50000) {\n          newErrors.price = 'Price seems too high (maximum R50,000)';\n        } else {\n          delete newErrors.price;\n        }\n        break;\n      case 'location': {\n        const streetText = (extras.streetAddress ?? formData.streetAddress ?? '').trim();\n        const areaText = (extras.location ?? value ?? '').trim();\n        if (!streetText || streetText.length < 3) {\n          newErrors.location = 'Add the street or stand number (e.g., 5170 Molefe St)';\n        } else if (!areaText || areaText.length < 3) {\n          newErrors.location = 'Add the suburb, city, and postal code (e.g., Ivory Park, Midrand, 1693)';\n        } else {\n          delete newErrors.location;\n        }\n        break;\n      }\n      case 'description':\n        if (value && value.length > 500) {\n          newErrors.description = 'Description is too long (max 500 characters)';\n        } else {\n          delete newErrors.description;\n        }\n        break;\n      default:\n        break;\n    }\n    \n    setErrors(newErrors);\n  };\n\n  \n\n  // Load persisted reverse geocode cache\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem('reverse-geocode-cache');\n      if (raw) {\n        const parsed = JSON.parse(raw);\n        if (parsed && typeof parsed === 'object') {\n          reverseGeocodeCacheRef.current = parsed;\n        }\n      }\n    } catch (e) { /* ignore */ }\n  }, []);\n\n  // Geocode address using Nominatim (OpenStreetMap)\n  // Use browser geolocation and reverse-geocode to fill address/coords\n  // Helper: format city + province (South Africa) removing verbose municipality suffixes\n  const formatAreaFromAddress = (addr) => {\n    if (!addr) return '';\n    const cleanMunicipality = (val) => {\n      if (!val) return '';\n      return val\n        .replace(/ City of /i, '')\n        .replace(/ (Metropolitan|Local|District) Municipality$/i, '')\n        .trim();\n    };\n    \n    // Prioritize suburb/neighborhood first as it's most specific\n    let suburb = addr.suburb || addr.neighbourhood || '';\n    let city = addr.city || addr.town || addr.village || addr.hamlet || '';\n    let municipality = cleanMunicipality(addr.municipality || '');\n    city = cleanMunicipality(city);\n    \n    // Use suburb if available, otherwise fall back to city, then municipality\n    let primaryArea = suburb || city || municipality;\n    const province = addr.state || '';\n    \n    // Avoid duplication like \"Johannesburg, Johannesburg\"\n    if (province && primaryArea && province.toLowerCase() === primaryArea.toLowerCase()) {\n      return primaryArea;\n    }\n    if (primaryArea && province) return `${primaryArea}, ${province}`;\n    return primaryArea || province || '';\n  };\n\n  const formatBigDataCloudAddress = (data) => {\n    if (!data) return { streetAddress: '', location: '' };\n    const informative = data.localityInfo?.informative || [];\n    const admin = data.localityInfo?.administrative || [];\n\n    const streetCandidate = informative.find((entry) => /road|street|route|drive|avenue|lane|close|crescent/i.test(entry.description || entry.name || ''))\n      || informative.find((entry) => /residential|locality/i.test(entry.description || ''));\n\n    const suburbCandidate = admin.find((entry) => entry.order === 5)\n      || admin.find((entry) => /suburb|township|neighbourhood/i.test(entry.description || ''));\n\n    const cityCandidate = admin.find((entry) => entry.order === 6)\n      || admin.find((entry) => /city|town/i.test(entry.description || ''));\n\n    const streetAddress = streetCandidate?.name || '';\n    const areaParts = [\n      suburbCandidate?.name || data.locality || data.city || '',\n      data.principalSubdivision || cityCandidate?.name || ''\n    ].filter(Boolean);\n\n    return {\n      streetAddress,\n      location: areaParts.filter((val, idx, arr) => val && arr.indexOf(val) === idx).join(', ')\n    };\n  };\n\n  // (Cache ref declared earlier in component; duplicate removed)\n\n  const geolocateCurrentPosition = () => {\n    const insecure = (typeof window !== 'undefined') && !window.isSecureContext && window.location.hostname !== 'localhost';\n    if (insecure) {\n      setGecodingStatus('Location is blocked on HTTP. Use HTTPS to enable.');\n      setLocationHelpBanner('Your browser requires HTTPS to access GPS on mobile. Use the HTTPS link below.');\n      return;\n    }\n    if (!navigator.geolocation) {\n      setGecodingStatus('Geolocation not supported by your browser');\n      setLocationHelpBanner('Location is disabled. Tap for steps to enable.');\n      return;\n    }\n\n    setGecodingStatus('Getting your precise location...');\n    navigator.geolocation.getCurrentPosition(async (pos) => {\n      const lat = pos.coords.latitude;\n      const lon = pos.coords.longitude;\n      const accuracy = pos.coords.accuracy;\n      \n      console.log(`Location obtained: ${lat}, ${lon} (accuracy: ${accuracy}m)`);\n      \n      try {\n        const geocodeResult = await reverseGeocodeCoords(lat, lon);\n        if (geocodeResult) {\n          setFormData(prev => ({\n            ...prev,\n            streetAddress: geocodeResult.streetAddress || prev.streetAddress,\n            location: geocodeResult.location || prev.location,\n            latitude: lat,\n            longitude: lon\n          }));\n          validateField('location', geocodeResult.location || geocodeResult.streetAddress, {\n            location: geocodeResult.location,\n            streetAddress: geocodeResult.streetAddress\n          });\n          setGecodingStatus(` Location set (${accuracy.toFixed(0)}m accuracy)`);\n          setTimeout(() => setGecodingStatus(''), 3000);\n          setLastGeocodeSource(geocodeResult.source || 'manual-geocode');\n          return;\n        }\n      } catch (e) {\n        console.error('Reverse geocode failed', e);\n      }\n\n      // Only use coordinate placeholders if reverse geocoding completely failed\n      setFormData(prev => ({\n        ...prev,\n        latitude: lat,\n        longitude: lon\n      }));\n      setGecodingStatus(` Coordinates captured (${accuracy.toFixed(0)}m accuracy). Add the street or suburb manually while we reconnect to the address service.`);\n      setTimeout(() => setGecodingStatus(''), 3000);\n      setLastGeocodeSource('coords-only');\n    }, (err) => {\n      console.error('Geolocation error', err);\n      if (err && (err.code === 1)) {\n        // PERMISSION_DENIED\n        setGecodingStatus('Permission denied. Allow location access to continue.');\n        setLocationHelpBanner('Tap the lock icon in the address bar and set Location to Allow, then refresh.');\n      } else if (err && (err.code === 2)) {\n        // POSITION_UNAVAILABLE\n        setGecodingStatus('Position unavailable. Check GPS and network, then retry.');\n      } else if (err && (err.code === 3)) {\n        // TIMEOUT\n        setGecodingStatus('Location timed out. Move to open area or retry.');\n      } else {\n        setGecodingStatus('Could not get your location - ' + (err?.message || 'Unknown error'));\n      }\n      setLocationHelpBanner('Location permission denied. Tap here for steps to enable.');\n      setLastGeocodeSource(null);\n    }, { \n      enableHighAccuracy: true, \n      timeout: 15000, \n      maximumAge: 0 \n    });\n  };\n\n  const geocodeAddress = async () => {\n    if (!formData.streetAddress) {\n      setGecodingStatus('Please enter a street address');\n      return;\n    }\n    \n    setGecodingStatus('Finding coordinates...');\n    try {\n      const fullAddress = `${formData.streetAddress}, ${formData.location}, South Africa`;\n      const results = await forwardGeocodeAddress(fullAddress);\n\n      if (results.length > 0) {\n        const best = results[0];\n        setFormData({ \n          ...formData, \n          latitude: parseFloat(best.lat), \n          longitude: parseFloat(best.lon) \n        });\n        setGecodingStatus(` Address found!`);\n        setTimeout(() => setGecodingStatus(''), 2000);\n        setLastGeocodeSource(best.source || 'manual-geocode');\n        return;\n      }\n\n      setGecodingStatus('Address not found. Trying with area only...');\n      const areaResults = await forwardGeocodeAddress(`${formData.location}, South Africa`);\n      if (areaResults.length > 0) {\n        const bestArea = areaResults[0];\n        setFormData({ \n          ...formData, \n          latitude: parseFloat(bestArea.lat), \n          longitude: parseFloat(bestArea.lon) \n        });\n        setGecodingStatus(' Area found!');\n        setTimeout(() => setGecodingStatus(''), 2000);\n        setLastGeocodeSource(bestArea.source || 'manual-geocode');\n      } else {\n        setGecodingStatus('Could not find location');\n      }\n    } catch (error) {\n      console.error('Geocoding error:', error);\n      setGecodingStatus('Error finding address. Check your connection.');\n      setLastGeocodeSource(null);\n    }\n  };\n\n  const toggleAmenity = (amenity) => {\n    if (formData.amenities.includes(amenity)) {\n      setFormData({ ...formData, amenities: formData.amenities.filter(a => a !== amenity) });\n    } else {\n      setFormData({ ...formData, amenities: [...formData.amenities, amenity] });\n    }\n  };\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleSubmit = async () => {\n    // Enforce auth and onboarding checks before allowing submission\n    if (!currentUser) {\n      onRequireAuth && onRequireAuth('landlord');\n      return;\n    }\n    if (userType !== 'landlord') {\n      // prompt to become landlord\n      onRequireAuth && onRequireAuth('landlord');\n      return;\n    }\n    if (!currentUser.landlordComplete) {\n      // send to onboarding\n      onRequireOnboarding && onRequireOnboarding();\n      return;\n    }\n\n    // Validate all fields\n    validateField('title', formData.title);\n    validateField('price', formData.price);\n    validateField('location', formData.location, {\n      location: formData.location,\n      streetAddress: formData.streetAddress\n    });\n    validateField('description', formData.description);\n\n    if (!formData.title || formData.title.trim().length < 5) {\n      setErrors(prev => ({ ...prev, title: 'Title must be at least 5 characters' }));\n      return;\n    }\n    if (!formData.price || parseFloat(formData.price) <= 0) {\n      setErrors(prev => ({ ...prev, price: 'Price must be greater than 0' }));\n      return;\n    }\n    if (!formData.location || formData.location.trim().length < 3) {\n      setErrors(prev => ({ ...prev, location: 'Location is required' }));\n      return;\n    }\n    if (Object.keys(errors).length > 0) {\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      await onSubmit(formData);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Auto-attempt geolocation shortly after mount for landlord convenience\n  useEffect(() => {\n    const shouldAttempt = !formData.latitude && !formData.longitude;\n    if (shouldAttempt) {\n      const t = setTimeout(() => {\n        console.log('Auto-triggering current location detection...');\n        geolocateCurrentPosition();\n      }, 500); // Faster trigger\n      return () => clearTimeout(t);\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData.latitude, formData.longitude]);\n\n  const googleMapsQuery = [formData.streetAddress, formData.location, 'South Africa']\n    .filter(Boolean)\n    .join(', ');\n  const googleMapsUrl = googleMapsQuery\n    ? `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(googleMapsQuery)}`\n    : '';\n  const combinedFormAddress = [formData.streetAddress, formData.location]\n    .map(part => (part || '').trim())\n    .filter(Boolean)\n    .join(', ');\n\n  useEffect(() => {\n    if (isFullAddressEditing) return;\n    setFullAddressInput(prev => (prev === combinedFormAddress ? prev : combinedFormAddress));\n  }, [combinedFormAddress, isFullAddressEditing]);\n\n  const handleFullAddressChange = (value) => {\n    setFullAddressInput(value);\n    if (!value || value.length < 3) {\n      setFormData(prev => ({ ...prev, streetAddress: '', location: '' }));\n      validateField('location', '');\n      return;\n    }\n\n    const parts = value\n      .split(',')\n      .map(part => part.trim())\n      .filter(Boolean);\n\n    if (parts.length === 0) {\n      setFormData(prev => ({ ...prev, streetAddress: '', location: '' }));\n      validateField('location', '');\n      return;\n    }\n\n    let street = parts[0] || '';\n    let derivedLocation = parts.slice(1).join(', ');\n\n    if (!derivedLocation) {\n      const words = street.split(/\\s+/).filter(Boolean);\n      if (words.length >= 4) {\n        // Guess that the last few tokens describe the suburb/city/postal portion.\n        const locationWordCount = Math.min(4, Math.ceil(words.length / 2));\n        derivedLocation = words.slice(-locationWordCount).join(' ');\n        street = words.slice(0, words.length - locationWordCount).join(' ');\n      } else {\n        derivedLocation = street;\n      }\n    }\n\n    setFormData(prev => ({\n      ...prev,\n      streetAddress: street,\n      location: derivedLocation\n    }));\n    validateField('location', derivedLocation || street, {\n      location: derivedLocation,\n      streetAddress: street\n    });\n  };\n\n  return (\n    <div className=\"p-4 bg-gray-50 min-h-screen pb-20\">\n      <div className=\"max-w-3xl mx-auto mt-8\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n          <div className=\"flex items-center justify-between mb-8\">\n            <h2 className=\"text-3xl font-bold text-gray-800\">Post a Room</h2>\n            <button onClick={onCancel} className=\"text-gray-400 hover:text-gray-600 transition\">\n              <X className=\"w-6 h-6\" />\n            </button>\n          </div>\n\n          <div className=\"space-y-6\">\n            {/* Title */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">\n                Room Title *\n                {formData.title && formData.title.trim().length >= 5 && !errors.title && (\n                  <span className=\"ml-2 text-green-600 text-xs\"> Looks good</span>\n                )}\n              </label>\n              <div className=\"relative\">\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.title}\n                  onChange={(e) => {\n                    setFormData({ ...formData, title: e.target.value });\n                    validateField('title', e.target.value);\n                  }}\n                  onBlur={(e) => validateField('title', e.target.value)}\n                  placeholder=\"e.g., Cozy backroom with private bathroom\"\n                  className={`w-full px-4 py-3 pr-10 border ${\n                    errors.title ? 'border-red-500 bg-red-50' : \n                    formData.title && formData.title.trim().length >= 5 ? 'border-green-500 bg-green-50' : \n                    'border-gray-300'\n                  } text-gray-800 rounded-lg focus:ring-2 ${\n                    errors.title ? 'focus:ring-red-500' : 'focus:ring-blue-500'\n                  } focus:border-transparent transition-all placeholder-gray-400`}\n                />\n                {formData.title && formData.title.trim().length >= 5 && !errors.title && (\n                  <CheckCircle className=\"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-green-600\" />\n                )}\n              </div>\n              {errors.title && <p className=\"text-red-500 text-xs mt-1 flex items-center gap-1\"><span></span> {errors.title}</p>}\n            </div>\n\n            {/* Price */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">\n                Monthly Price (R) *\n                {formData.price && parseFloat(formData.price) >= 500 && parseFloat(formData.price) <= 50000 && !errors.price && (\n                  <span className=\"ml-2 text-green-600 text-xs\"> Valid price</span>\n                )}\n              </label>\n              <div className=\"relative\">\n                <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium\">R</span>\n                <input\n                  type=\"number\"\n                  required\n                  value={formData.price}\n                  onChange={(e) => {\n                    setFormData({ ...formData, price: e.target.value });\n                    validateField('price', e.target.value);\n                  }}\n                  onBlur={(e) => validateField('price', e.target.value)}\n                  placeholder=\"2500\"\n                  min=\"500\"\n                  max=\"50000\"\n                  className={`w-full pl-10 pr-4 py-3 border ${\n                    errors.price ? 'border-red-500 bg-red-50' : \n                    formData.price && parseFloat(formData.price) >= 500 && parseFloat(formData.price) <= 50000 ? 'border-green-500 bg-green-50' : \n                    'border-gray-300'\n                  } text-gray-800 rounded-lg focus:ring-2 ${\n                    errors.price ? 'focus:ring-red-500' : 'focus:ring-blue-500'\n                  } focus:border-transparent transition-all placeholder-gray-400`}\n                />\n                {formData.price && parseFloat(formData.price) >= 500 && parseFloat(formData.price) <= 50000 && !errors.price && (\n                  <CheckCircle className=\"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-green-600\" />\n                )}\n              </div>\n              {errors.price && <p className=\"text-red-500 text-xs mt-1 flex items-center gap-1\"><span></span> {errors.price}</p>}\n              {!errors.price && formData.price && (\n                <p className=\"text-gray-500 text-xs mt-1\">Suggested range: R500 - R50,000 per month</p>\n              )}\n            </div>\n\n            {/* Full Address */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-1\">Full South African Address *</label>\n              <p className=\"text-xs text-gray-500 mb-2\">Example: 5170 Molefe St, Ivory Park, Midrand, 1693</p>\n              <textarea\n                required\n                rows=\"2\"\n                value={fullAddressInput}\n                onChange={(e) => handleFullAddressChange(e.target.value)}\n                onFocus={() => setIsFullAddressEditing(true)}\n                onBlur={(e) => { setIsFullAddressEditing(false); handleFullAddressChange(e.target.value); }}\n                placeholder=\"Type the full street + suburb + city + postal code\"\n                className={`w-full px-4 py-3 border ${errors.location ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.location ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.location && <p className=\"text-red-500 text-xs mt-1\" aria-live=\"assertive\">{errors.location}</p>}\n              {!errors.location && (\n                <p className=\"text-gray-500 text-xs mt-1\">\n                  Include the street/stand number plus suburb, city, and postal code. Commas are optional; we will split it for you.\n                </p>\n              )}\n            </div>\n\n            {/* Geocode Section - Prominent Auto-Location */}\n            <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-300 rounded-lg p-6\">\n              <div className=\"flex items-start gap-3 mb-4\">\n                <MapPin className=\"w-6 h-6 text-blue-600 flex-shrink-0 mt-1\" />\n                <div className=\"flex-1\">\n                  <h3 className=\"text-lg font-semibold text-gray-800 mb-1\">Set Your Precise Location</h3>\n                  <p className=\"text-sm text-gray-600\">For best accuracy, use your current GPS location. The exact address will be automatically detected.</p>\n                </div>\n              </div>\n\n              <div className=\"flex flex-wrap gap-3 items-center mb-4\">\n                {locationHelpBanner && (\n                  <div className=\"w-full bg-yellow-50 border-2 border-yellow-200 text-yellow-800 rounded-lg p-3 text-sm flex items-start gap-2\">\n                    <span></span>\n                    <div className=\"flex-1\">\n                      {locationHelpBanner}\n                      <button\n                        type=\"button\"\n                        className=\"ml-2 underline font-semibold\"\n                        onClick={() => window.alert('To enable location: 1) Tap the lock icon in the address bar. 2) Find Location permission. 3) Set to Allow. Then refresh the page.')}\n                      >How to enable</button>\n                    </div>\n                  </div>\n                )}\n                <div className=\"w-full flex items-start gap-2 text-xs text-blue-800 bg-white border border-blue-300 rounded p-3\">\n                  <span className=\"text-lg\"></span>\n                  <span><strong>Recommended:</strong> Click \"Use Current Location\" for GPS accuracy (within meters). You can still fine-tune the street or suburb manually if needed.</span>\n                </div>\n                \n                {/* Primary action - Current Location */}\n                <button\n                  type=\"button\"\n                  onClick={geolocateCurrentPosition}\n                  className=\"w-full md:w-auto bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-8 py-3 rounded-lg font-bold transition shadow-md flex items-center justify-center gap-2 text-base\"\n                >\n                  <MapPin className=\"w-5 h-5\" />\n                  Use Current Location (Recommended)\n                </button>\n\n                {/* Secondary action - Manual address lookup */}\n                <button\n                  type=\"button\"\n                  onClick={geocodeAddress}\n                  className=\"w-full md:w-auto bg-white hover:bg-gray-50 text-gray-700 border-2 border-gray-300 px-6 py-3 rounded-lg text-sm font-semibold transition flex items-center justify-center gap-2\"\n                >\n                  <MapPin className=\"w-4 h-4\" />\n                  Look Up Address\n                </button>\n\n                <div className=\"text-sm flex-1\">\n                  {geocodingStatus && (\n                    <span className={`${geocodingStatus.startsWith('') ? 'text-green-600 font-semibold' : geocodingStatus.startsWith('') ? 'text-blue-600' : geocodingStatus.startsWith('') ? 'text-amber-600' : 'text-gray-700'} flex items-center gap-1`}>\n                      {geocodingStatus.startsWith('') && <CheckCircle className=\"w-4 h-4\" />}\n                      {geocodingStatus}\n                      {lastGeocodeSource === 'cached' && (\n                        <span className=\"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-purple-100 text-purple-600 font-semibold\">CACHED</span>\n                      )}\n                      {lastGeocodeSource === 'mapbox' && (\n                        <span className=\"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-blue-100 text-blue-600 font-semibold\">MAPBOX</span>\n                      )}\n                      {lastGeocodeSource === 'maps.co' && (\n                        <span className=\"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-indigo-100 text-indigo-600 font-semibold\">MAPS.CO</span>\n                      )}\n                      {lastGeocodeSource === 'proxy' && (\n                        <span className=\"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-green-100 text-green-600 font-semibold\">PROXY</span>\n                      )}\n                      {lastGeocodeSource === 'direct' && (\n                        <span className=\"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-yellow-100 text-yellow-700 font-semibold\">FALLBACK</span>\n                      )}\n                      {lastGeocodeSource === 'coords-only' && (\n                        <span className=\"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-red-100 text-red-600 font-semibold\">COORDS ONLY</span>\n                      )}\n                    </span>\n                  )}\n                  {formData.latitude && formData.longitude && !geocodingStatus && (\n                    <span className=\"text-green-600 font-semibold flex items-center gap-1\">\n                      <CheckCircle className=\"w-4 h-4\" />\n                      Location set: {formData.latitude.toFixed(4)}, {formData.longitude.toFixed(4)}\n                      {lastGeocodeSource === 'cached' && (\n                        <span className=\"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-purple-100 text-purple-600 font-semibold\">CACHED</span>\n                      )}\n                      {lastGeocodeSource === 'maps.co' && (\n                        <span className=\"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-indigo-100 text-indigo-600 font-semibold\">MAPS.CO</span>\n                      )}\n                      {lastGeocodeSource === 'coords-only' && (\n                        <span className=\"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-red-100 text-red-600 font-semibold\">COORDS ONLY</span>\n                      )}\n                    </span>\n                  )}\n                  {lastGeocodeSource === 'coords-only' && (\n                    <button\n                      type=\"button\"\n                      onClick={geolocateCurrentPosition}\n                      className=\"mt-2 text-xs font-semibold underline text-blue-700\"\n                    >Retry address lookup</button>\n                  )}\n                  {googleMapsUrl && (\n                    <div className=\"mt-3 bg-white border border-gray-200 rounded-lg p-3 text-xs text-gray-600\">\n                      <span className=\"block text-gray-800 font-semibold mb-1\">Preview this address</span>\n                      <a\n                        href={googleMapsUrl}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"inline-flex items-center gap-2 text-teal-700 font-semibold hover:text-teal-900 underline\"\n                      >\n                        <MapPin className=\"w-3 h-3\" /> Open in Google Maps\n                      </a>\n                      <span className=\"block mt-2 text-[11px] text-gray-500\">Renters will see the same button under your listing.</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n              <div className=\"mt-4 text-sm text-gray-600 bg-white border border-dashed border-gray-300 rounded-lg p-4\">\n                <p className=\"font-semibold text-gray-800 mb-1\">Manual address confirmed</p>\n                <p>Type the exact street above or tap \"Use Current Location\". We capture the text you enter and let renters jump out to Google Maps for directions.</p>\n              </div>\n            </div>\n\n            {/* Status and Available Date - Two columns */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Status</label>\n                <select\n                  value={formData.status}\n                  onChange={(e) => setFormData({ ...formData, status: e.target.value })}\n                  className=\"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                >\n                  <option value=\"available\">Available</option>\n                  <option value=\"rented\">Rented</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Available Date</label>\n                <input\n                  type=\"date\"\n                  value={formData.availableDate}\n                  onChange={(e) => setFormData({ ...formData, availableDate: e.target.value })}\n                  className=\"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                />\n              </div>\n            </div>\n\n            {/* Payment Method */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Payment Method</label>\n              <select\n                value={formData.paymentMethod}\n                onChange={(e) => setFormData({ ...formData, paymentMethod: e.target.value })}\n                className=\"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n              >\n                <option value=\"Bank and Cash\">Bank and Cash</option>\n                <option value=\"Cash Only\">Cash Only</option>\n                <option value=\"Bank Only\">Bank Only</option>\n              </select>\n            </div>\n\n            {/* Room Type and Lease Duration - Two columns */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Room Type</label>\n                <select\n                  value={formData.roomType}\n                  onChange={(e) => setFormData({ ...formData, roomType: e.target.value })}\n                  className=\"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                >\n                  <option value=\"private\">Private Room</option>\n                  <option value=\"shared\">Shared Room</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Lease Duration (months)</label>\n                <select\n                  value={formData.leaseDuration}\n                  onChange={(e) => setFormData({ ...formData, leaseDuration: e.target.value })}\n                  className=\"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                >\n                  <option value=\"1-3\">1-3 months</option>\n                  <option value=\"4-6\">4-6 months</option>\n                  <option value=\"7-12\">7-12 months</option>\n                  <option value=\"12+\">12+ months</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Pet Friendly and Gender Preference */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"flex items-center gap-3\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.petFriendly}\n                  onChange={(e) => setFormData({ ...formData, petFriendly: e.target.checked })}\n                  id=\"petFriendly\"\n                  className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                />\n                <label htmlFor=\"petFriendly\" className=\"text-sm font-medium text-gray-700\">\n                   Pet Friendly\n                </label>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Gender Preference</label>\n                <select\n                  value={formData.genderPreference}\n                  onChange={(e) => setFormData({ ...formData, genderPreference: e.target.value })}\n                  className=\"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                >\n                  <option value=\"any\">Any</option>\n                  <option value=\"male\">Male Only</option>\n                  <option value=\"female\">Female Only</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Premium Flag */}\n            <div className=\"flex items-center gap-3\">\n              <input\n                type=\"checkbox\"\n                checked={!!formData.premium}\n                onChange={(e) => setFormData({ ...formData, premium: e.target.checked })}\n                id=\"premiumFlag\"\n              />\n              <label htmlFor=\"premiumFlag\" className=\"text-sm font-medium text-gray-700\">\n                Premium listing (highlight & priority sorting)\n              </label>\n            </div>\n\n            {/* Description */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">\n                Description \n                {formData.description && (\n                  <span className={`ml-2 text-xs ${formData.description.length > 500 ? 'text-red-500' : 'text-gray-500'}`}>\n                    ({formData.description.length}/500 characters)\n                  </span>\n                )}\n              </label>\n              <textarea\n                value={formData.description}\n                onChange={(e) => {\n                  setFormData({ ...formData, description: e.target.value });\n                  validateField('description', e.target.value);\n                }}\n                onBlur={(e) => validateField('description', e.target.value)}\n                placeholder=\"Describe the room, amenities, rules, and any other details...\"\n                rows=\"4\"\n                className={`w-full px-4 py-3 border ${errors.description ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.description ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.description && <p className=\"text-red-500 text-xs mt-1\">{errors.description}</p>}\n            </div>\n\n            {/* Amenities */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-3\">Amenities</label>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n                {availableAmenities.map(amenity => (\n                  <button\n                    key={amenity}\n                    type=\"button\"\n                    onClick={() => toggleAmenity(amenity)}\n                    className={`px-4 py-2 rounded-lg text-sm font-medium transition ${\n                      formData.amenities.includes(amenity)\n                        ? 'bg-blue-600 text-white shadow-sm'\n                        : 'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'\n                    }`}\n                  >\n                    {amenity}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Photos */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Photos (Max 5)</label>\n              <div className=\"flex gap-2\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPhotoEditor(true)}\n                  className=\"flex-1 px-4 py-3 border-2 border-dashed border-gray-300 bg-gray-50 text-gray-700 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition font-medium\"\n                >\n                  {formData.photos.length === 0 ? ' Add Photos' : ` Edit Photos (${formData.photos.length}/5)`}\n                </button>\n              </div>\n              {formData.photos.length > 0 && (\n                <div className=\"mt-4 grid grid-cols-2 md:grid-cols-3 gap-3\">\n                  {formData.photos.map((photo, index) => (\n                    <div key={index} className=\"relative group\">\n                      {index === 0 && (\n                        <div className=\"absolute top-2 left-2 bg-blue-600 text-white text-xs px-2 py-1 rounded-full font-semibold z-10\">\n                          Cover\n                        </div>\n                      )}\n                      <img \n                        src={photo} \n                        alt={`Preview ${index + 1}`} \n                        className=\"w-full h-32 object-cover rounded-lg border border-gray-200 shadow-sm\" \n                      />\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {showPhotoEditor && (\n              <PhotoEditor\n                photos={formData.photos}\n                onPhotosChange={(newPhotos) => setFormData({ ...formData, photos: newPhotos })}\n                onClose={() => setShowPhotoEditor(false)}\n                maxPhotos={5}\n              />\n            )}\n\n            {/* Submit Button */}\n            <div className=\"border-t border-gray-200 pt-6\">\n              <button\n                onClick={handleSubmit}\n                disabled={isSubmitting || Object.keys(errors).length > 0}\n                className={`w-full font-semibold py-3 rounded-lg transition shadow-sm relative ${\n                  isSubmitting || Object.keys(errors).length > 0\n                    ? 'bg-gray-400 cursor-not-allowed'\n                    : 'bg-blue-600 hover:bg-blue-700 text-white'\n                }`}\n              >\n                {isSubmitting ? (\n                  <>\n                    <span className=\"opacity-0\">Post Room</span>\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\n                      <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                    </div>\n                  </>\n                ) : (\n                  'Post Room'\n                )}\n              </button>\n              {Object.keys(errors).length > 0 && (\n                <p className=\"text-red-500 text-xs mt-2 text-center\">Please fix the errors above before submitting</p>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// MessagesView removed - using direct contact instead\n\nfunction MyListingsView({ listings, onDelete }) {\n  return (\n    <div className=\"p-4\">\n      <h2 className=\"text-2xl font-bold mb-4 text-gray-800\">My Listings</h2>\n      <div className=\"space-y-4\">\n        {listings.length === 0 ? (\n          <div className=\"bg-gradient-to-br from-blue-50 to-teal-50 rounded-xl shadow-sm p-12 text-center border border-blue-100\">\n            <div className=\"bg-white w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 shadow-md\">\n              <Home className=\"w-12 h-12 text-blue-500\" />\n            </div>\n            <h3 className=\"text-xl font-bold text-gray-800 mb-2\">No Listings Yet</h3>\n            <p className=\"text-gray-600 mb-6 max-w-md mx-auto\">\n              Start earning by posting your first room. It only takes a few minutes!\n            </p>\n            <button\n              onClick={() => window.location.hash = '#add'}\n              className=\"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-lg transition shadow-md hover:shadow-lg\"\n            >\n              <PlusCircle className=\"w-5 h-5\" />\n              Post Your First Room\n            </button>\n          </div>\n        ) : (\n          listings.map(listing => (\n            <div key={listing.id} className=\"bg-white rounded-lg shadow p-4\">\n{listing.photos && listing.photos.length > 0 && (\n  <div className=\"relative mb-3\">\n    <img src={listing.photos[0]} alt=\"Room\" className=\"w-full h-32 object-cover rounded-lg\" />\n    {listing.photos.length > 1 && (\n      <div className=\"absolute top-2 right-2 bg-black bg-opacity-60 text-white px-2 py-1 rounded text-xs\">\n        {listing.photos.length} photos\n      </div>\n    )}\n  </div>\n)}\n              <h3 className=\"font-bold text-lg mb-1\">{listing.title}</h3>\n              <div className=\"text-blue-600 font-bold mb-2\">R{listing.price}/month</div>\n              <div className=\"flex items-center text-gray-600 text-sm mb-3\">\n                <MapPin className=\"w-4 h-4 mr-1\" />\n                {listing.location}\n              </div>\n              <button\n                onClick={() => onDelete(listing.id)}\n                className=\"w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg transition\"\n              >\n                Delete Listing\n              </button>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n\n\n// Inline message box component with validation for listing detail view\n// ListingInlineMessageBox removed\n\n// ConversationModal removed\n\nfunction AuthModal({ defaultType = 'renter', onClose, onSubmit }) {\n  const [form, setForm] = useState({ name: '', phone: '', email: '', type: defaultType, photo: '' });\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const validateForm = () => {\n    const newErrors = {};\n    if (!form.name || form.name.trim().length < 2) {\n      newErrors.name = 'Name must be at least 2 characters';\n    }\n    if (!form.email || !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.email)) {\n      newErrors.email = 'Please enter a valid email address';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async () => {\n    if (!validateForm()) return;\n    setIsSubmitting(true);\n    try {\n      await onSubmit(form);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-start sm:items-center justify-center p-4 pt-16 sm:pt-4 z-50 overflow-y-auto\">\n      <div className=\"bg-white rounded-2xl w-full max-w-md p-6 my-auto shadow-2xl fade-in\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h3 className=\"text-xl font-bold text-gray-800\">Welcome to Room24</h3>\n            <p className=\"text-sm text-gray-500 mt-1\">Sign in or create an account</p>\n          </div>\n          <button \n            onClick={onClose} \n            className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        <div className=\"space-y-4\">\n          {/* Name */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-1.5\">Full name *</label>\n            <input \n              type=\"text\" \n              value={form.name} \n              onChange={(e) => { setForm({ ...form, name: e.target.value }); setErrors({ ...errors, name: '' }); }}\n              className={`w-full px-4 py-2.5 border-2 rounded-lg transition-all focus:ring-2 focus:ring-blue-100 focus:border-blue-500 ${\n                errors.name ? 'border-red-400 bg-red-50' : 'border-gray-200 hover:border-gray-300'\n              }`}\n              placeholder=\"John Doe\"\n            />\n            {errors.name && <p className=\"text-red-500 text-xs mt-1\">{errors.name}</p>}\n          </div>\n\n          {/* Email */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-1.5\">Email *</label>\n            <input \n              type=\"email\" \n              value={form.email} \n              onChange={(e) => { setForm({ ...form, email: e.target.value }); setErrors({ ...errors, email: '' }); }}\n              className={`w-full px-4 py-2.5 border-2 rounded-lg transition-all focus:ring-2 focus:ring-blue-100 focus:border-blue-500 ${\n                errors.email ? 'border-red-400 bg-red-50' : 'border-gray-200 hover:border-gray-300'\n              }`}\n              placeholder=\"john@example.com\"\n            />\n            {errors.email && <p className=\"text-red-500 text-xs mt-1\">{errors.email}</p>}\n          </div>\n\n          {/* Phone */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\n              Phone <span className=\"text-gray-400 font-normal\">(optional)</span>\n            </label>\n            <input \n              type=\"tel\" \n              value={form.phone} \n              onChange={(e) => setForm({ ...form, phone: e.target.value })}\n              className=\"w-full px-4 py-2.5 border-2 border-gray-200 hover:border-gray-300 rounded-lg transition-all focus:ring-2 focus:ring-blue-100 focus:border-blue-500\"\n              placeholder=\"+27 12 345 6789\"\n            />\n          </div>\n\n          {/* User Type */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-1.5\">I am a</label>\n            <div className=\"grid grid-cols-2 gap-3\">\n              <button\n                type=\"button\"\n                onClick={() => setForm({ ...form, type: 'renter' })}\n                className={`p-3 rounded-lg border-2 transition-all flex flex-col items-center gap-1 ${\n                  form.type === 'renter' \n                    ? 'border-blue-500 bg-blue-50 text-blue-700' \n                    : 'border-gray-200 hover:border-gray-300 text-gray-600'\n                }`}\n              >\n                <Search className=\"w-5 h-5\" />\n                <span className=\"text-sm font-medium\">Looking for a room</span>\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setForm({ ...form, type: 'landlord' })}\n                className={`p-3 rounded-lg border-2 transition-all flex flex-col items-center gap-1 ${\n                  form.type === 'landlord' \n                    ? 'border-blue-500 bg-blue-50 text-blue-700' \n                    : 'border-gray-200 hover:border-gray-300 text-gray-600'\n                }`}\n              >\n                <Home className=\"w-5 h-5\" />\n                <span className=\"text-sm font-medium\">Listing rooms</span>\n              </button>\n            </div>\n          </div>\n\n          {/* Buttons */}\n          <div className=\"flex gap-3 pt-4\">\n            <button \n              onClick={onClose} \n              className=\"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2.5 rounded-lg transition\"\n            >\n              Cancel\n            </button>\n            <button \n              onClick={handleSubmit}\n              disabled={isSubmitting}\n              className={`flex-1 font-semibold py-2.5 rounded-lg transition-all relative ${\n                isSubmitting ? 'bg-blue-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700 text-white hover:shadow-lg'\n              }`}\n            >\n              {isSubmitting ? (\n                <>\n                  <span className=\"opacity-0\">Continue</span>\n                  <div className=\"absolute inset-0 flex items-center justify-center\">\n                    <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                  </div>\n                </>\n              ) : (\n                'Continue'\n              )}\n            </button>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <p className=\"text-xs text-gray-400 text-center mt-6\">\n          By continuing, you agree to our Terms of Service and Privacy Policy\n        </p>\n      </div>\n    </div>\n  );\n}\n\nfunction LocationConsentModal({ onAccept, onDecline }) {\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-lg max-w-md w-full p-6 shadow-xl\">\n        <div className=\"flex items-center gap-3 mb-4\">\n          <MapPin className=\"w-8 h-8 text-blue-600\" />\n          <h3 className=\"text-xl font-bold text-gray-800\">Location Access</h3>\n        </div>\n        \n        <p className=\"text-gray-600 mb-4\">\n          Room24 would like to access your location to show nearby rental listings. Your location data:\n        </p>\n        \n        <ul className=\"text-sm text-gray-600 mb-6 space-y-2\">\n          <li className=\"flex items-start gap-2\">\n            <span className=\"text-green-600 mt-0.5\"></span>\n            <span>Is only used to calculate distances to listings</span>\n          </li>\n          <li className=\"flex items-start gap-2\">\n            <span className=\"text-green-600 mt-0.5\"></span>\n            <span>Is not stored on our servers</span>\n          </li>\n          <li className=\"flex items-start gap-2\">\n            <span className=\"text-green-600 mt-0.5\"></span>\n            <span>Is not shared with third parties</span>\n          </li>\n        </ul>\n\n        <div className=\"flex gap-3\">\n          <button\n            onClick={onDecline}\n            className=\"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 rounded-lg transition\"\n          >\n            Not Now\n          </button>\n          <button\n            onClick={onAccept}\n            className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition\"\n          >\n            Allow\n          </button>\n        </div>\n        \n        <p className=\"text-xs text-gray-500 mt-4 text-center\">\n          You can change this permission anytime in your browser settings.\n        </p>\n      </div>\n    </div>\n  );\n}\n\nfunction BottomNav({ currentView, setCurrentView, userType }) {\n  const navItems = [\n    { id: 'browse', label: 'Browse', icon: <Search className=\"w-5 h-5\" /> },\n    { id: 'add', label: 'List Room', icon: <PlusCircle className=\"w-5 h-5\" />, requiresLandlord: true },\n    { id: 'my-rooms', label: 'My Rooms', icon: <Home className=\"w-5 h-5\" /> },\n    { id: 'profile', label: 'Profile', icon: <User className=\"w-5 h-5\" /> }\n  ];\n\n  return (\n    <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 z-20 md:hidden\">\n      <div className=\"grid grid-cols-4 gap-2\">\n        {navItems.map(item => {\n          const disabled = item.requiresLandlord && userType !== 'landlord';\n          const isActive = currentView === item.id;\n          return (\n            <button\n              key={item.id}\n              type=\"button\"\n              disabled={disabled}\n              onClick={() => !disabled && setCurrentView(item.id)}\n              className={`flex flex-col items-center gap-1 py-1.5 rounded-xl transition-all ${disabled ? 'opacity-40 cursor-not-allowed' : 'hover:text-blue-600'} ${isActive ? 'text-blue-600 font-semibold bg-blue-50' : 'text-gray-500'}`}\n            >\n              {item.icon}\n              <span className=\"text-xs\">{item.label}</span>\n            </button>\n          );\n        })}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}