{"ast":null,"code":"import _objectSpread from\"C:/Users/kutum/Documents/room-rental-platform/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Smart notification engine for saved searches and price drops\nconst STORAGE_KEY_SAVED_SEARCHES='saved-searches';const STORAGE_KEY_NOTIFICATIONS='notifications';const STORAGE_KEY_LISTING_SNAPSHOTS='listing-snapshots';export function getSavedSearches(){try{const raw=localStorage.getItem(STORAGE_KEY_SAVED_SEARCHES);return raw?JSON.parse(raw):[];}catch(_unused){return[];}}export function saveSearch(criteria){try{const searches=getSavedSearches();const entry=_objectSpread(_objectSpread({id:Date.now()},criteria),{},{createdAt:Date.now()});searches.push(entry);localStorage.setItem(STORAGE_KEY_SAVED_SEARCHES,JSON.stringify(searches));return entry;}catch(e){console.error('Failed to save search',e);return null;}}export function deleteSavedSearch(id){try{const searches=getSavedSearches().filter(s=>s.id!==id);localStorage.setItem(STORAGE_KEY_SAVED_SEARCHES,JSON.stringify(searches));}catch(e){console.error('Failed to delete saved search',e);}}export function getNotifications(){try{const raw=localStorage.getItem(STORAGE_KEY_NOTIFICATIONS);return raw?JSON.parse(raw):[];}catch(_unused2){return[];}}export function addNotification(notification){try{const notifications=getNotifications();const entry=_objectSpread(_objectSpread({id:Date.now()},notification),{},{timestamp:Date.now(),read:false});notifications.unshift(entry);// newest first\n// Keep last 50\nconst trimmed=notifications.slice(0,50);localStorage.setItem(STORAGE_KEY_NOTIFICATIONS,JSON.stringify(trimmed));return entry;}catch(e){console.error('Failed to add notification',e);return null;}}export function markNotificationRead(id){try{const notifications=getNotifications();const item=notifications.find(n=>n.id===id);if(item){item.read=true;localStorage.setItem(STORAGE_KEY_NOTIFICATIONS,JSON.stringify(notifications));}}catch(e){console.error('Failed to mark notification read',e);}}export function clearNotifications(){try{localStorage.setItem(STORAGE_KEY_NOTIFICATIONS,JSON.stringify([]));}catch(e){console.error('Failed to clear notifications',e);}}// Check for new listings that match saved searches\nexport function checkNewListings(currentListings,savedSearches){const notifications=[];const snapshots=getListingSnapshots();currentListings.forEach(listing=>{const key=listing.id||\"\".concat(listing.title,\"-\").concat(listing.createdAt);if(snapshots[key])return;// already seen\n// Check each saved search\nsavedSearches.forEach(search=>{if(matchesSearch(listing,search)){notifications.push({type:'new-listing',title:'New Listing Match',body:\"\\\"\".concat(listing.title,\"\\\" matches your saved search in \").concat(search.location||'your area'),listingId:key,searchId:search.id});}});});// Update snapshots with current listings\ncurrentListings.forEach(listing=>{const key=listing.id||\"\".concat(listing.title,\"-\").concat(listing.createdAt);snapshots[key]={price:listing.price,timestamp:Date.now()};});saveListingSnapshots(snapshots);return notifications;}// Check for price drops on favorites\nexport function checkPriceDrops(currentListings,favorites){const notifications=[];const snapshots=getListingSnapshots();currentListings.forEach(listing=>{const key=listing.id||\"\".concat(listing.title,\"-\").concat(listing.createdAt);if(!favorites.includes(key))return;// not a favorite\nconst snap=snapshots[key];if(snap&&snap.price>listing.price){const drop=snap.price-listing.price;notifications.push({type:'price-drop',title:'Price Drop Alert',body:\"\\\"\".concat(listing.title,\"\\\" dropped by R\").concat(drop,\" to R\").concat(listing.price,\"/month\"),listingId:key,oldPrice:snap.price,newPrice:listing.price});}});// Update snapshots\ncurrentListings.forEach(listing=>{const key=listing.id||\"\".concat(listing.title,\"-\").concat(listing.createdAt);snapshots[key]={price:listing.price,timestamp:Date.now()};});saveListingSnapshots(snapshots);return notifications;}function matchesSearch(listing,search){// Location match (basic substring)\nif(search.location&&!listing.location.toLowerCase().includes(search.location.toLowerCase())){return false;}// Price range\nif(search.priceMin!==undefined&&listing.price<search.priceMin)return false;if(search.priceMax!==undefined&&listing.price>search.priceMax)return false;// Amenities\nif(search.amenities&&search.amenities.length>0){const listingAmenities=listing.amenities||[];const hasAll=search.amenities.every(a=>listingAmenities.includes(a));if(!hasAll)return false;}return true;}function getListingSnapshots(){try{const raw=localStorage.getItem(STORAGE_KEY_LISTING_SNAPSHOTS);return raw?JSON.parse(raw):{};}catch(_unused3){return{};}}function saveListingSnapshots(snapshots){try{localStorage.setItem(STORAGE_KEY_LISTING_SNAPSHOTS,JSON.stringify(snapshots));}catch(e){console.error('Failed to save listing snapshots',e);}}","map":{"version":3,"names":["STORAGE_KEY_SAVED_SEARCHES","STORAGE_KEY_NOTIFICATIONS","STORAGE_KEY_LISTING_SNAPSHOTS","getSavedSearches","raw","localStorage","getItem","JSON","parse","_unused","saveSearch","criteria","searches","entry","_objectSpread","id","Date","now","createdAt","push","setItem","stringify","e","console","error","deleteSavedSearch","filter","s","getNotifications","_unused2","addNotification","notification","notifications","timestamp","read","unshift","trimmed","slice","markNotificationRead","item","find","n","clearNotifications","checkNewListings","currentListings","savedSearches","snapshots","getListingSnapshots","forEach","listing","key","concat","title","search","matchesSearch","type","body","location","listingId","searchId","price","saveListingSnapshots","checkPriceDrops","favorites","includes","snap","drop","oldPrice","newPrice","toLowerCase","priceMin","undefined","priceMax","amenities","length","listingAmenities","hasAll","every","a","_unused3"],"sources":["C:/Users/kutum/Documents/room-rental-platform/src/utils/notificationEngine.js"],"sourcesContent":["// Smart notification engine for saved searches and price drops\r\n\r\nconst STORAGE_KEY_SAVED_SEARCHES = 'saved-searches';\r\nconst STORAGE_KEY_NOTIFICATIONS = 'notifications';\r\nconst STORAGE_KEY_LISTING_SNAPSHOTS = 'listing-snapshots';\r\n\r\nexport function getSavedSearches() {\r\n  try {\r\n    const raw = localStorage.getItem(STORAGE_KEY_SAVED_SEARCHES);\r\n    return raw ? JSON.parse(raw) : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nexport function saveSearch(criteria) {\r\n  try {\r\n    const searches = getSavedSearches();\r\n    const entry = {\r\n      id: Date.now(),\r\n      ...criteria,\r\n      createdAt: Date.now(),\r\n    };\r\n    searches.push(entry);\r\n    localStorage.setItem(STORAGE_KEY_SAVED_SEARCHES, JSON.stringify(searches));\r\n    return entry;\r\n  } catch (e) {\r\n    console.error('Failed to save search', e);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function deleteSavedSearch(id) {\r\n  try {\r\n    const searches = getSavedSearches().filter(s => s.id !== id);\r\n    localStorage.setItem(STORAGE_KEY_SAVED_SEARCHES, JSON.stringify(searches));\r\n  } catch (e) {\r\n    console.error('Failed to delete saved search', e);\r\n  }\r\n}\r\n\r\nexport function getNotifications() {\r\n  try {\r\n    const raw = localStorage.getItem(STORAGE_KEY_NOTIFICATIONS);\r\n    return raw ? JSON.parse(raw) : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nexport function addNotification(notification) {\r\n  try {\r\n    const notifications = getNotifications();\r\n    const entry = {\r\n      id: Date.now(),\r\n      ...notification,\r\n      timestamp: Date.now(),\r\n      read: false,\r\n    };\r\n    notifications.unshift(entry); // newest first\r\n    // Keep last 50\r\n    const trimmed = notifications.slice(0, 50);\r\n    localStorage.setItem(STORAGE_KEY_NOTIFICATIONS, JSON.stringify(trimmed));\r\n    return entry;\r\n  } catch (e) {\r\n    console.error('Failed to add notification', e);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function markNotificationRead(id) {\r\n  try {\r\n    const notifications = getNotifications();\r\n    const item = notifications.find(n => n.id === id);\r\n    if (item) {\r\n      item.read = true;\r\n      localStorage.setItem(STORAGE_KEY_NOTIFICATIONS, JSON.stringify(notifications));\r\n    }\r\n  } catch (e) {\r\n    console.error('Failed to mark notification read', e);\r\n  }\r\n}\r\n\r\nexport function clearNotifications() {\r\n  try {\r\n    localStorage.setItem(STORAGE_KEY_NOTIFICATIONS, JSON.stringify([]));\r\n  } catch (e) {\r\n    console.error('Failed to clear notifications', e);\r\n  }\r\n}\r\n\r\n// Check for new listings that match saved searches\r\nexport function checkNewListings(currentListings, savedSearches) {\r\n  const notifications = [];\r\n  const snapshots = getListingSnapshots();\r\n  \r\n  currentListings.forEach(listing => {\r\n    const key = listing.id || `${listing.title}-${listing.createdAt}`;\r\n    if (snapshots[key]) return; // already seen\r\n    \r\n    // Check each saved search\r\n    savedSearches.forEach(search => {\r\n      if (matchesSearch(listing, search)) {\r\n        notifications.push({\r\n          type: 'new-listing',\r\n          title: 'New Listing Match',\r\n          body: `\"${listing.title}\" matches your saved search in ${search.location || 'your area'}`,\r\n          listingId: key,\r\n          searchId: search.id,\r\n        });\r\n      }\r\n    });\r\n  });\r\n  \r\n  // Update snapshots with current listings\r\n  currentListings.forEach(listing => {\r\n    const key = listing.id || `${listing.title}-${listing.createdAt}`;\r\n    snapshots[key] = {\r\n      price: listing.price,\r\n      timestamp: Date.now(),\r\n    };\r\n  });\r\n  saveListingSnapshots(snapshots);\r\n  \r\n  return notifications;\r\n}\r\n\r\n// Check for price drops on favorites\r\nexport function checkPriceDrops(currentListings, favorites) {\r\n  const notifications = [];\r\n  const snapshots = getListingSnapshots();\r\n  \r\n  currentListings.forEach(listing => {\r\n    const key = listing.id || `${listing.title}-${listing.createdAt}`;\r\n    if (!favorites.includes(key)) return; // not a favorite\r\n    \r\n    const snap = snapshots[key];\r\n    if (snap && snap.price > listing.price) {\r\n      const drop = snap.price - listing.price;\r\n      notifications.push({\r\n        type: 'price-drop',\r\n        title: 'Price Drop Alert',\r\n        body: `\"${listing.title}\" dropped by R${drop} to R${listing.price}/month`,\r\n        listingId: key,\r\n        oldPrice: snap.price,\r\n        newPrice: listing.price,\r\n      });\r\n    }\r\n  });\r\n  \r\n  // Update snapshots\r\n  currentListings.forEach(listing => {\r\n    const key = listing.id || `${listing.title}-${listing.createdAt}`;\r\n    snapshots[key] = {\r\n      price: listing.price,\r\n      timestamp: Date.now(),\r\n    };\r\n  });\r\n  saveListingSnapshots(snapshots);\r\n  \r\n  return notifications;\r\n}\r\n\r\nfunction matchesSearch(listing, search) {\r\n  // Location match (basic substring)\r\n  if (search.location && !listing.location.toLowerCase().includes(search.location.toLowerCase())) {\r\n    return false;\r\n  }\r\n  \r\n  // Price range\r\n  if (search.priceMin !== undefined && listing.price < search.priceMin) return false;\r\n  if (search.priceMax !== undefined && listing.price > search.priceMax) return false;\r\n  \r\n  // Amenities\r\n  if (search.amenities && search.amenities.length > 0) {\r\n    const listingAmenities = listing.amenities || [];\r\n    const hasAll = search.amenities.every(a => listingAmenities.includes(a));\r\n    if (!hasAll) return false;\r\n  }\r\n  \r\n  return true;\r\n}\r\n\r\nfunction getListingSnapshots() {\r\n  try {\r\n    const raw = localStorage.getItem(STORAGE_KEY_LISTING_SNAPSHOTS);\r\n    return raw ? JSON.parse(raw) : {};\r\n  } catch {\r\n    return {};\r\n  }\r\n}\r\n\r\nfunction saveListingSnapshots(snapshots) {\r\n  try {\r\n    localStorage.setItem(STORAGE_KEY_LISTING_SNAPSHOTS, JSON.stringify(snapshots));\r\n  } catch (e) {\r\n    console.error('Failed to save listing snapshots', e);\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}