{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kutum\\\\Documents\\\\room-rental-platform\\\\src\\\\components\\\\BrowseView.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Search, PlusCircle, Home, User, MapPin } from 'lucide-react';\nimport ListingCard from './ListingCard';\nimport ListingSkeletonCard from './ListingSkeletonCard';\nimport MapView from '../MapView';\nimport { SidebarAd, InFeedAd } from './AdBanner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BrowseView({\n  listings,\n  searchLocation,\n  setSearchLocation,\n  priceRange,\n  setPriceRange,\n  selectedAmenities,\n  setSelectedAmenities,\n  sortBy,\n  setSortBy,\n  mapView,\n  setMapView,\n  onSelectListing,\n  setCurrentView,\n  currentUser,\n  onRequireAuth,\n  subscribeToArea,\n  onFindNearby,\n  nearbyRadius,\n  setNearbyRadius,\n  nearbyMode,\n  clearNearby,\n  userLocation,\n  nearbyStatus,\n  previewMode\n}) {\n  _s();\n  const [showAdvancedFilters, setShowAdvancedFilters] = useState(false);\n  const [isDesktop, setIsDesktop] = useState(typeof window !== 'undefined' ? window.innerWidth >= 1024 : false);\n  const [paymentFilter, setPaymentFilter] = useState('');\n  const [locationTip, setLocationTip] = useState('');\n  const [locationSuggestions, setLocationSuggestions] = useState([]);\n  const [locationLoading, setLocationLoading] = useState(false);\n  const [savedSearches, setSavedSearches] = useState([]);\n  const [initialLoad, setInitialLoad] = useState(true);\n  const suggestionCacheRef = React.useRef({}); // cache: { queryLower: { data: [...], ts } }\n  const SUGGESTION_TTL_MS = 15 * 60 * 1000; // 15 minutes\n  // Restore persisted lightweight filters\n  useEffect(() => {\n    try {\n      const storedPayment = localStorage.getItem('filter-payment');\n      if (storedPayment) setPaymentFilter(storedPayment);\n      const storedRadius = localStorage.getItem('filter-nearby-radius');\n      if (storedRadius && !isNaN(parseInt(storedRadius))) setNearbyRadius(parseInt(storedRadius));\n      const storedPriceMin = localStorage.getItem('filter-price-min');\n      const storedPriceMax = localStorage.getItem('filter-price-max');\n      if (storedPriceMin && !isNaN(parseInt(storedPriceMin)) && storedPriceMax && !isNaN(parseInt(storedPriceMax))) {\n        setPriceRange([parseInt(storedPriceMin), parseInt(storedPriceMax)]);\n      }\n      const storedAmenities = localStorage.getItem('filter-amenities');\n      if (storedAmenities) {\n        try {\n          const arr = JSON.parse(storedAmenities);\n          if (Array.isArray(arr)) setSelectedAmenities(arr);\n        } catch {}\n      }\n      const rawSaved = localStorage.getItem('saved-searches');\n      if (rawSaved) {\n        try {\n          const arr = JSON.parse(rawSaved);\n          if (Array.isArray(arr)) setSavedSearches(arr);\n        } catch {}\n      }\n    } catch (e) {\n      // ignore storage errors\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    const t = setTimeout(() => setInitialLoad(false), 600);\n    return () => clearTimeout(t);\n  }, []);\n  useEffect(() => {\n    const handleResize = () => setIsDesktop(window.innerWidth >= 1024);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Persist changes\n  useEffect(() => {\n    try {\n      localStorage.setItem('filter-payment', paymentFilter);\n    } catch {}\n  }, [paymentFilter]);\n  useEffect(() => {\n    try {\n      localStorage.setItem('filter-nearby-radius', String(nearbyRadius));\n    } catch {}\n  }, [nearbyRadius]);\n  useEffect(() => {\n    try {\n      localStorage.setItem('filter-price-min', String(priceRange[0]));\n      localStorage.setItem('filter-price-max', String(priceRange[1]));\n    } catch {}\n  }, [priceRange]);\n  useEffect(() => {\n    try {\n      localStorage.setItem('filter-amenities', JSON.stringify(selectedAmenities));\n    } catch {}\n  }, [selectedAmenities]);\n\n  // Debounced provider-aware suggestions with caching & geolocation bias\n  useEffect(() => {\n    const raw = (searchLocation || '').trim();\n    if (raw.length < 3) {\n      setLocationSuggestions([]);\n      setLocationLoading(false);\n      return;\n    }\n    const key = (process.env.REACT_APP_GEOCODER_API_KEY || '').trim();\n    const provider = (process.env.REACT_APP_GEOCODER_PROVIDER || '').toLowerCase();\n    const qLower = raw.toLowerCase();\n    const cached = suggestionCacheRef.current[qLower];\n    if (cached && Date.now() - cached.ts < SUGGESTION_TTL_MS) {\n      setLocationSuggestions(cached.data);\n      return; // serve cache, skip network\n    }\n    const controller = new AbortController();\n    setLocationLoading(true);\n    const t = setTimeout(async () => {\n      try {\n        let suggestions = [];\n        if (provider === 'mapbox' && key) {\n          const proximity = userLocation ? `&proximity=${userLocation.lon},${userLocation.lat}` : '';\n          const url = `https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(raw)}.json?access_token=${key}&limit=5&country=ZA&language=en${proximity}&types=place,locality,neighborhood`;\n          const resp = await fetch(url, {\n            signal: controller.signal\n          });\n          const data = await resp.json();\n          if (data && Array.isArray(data.features)) {\n            suggestions = data.features.map(f => f.place_name).filter(Boolean);\n          }\n        } else {\n          // Nominatim fallback with optional viewbox bias\n          let biasParams = '';\n          if (userLocation) {\n            const delta = 0.2; // ~20km\n            const minLon = userLocation.lon - delta;\n            const maxLon = userLocation.lon + delta;\n            const minLat = userLocation.lat - delta;\n            const maxLat = userLocation.lat + delta;\n            biasParams = `&bounded=1&viewbox=${minLon},${maxLat},${maxLon},${minLat}`;\n          }\n          const url = `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(raw + ', South Africa')}&limit=5${biasParams}`;\n          const resp = await fetch(url, {\n            signal: controller.signal,\n            headers: {\n              'Accept-Language': 'en'\n            }\n          });\n          const data = await resp.json();\n          const uniq = [];\n          data.forEach(item => {\n            const display = item.display_name || '';\n            const parts = display.split(',').map(p => p.trim());\n            const area = parts.slice(0, 2).join(', ');\n            if (area && !uniq.includes(area)) uniq.push(area);\n          });\n          suggestions = uniq.slice(0, 5);\n        }\n        suggestionCacheRef.current[qLower] = {\n          data: suggestions,\n          ts: Date.now()\n        };\n        setLocationSuggestions(suggestions);\n      } catch (e) {\n        setLocationSuggestions([]);\n      } finally {\n        setLocationLoading(false);\n      }\n    }, 450);\n    return () => {\n      clearTimeout(t);\n      controller.abort();\n    };\n  }, [searchLocation, userLocation, SUGGESTION_TTL_MS]);\n\n  // Sidebar navigation items (desktop only)\n  const desktopNavItems = [{\n    id: 'browse',\n    label: 'Browse',\n    icon: Search\n  }, {\n    id: 'add',\n    label: 'List Room',\n    icon: PlusCircle,\n    show: currentUser && currentUser.type === 'landlord' && !previewMode\n  }, {\n    id: 'my-listings',\n    label: 'My Rooms',\n    icon: Home,\n    show: currentUser && currentUser.type === 'landlord' && !previewMode\n  }, {\n    id: 'profile',\n    label: 'Profile',\n    icon: User\n  }];\n  const amenityOptions = ['WiFi', 'Parking', 'Kitchen', 'Laundry', 'Air Conditioning', 'Heating', 'Furnished'];\n  const toggleAmenity = amenity => {\n    if (selectedAmenities.includes(amenity)) {\n      setSelectedAmenities(selectedAmenities.filter(a => a !== amenity));\n    } else {\n      setSelectedAmenities([...selectedAmenities, amenity]);\n    }\n  };\n  const clearChip = (type, value) => {\n    if (type === 'location') setSearchLocation('');\n    if (type === 'priceMin') setPriceRange([0, priceRange[1]]);\n    if (type === 'priceMax') setPriceRange([priceRange[0], 10000]);\n    if (type === 'amenity') setSelectedAmenities(selectedAmenities.filter(a => a !== value));\n    if (type === 'sort') setSortBy('newest');\n    if (type === 'nearby') clearNearby();\n  };\n  const renderFilterChips = () => {\n    const chips = [];\n    if (searchLocation) chips.push({\n      type: 'location',\n      label: searchLocation\n    });\n    if (priceRange[0] > 0) chips.push({\n      type: 'priceMin',\n      label: `Min R${priceRange[0]}`\n    });\n    if (priceRange[1] < 10000) chips.push({\n      type: 'priceMax',\n      label: `Max R${priceRange[1]}`\n    });\n    selectedAmenities.forEach(a => chips.push({\n      type: 'amenity',\n      label: a,\n      value: a\n    }));\n    if (sortBy !== 'newest') chips.push({\n      type: 'sort',\n      label: `Sort: ${sortBy}`\n    });\n    if (paymentFilter) chips.push({\n      type: 'payment',\n      label: `Pay: ${paymentFilter}`\n    });\n    if (nearbyMode && userLocation) chips.push({\n      type: 'nearby',\n      label: `Within ${nearbyRadius}km`\n    });\n    if (chips.length === 0) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-chip-bar\",\n      \"aria-label\": \"Active filters\",\n      children: [chips.map((chip, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => clearChip(chip.type, chip.value),\n        className: \"filter-chip\",\n        \"aria-label\": `Remove ${chip.label} filter`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: chip.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          \"aria-hidden\": \"true\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setSearchLocation('');\n          setPriceRange([0, 10000]);\n          setSelectedAmenities([]);\n          setSortBy('newest');\n          if (nearbyMode) clearNearby();\n          setPaymentFilter('');\n          setLocationSuggestions([]);\n          try {\n            localStorage.removeItem('filter-payment');\n          } catch {}\n          try {\n            localStorage.removeItem('filter-price-min');\n            localStorage.removeItem('filter-price-max');\n          } catch {}\n          try {\n            localStorage.removeItem('filter-amenities');\n          } catch {}\n        },\n        className: \"filter-chip bg-red-50 text-red-700 hover:bg-red-100\",\n        children: \"Clear All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this);\n  };\n  const saveCurrentSearch = () => {\n    const snapshot = {\n      id: Date.now(),\n      ts: Date.now(),\n      location: searchLocation || '',\n      priceRange: [...priceRange],\n      amenities: [...selectedAmenities],\n      payment: paymentFilter,\n      nearby: nearbyMode ? nearbyRadius : null,\n      sort: sortBy\n    };\n    const next = [snapshot, ...savedSearches].slice(0, 15); // keep last 15\n    setSavedSearches(next);\n    try {\n      localStorage.setItem('saved-searches', JSON.stringify(next));\n    } catch {}\n  };\n  const loadSearch = s => {\n    setSearchLocation(s.location);\n    setPriceRange(s.priceRange);\n    setSelectedAmenities(s.amenities);\n    setPaymentFilter(s.payment);\n    if (s.nearby) setNearbyRadius(s.nearby);\n    setSortBy(s.sort || 'newest');\n  };\n  const renderFiltersBox = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"filters-box\",\n    \"aria-label\": \"Filters panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-2 mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(MapPin, {\n        className: \"w-4 h-4 text-gray-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search location...\",\n        value: searchLocation,\n        onChange: e => setSearchLocation(e.target.value),\n        className: \"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-teal-600 focus:border-transparent\",\n        \"aria-label\": \"Location search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), locationLoading && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs text-teal-600 animate-pulse\",\n        \"aria-live\": \"polite\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xs font-semibold text-gray-600\",\n          children: \"Price Range\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 text-xs bg-gray-50 px-2 py-1 rounded border border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"R\", priceRange[0].toLocaleString(), \" - R\", priceRange[1].toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: priceRange[0],\n            onChange: e => setPriceRange([parseInt(e.target.value), priceRange[1]]),\n            className: \"bg-transparent border-l border-gray-300 pl-2 focus:outline-none\",\n            \"aria-label\": \"Minimum price\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"0\",\n              children: \"Min\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"500\",\n              children: \"R500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"1000\",\n              children: \"R1000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"1500\",\n              children: \"R1500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: priceRange[1],\n            onChange: e => setPriceRange([priceRange[0], parseInt(e.target.value)]),\n            className: \"bg-transparent border-l border-gray-300 pl-2 focus:outline-none\",\n            \"aria-label\": \"Maximum price\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"10000\",\n              children: \"R10,000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"5000\",\n              children: \"R5,000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"3000\",\n              children: \"R3,000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"2000\",\n              children: \"R2,000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xs font-semibold text-gray-600\",\n          children: \"Sort\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: sortBy,\n          onChange: e => setSortBy(e.target.value),\n          className: \"text-sm bg-white border border-gray-300 px-2 py-1 rounded focus:ring-2 focus:ring-teal-600\",\n          \"aria-label\": \"Sort order\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"newest\",\n            children: \"Newest\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"cheapest\",\n            children: \"Cheapest\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"expensive\",\n            children: \"Most Expensive\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xs font-semibold text-gray-600\",\n          children: \"Payment Method\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: paymentFilter,\n          onChange: e => setPaymentFilter(e.target.value),\n          className: \"text-sm bg-white border border-gray-300 px-2 py-1 rounded focus:ring-2 focus:ring-teal-600\",\n          \"aria-label\": \"Payment method\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Any\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Bank and Cash\",\n            children: \"Bank and Cash\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Cash Only\",\n            children: \"Cash Only\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Bank Only\",\n            children: \"Bank Only\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xs font-semibold text-gray-600\",\n          children: \"Saved Searches\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-1\",\n          children: [savedSearches.length === 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-[11px] text-gray-500\",\n            children: \"None saved\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 19\n          }, this), savedSearches.map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => loadSearch(s),\n            className: \"px-2 py-1 rounded-md text-[11px] font-medium bg-purple-50 text-purple-700 border border-purple-200 hover:bg-purple-100\",\n            children: [s.location || 'Any', \" \\u2022 \", s.priceRange[0], \"-\", s.priceRange[1]]\n          }, s.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: saveCurrentSearch,\n          className: \"mt-1 text-xs text-purple-700 hover:text-purple-800 font-medium underline\",\n          children: \"Save Current Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xs font-semibold text-gray-600 mb-1 block\",\n          children: \"Amenities\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-1\",\n          children: amenityOptions.map(a => /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => toggleAmenity(a),\n            className: `px-2 py-1 rounded-md text-[11px] font-medium border transition ${selectedAmenities.includes(a) ? 'bg-teal-600 text-white border-teal-600 shadow-sm' : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'}`,\n            \"aria-pressed\": selectedAmenities.includes(a),\n            children: a\n          }, a, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 flex flex-col gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xs font-semibold text-gray-600\",\n          children: \"Nearby Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => onFindNearby && onFindNearby(),\n            className: \"flex-1 bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded text-xs font-medium\",\n            children: \"Find Nearby\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: nearbyRadius,\n            onChange: e => setNearbyRadius(parseInt(e.target.value)),\n            className: \"text-xs bg-gray-50 border border-gray-300 px-2 py-1 rounded\",\n            \"aria-label\": \"Nearby radius\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: 1,\n              children: \"1km\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 3,\n              children: \"3km\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 5,\n              children: \"5km\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 10,\n              children: \"10km\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this), nearbyMode && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearNearby,\n          className: \"text-xs bg-white border border-gray-300 text-gray-700 px-2 py-1 rounded\",\n          children: \"Clear Nearby\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this), nearbyStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          \"aria-live\": \"polite\",\n          children: nearbyStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 28\n        }, this), !userLocation && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => {\n            onFindNearby && onFindNearby();\n            setLocationTip('Grant location access for accurate nearby rooms.');\n          },\n          className: \"text-xs text-blue-600 underline mt-1 text-left\",\n          children: \"Enable Location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 13\n        }, this), locationTip && !userLocation && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-[11px] text-yellow-700 bg-yellow-50 border border-yellow-200 rounded p-2 mt-1\",\n          \"aria-live\": \"polite\",\n          children: locationTip\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowAdvancedFilters(!showAdvancedFilters),\n        className: \"mt-2 text-xs text-teal-700 hover:text-teal-800 font-semibold px-2 py-1 rounded hover:bg-teal-50 transition\",\n        \"aria-expanded\": showAdvancedFilters,\n        children: showAdvancedFilters ? 'Close Advanced' : 'More Filters'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }, this), showAdvancedFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 p-2 bg-gray-50 border border-gray-200 rounded\",\n        \"aria-label\": \"Advanced filters\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-600\",\n          children: \"(Advanced filters placeholder)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 109\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 258,\n    columnNumber: 5\n  }, this);\n\n  // Desktop layout\n  if (isDesktop) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-50 min-h-screen pb-4\",\n      \"aria-labelledby\": \"results-heading\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"layout-desktop\",\n        children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n          className: \"sidebar-nav\",\n          role: \"navigation\",\n          \"aria-label\": \"Desktop navigation and filters\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold flex items-center gap-2 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-teal-600\",\n                children: \"Room\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 78\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-500\",\n                children: \"24\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 121\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sidebar-section-title mb-2\",\n              children: \"Navigation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sidebar-menu\",\n              children: desktopNavItems.filter(i => i.show === undefined || i.show).map(item => {\n                const Icon = item.icon;\n                const isActive = item.id === 'browse';\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setCurrentView(item.id),\n                  className: isActive ? 'active' : '',\n                  \"aria-label\": item.label,\n                  children: [/*#__PURE__*/_jsxDEV(Icon, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 23\n                  }, this), \" \", item.label]\n                }, item.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sidebar-section-title mb-2\",\n              children: \"Filters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 15\n            }, this), renderFiltersBox()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SidebarAd, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this), !currentUser && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-auto pt-4 border-t border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mb-2\",\n              children: \"Join to list rooms.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this), !userLocation && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                onFindNearby && onFindNearby();\n                setLocationTip('Allow location in browser prompt for Nearby.');\n              },\n              className: \"text-xs text-blue-600 underline\",\n              children: \"Enable Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => onRequireAuth && onRequireAuth('renter'),\n                className: \"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 text-xs py-2 rounded\",\n                children: \"Sign In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => onRequireAuth && onRequireAuth('landlord'),\n                className: \"flex-1 bg-red-500 hover:bg-red-600 text-white text-xs py-2 rounded\",\n                children: \"List Room\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          className: \"desktop-split\",\n          role: \"main\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"list-pane\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                id: \"results-heading\",\n                className: \"text-lg font-semibold text-gray-800\",\n                children: listings.length === 0 ? 'No rooms' : `${listings.length} rooms`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setMapView(!mapView),\n                className: \"text-xs px-3 py-1.5 rounded border border-gray-300 bg-white hover:bg-gray-50 transition\",\n                \"aria-pressed\": mapView,\n                children: mapView ? 'Hide Map' : 'Show Map'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 15\n            }, this), renderFilterChips(), initialLoad ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6\",\n              \"aria-label\": \"Loading listings\",\n              children: Array.from({\n                length: 8\n              }).map((_, i) => /*#__PURE__*/_jsxDEV(ListingSkeletonCard, {}, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 60\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this) : (paymentFilter ? listings.filter(l => l.paymentMethod === paymentFilter) : listings).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white border border-gray-200 rounded-lg p-8 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 text-sm\",\n                children: \"No rooms match your filters.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 95\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6\",\n              children: (paymentFilter ? listings.filter(l => l.paymentMethod === paymentFilter) : listings).map((listing, idx) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(ListingCard, {\n                  listing: listing,\n                  onClick: () => onSelectListing(listing)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 25\n                }, this), (idx + 1) % 6 === 0 && idx !== listings.length - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"md:col-span-2 xl:col-span-3 2xl:col-span-4\",\n                  children: /*#__PURE__*/_jsxDEV(InFeedAd, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 27\n                }, this)]\n              }, listing.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 13\n          }, this), mapView && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"map-pane\",\n            children: /*#__PURE__*/_jsxDEV(MapView, {\n              listings: listings,\n              onMarkerClick: l => onSelectListing(l),\n              userLocation: userLocation,\n              nearbyRadius: nearbyRadius,\n              fullHeight: true,\n              onRadiusChange: setNearbyRadius,\n              onRecenter: () => {/* handled in MapView */}\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Mobile / tablet layout\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-50 min-h-screen pb-20\",\n    role: \"main\",\n    \"aria-labelledby\": \"results-heading\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border-b border-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 py-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(MapPin, {\n              className: \"absolute left-3 top-3.5 w-5 h-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search by location, suburb, or area...\",\n              value: searchLocation,\n              onChange: e => setSearchLocation(e.target.value),\n              className: \"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-700 focus:ring-2 focus:ring-teal-600 focus:border-transparent shadow-sm\",\n              \"aria-label\": \"Location search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 15\n            }, this), locationLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute right-3 top-3.5 text-teal-600 animate-pulse text-xs\",\n              \"aria-live\": \"polite\",\n              children: \"Loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 17\n            }, this), locationSuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute left-0 right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-sm z-20 overflow-hidden\",\n              children: locationSuggestions.map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  setSearchLocation(s);\n                  setLocationSuggestions([]);\n                },\n                className: \"w-full text-left px-3 py-2 text-sm hover:bg-teal-50\",\n                children: s\n              }, s, false, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg transition font-semibold shadow-sm text-sm\",\n              onClick: () => {},\n              \"aria-label\": \"Search submit\",\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                if (!searchLocation || searchLocation.trim() === '') {\n                  alert('Enter a location to subscribe.');\n                  return;\n                }\n                if (!currentUser) {\n                  onRequireAuth && onRequireAuth('renter');\n                  return;\n                }\n                subscribeToArea && subscribeToArea(currentUser.id, searchLocation.trim());\n              },\n              className: \"bg-white border border-gray-200 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-50 transition text-sm\",\n              children: \"Subscribe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => onFindNearby && onFindNearby(),\n              className: \"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition\",\n              \"aria-label\": \"Find nearby\",\n              children: \"Nearby\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: nearbyRadius,\n              onChange: e => setNearbyRadius(parseInt(e.target.value)),\n              className: \"text-sm bg-gray-50 border border-gray-200 px-3 py-2 rounded-lg text-gray-700 flex-shrink-0\",\n              \"aria-label\": \"Nearby radius\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 1,\n                children: \"1 km\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 571,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 3,\n                children: \"3 km\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 5,\n                children: \"5 km\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 10,\n                children: \"10 km\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 15\n            }, this), nearbyMode && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: clearNearby,\n              className: \"bg-white border border-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm\",\n              \"aria-label\": \"Clear nearby\",\n              children: \"Clear\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 17\n            }, this), !userLocation && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                onFindNearby && onFindNearby();\n                setLocationTip('Allow location access for better Nearby results.');\n              },\n              className: \"text-xs text-blue-600 underline\",\n              children: \"Enable Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-1 -mt-1 mb-2\",\n            \"aria-label\": \"Quick radius\",\n            children: [1, 3, 5, 10].map(r => /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setNearbyRadius(r),\n              className: `px-2 py-1 text-[11px] rounded border ${nearbyRadius === r ? 'bg-green-600 text-white border-green-600' : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'}`,\n              \"aria-pressed\": nearbyRadius === r,\n              children: [r, \"km\"]\n            }, r, true, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-2 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: saveCurrentSearch,\n              className: \"text-xs px-2 py-1 rounded bg-purple-600 hover:bg-purple-700 text-white font-semibold shadow-sm\",\n              children: \"Save Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 15\n            }, this), savedSearches.map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => loadSearch(s),\n              className: \"text-[11px] px-2 py-1 rounded bg-purple-50 text-purple-700 border border-purple-200\",\n              children: [s.location || 'Any', \" \\u2022 \", s.priceRange[0], \"-\", s.priceRange[1]]\n            }, s.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2 mb-3 flex-wrap items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 bg-gray-50 px-3 py-2 rounded-lg border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600 font-medium\",\n              children: [\"R\", priceRange[0].toLocaleString(), \" - R\", priceRange[1].toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: priceRange[0],\n              onChange: e => setPriceRange([parseInt(e.target.value), priceRange[1]]),\n              className: \"text-xs bg-transparent border-l border-gray-300 pl-2 text-gray-600 focus:outline-none\",\n              \"aria-label\": \"Minimum price\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"0\",\n                children: \"Min\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"500\",\n                children: \"R500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1000\",\n                children: \"R1000\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1500\",\n                children: \"R1500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 626,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: priceRange[1],\n              onChange: e => setPriceRange([priceRange[0], parseInt(e.target.value)]),\n              className: \"text-xs bg-transparent border-l border-gray-300 pl-2 text-gray-600 focus:outline-none\",\n              \"aria-label\": \"Maximum price\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"10000\",\n                children: \"R10k\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"5000\",\n                children: \"R5k\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"3000\",\n                children: \"R3k\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"2000\",\n                children: \"R2k\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Sort:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: sortBy,\n              onChange: e => setSortBy(e.target.value),\n              className: \"text-sm bg-gray-50 border border-gray-200 px-3 py-2 rounded-lg text-gray-700 focus:ring-2 focus:ring-teal-600\",\n              \"aria-label\": \"Sort order\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"newest\",\n                children: \"Newest\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 648,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cheapest\",\n                children: \"Cheapest\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"expensive\",\n                children: \"Most Expensive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Payment:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: paymentFilter,\n              onChange: e => setPaymentFilter(e.target.value),\n              className: \"text-sm bg-gray-50 border border-gray-200 px-3 py-2 rounded-lg text-gray-700 focus:ring-2 focus:ring-teal-600\",\n              \"aria-label\": \"Payment method filter\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Any\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 661,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Bank and Cash\",\n                children: \"Bank & Cash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 662,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Cash Only\",\n                children: \"Cash Only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 663,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Bank Only\",\n                children: \"Bank Only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 664,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 655,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowAdvancedFilters(!showAdvancedFilters),\n            className: \"text-sm text-teal-700 hover:text-teal-800 font-medium px-3 py-2 rounded-lg hover:bg-teal-50 transition\",\n            \"aria-expanded\": showAdvancedFilters,\n            children: showAdvancedFilters ? ' Filters' : ' Filters'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 11\n        }, this), locationTip && !userLocation && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-yellow-700 bg-yellow-50 border border-yellow-200 rounded p-2 mb-3\",\n          \"aria-live\": \"polite\",\n          children: locationTip\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 674,\n          columnNumber: 13\n        }, this), showAdvancedFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 p-4 bg-gray-50 rounded-lg border border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-1 mb-2\",\n            \"aria-label\": \"Amenities\",\n            children: amenityOptions.map(a => /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => toggleAmenity(a),\n              className: `px-2 py-1 rounded-md text-[11px] font-medium border transition ${selectedAmenities.includes(a) ? 'bg-teal-600 text-white border-teal-600 shadow-sm' : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'}`,\n              \"aria-pressed\": selectedAmenities.includes(a),\n              children: a\n            }, a, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: \"Select amenities to refine results.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 677,\n          columnNumber: 13\n        }, this), renderFilterChips()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 pt-3\",\n      children: /*#__PURE__*/_jsxDEV(InFeedAd, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 697,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 696,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mt-4 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          id: \"results-heading\",\n          className: \"text-2xl font-bold text-gray-800\",\n          children: listings.length === 0 ? 'No rooms available' : `${listings.length} Rooms Available`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setMapView(!mapView),\n          className: \"text-sm px-4 py-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 transition flex items-center gap-2\",\n          \"aria-pressed\": mapView,\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 13\n          }, this), \" \", mapView ? 'Show List' : 'Show Map']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 9\n      }, this), mapView && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(MapView, {\n          listings: listings,\n          onMarkerClick: l => onSelectListing(l),\n          userLocation: userLocation,\n          nearbyRadius: nearbyRadius,\n          fullHeight: false,\n          onRadiusChange: setNearbyRadius\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 712,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 711,\n        columnNumber: 11\n      }, this), initialLoad ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-12 justify-items-center\",\n        \"aria-label\": \"Loading listings\",\n        children: Array.from({\n          length: 8\n        }).map((_, i) => /*#__PURE__*/_jsxDEV(ListingSkeletonCard, {}, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 54\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 723,\n        columnNumber: 11\n      }, this) : (paymentFilter ? listings.filter(l => l.paymentMethod === paymentFilter) : listings).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg border border-gray-200 p-12 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(Home, {\n          className: \"w-16 h-16 mx-auto mb-4 text-gray-300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 font-medium mb-2\",\n          children: \"No rooms match your search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-sm mb-4\",\n          children: \"Try adjusting your filters or search in a different location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setSearchLocation('');\n            setPriceRange([0, 10000]);\n            setSelectedAmenities([]);\n            setSortBy('newest');\n          },\n          className: \"text-teal-700 hover:text-teal-800 font-medium text-sm\",\n          children: \"Clear all filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 732,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 728,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-12 justify-items-center\",\n        children: (paymentFilter ? listings.filter(l => l.paymentMethod === paymentFilter) : listings).map((listing, idx) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(ListingCard, {\n            listing: listing,\n            onClick: () => onSelectListing(listing)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 19\n          }, this), (idx + 1) % 8 === 0 && idx !== listings.length - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sm:col-span-2 lg:col-span-3 xl:col-span-4\",\n            children: /*#__PURE__*/_jsxDEV(InFeedAd, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 749,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 748,\n            columnNumber: 21\n          }, this)]\n        }, listing.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 699,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 518,\n    columnNumber: 5\n  }, this);\n}\n_s(BrowseView, \"ib4lND5VlJHtt1QYxd5j+HGn4cM=\");\n_c = BrowseView;\nvar _c;\n$RefreshReg$(_c, \"BrowseView\");","map":{"version":3,"names":["React","useState","useEffect","Search","PlusCircle","Home","User","MapPin","ListingCard","ListingSkeletonCard","MapView","SidebarAd","InFeedAd","jsxDEV","_jsxDEV","BrowseView","listings","searchLocation","setSearchLocation","priceRange","setPriceRange","selectedAmenities","setSelectedAmenities","sortBy","setSortBy","mapView","setMapView","onSelectListing","setCurrentView","currentUser","onRequireAuth","subscribeToArea","onFindNearby","nearbyRadius","setNearbyRadius","nearbyMode","clearNearby","userLocation","nearbyStatus","previewMode","_s","showAdvancedFilters","setShowAdvancedFilters","isDesktop","setIsDesktop","window","innerWidth","paymentFilter","setPaymentFilter","locationTip","setLocationTip","locationSuggestions","setLocationSuggestions","locationLoading","setLocationLoading","savedSearches","setSavedSearches","initialLoad","setInitialLoad","suggestionCacheRef","useRef","SUGGESTION_TTL_MS","storedPayment","localStorage","getItem","storedRadius","isNaN","parseInt","storedPriceMin","storedPriceMax","storedAmenities","arr","JSON","parse","Array","isArray","rawSaved","e","t","setTimeout","clearTimeout","handleResize","addEventListener","removeEventListener","setItem","String","stringify","raw","trim","length","key","process","env","REACT_APP_GEOCODER_API_KEY","provider","REACT_APP_GEOCODER_PROVIDER","toLowerCase","qLower","cached","current","Date","now","ts","data","controller","AbortController","suggestions","proximity","lon","lat","url","encodeURIComponent","resp","fetch","signal","json","features","map","f","place_name","filter","Boolean","biasParams","delta","minLon","maxLon","minLat","maxLat","headers","uniq","forEach","item","display","display_name","parts","split","p","area","slice","join","includes","push","abort","desktopNavItems","id","label","icon","show","type","amenityOptions","toggleAmenity","amenity","a","clearChip","value","renderFilterChips","chips","className","children","chip","idx","onClick","fileName","_jsxFileName","lineNumber","columnNumber","removeItem","saveCurrentSearch","snapshot","location","amenities","payment","nearby","sort","next","loadSearch","s","renderFiltersBox","placeholder","onChange","target","toLocaleString","role","i","undefined","Icon","isActive","from","_","l","paymentMethod","listing","Fragment","onMarkerClick","fullHeight","onRadiusChange","onRecenter","alert","r","_c","$RefreshReg$"],"sources":["C:/Users/kutum/Documents/room-rental-platform/src/components/BrowseView.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Search, PlusCircle, Home, User, MapPin } from 'lucide-react';\r\nimport ListingCard from './ListingCard';\r\nimport ListingSkeletonCard from './ListingSkeletonCard';\r\nimport MapView from '../MapView';\r\nimport { SidebarAd, InFeedAd } from './AdBanner';\r\n\r\nexport default function BrowseView({\r\n  listings,\r\n  searchLocation,\r\n  setSearchLocation,\r\n  priceRange,\r\n  setPriceRange,\r\n  selectedAmenities,\r\n  setSelectedAmenities,\r\n  sortBy,\r\n  setSortBy,\r\n  mapView,\r\n  setMapView,\r\n  onSelectListing,\r\n  setCurrentView,\r\n  currentUser,\r\n  onRequireAuth,\r\n  subscribeToArea,\r\n  onFindNearby,\r\n  nearbyRadius,\r\n  setNearbyRadius,\r\n  nearbyMode,\r\n  clearNearby,\r\n  userLocation,\r\n  nearbyStatus,\r\n  previewMode\r\n}) {\r\n  const [showAdvancedFilters, setShowAdvancedFilters] = useState(false);\r\n  const [isDesktop, setIsDesktop] = useState(typeof window !== 'undefined' ? window.innerWidth >= 1024 : false);\r\n  const [paymentFilter, setPaymentFilter] = useState('');\r\n  const [locationTip, setLocationTip] = useState('');\r\n  const [locationSuggestions, setLocationSuggestions] = useState([]);\r\n  const [locationLoading, setLocationLoading] = useState(false);\r\n  const [savedSearches, setSavedSearches] = useState([]);\r\n  const [initialLoad, setInitialLoad] = useState(true);\r\n  const suggestionCacheRef = React.useRef({}); // cache: { queryLower: { data: [...], ts } }\r\n  const SUGGESTION_TTL_MS = 15 * 60 * 1000; // 15 minutes\r\n  // Restore persisted lightweight filters\r\n  useEffect(() => {\r\n    try {\r\n      const storedPayment = localStorage.getItem('filter-payment');\r\n      if (storedPayment) setPaymentFilter(storedPayment);\r\n      const storedRadius = localStorage.getItem('filter-nearby-radius');\r\n      if (storedRadius && !isNaN(parseInt(storedRadius))) setNearbyRadius(parseInt(storedRadius));\r\n      const storedPriceMin = localStorage.getItem('filter-price-min');\r\n      const storedPriceMax = localStorage.getItem('filter-price-max');\r\n      if (storedPriceMin && !isNaN(parseInt(storedPriceMin)) && storedPriceMax && !isNaN(parseInt(storedPriceMax))) {\r\n        setPriceRange([parseInt(storedPriceMin), parseInt(storedPriceMax)]);\r\n      }\r\n      const storedAmenities = localStorage.getItem('filter-amenities');\r\n      if (storedAmenities) {\r\n        try {\r\n          const arr = JSON.parse(storedAmenities);\r\n          if (Array.isArray(arr)) setSelectedAmenities(arr);\r\n        } catch {}\r\n      }\r\n      const rawSaved = localStorage.getItem('saved-searches');\r\n      if (rawSaved) {\r\n        try {\r\n          const arr = JSON.parse(rawSaved);\r\n          if (Array.isArray(arr)) setSavedSearches(arr);\r\n        } catch {}\r\n      }\r\n    } catch (e) {\r\n      // ignore storage errors\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const t = setTimeout(() => setInitialLoad(false), 600);\r\n    return () => clearTimeout(t);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => setIsDesktop(window.innerWidth >= 1024);\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  // Persist changes\r\n  useEffect(() => {\r\n    try { localStorage.setItem('filter-payment', paymentFilter); } catch {}\r\n  }, [paymentFilter]);\r\n  useEffect(() => {\r\n    try { localStorage.setItem('filter-nearby-radius', String(nearbyRadius)); } catch {}\r\n  }, [nearbyRadius]);\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem('filter-price-min', String(priceRange[0]));\r\n      localStorage.setItem('filter-price-max', String(priceRange[1]));\r\n    } catch {}\r\n  }, [priceRange]);\r\n  useEffect(() => {\r\n    try { localStorage.setItem('filter-amenities', JSON.stringify(selectedAmenities)); } catch {}\r\n  }, [selectedAmenities]);\r\n\r\n  // Debounced provider-aware suggestions with caching & geolocation bias\r\n  useEffect(() => {\r\n    const raw = (searchLocation || '').trim();\r\n    if (raw.length < 3) { setLocationSuggestions([]); setLocationLoading(false); return; }\r\n    const key = (process.env.REACT_APP_GEOCODER_API_KEY || '').trim();\r\n    const provider = (process.env.REACT_APP_GEOCODER_PROVIDER || '').toLowerCase();\r\n    const qLower = raw.toLowerCase();\r\n    const cached = suggestionCacheRef.current[qLower];\r\n    if (cached && (Date.now() - cached.ts) < SUGGESTION_TTL_MS) {\r\n      setLocationSuggestions(cached.data);\r\n      return; // serve cache, skip network\r\n    }\r\n    const controller = new AbortController();\r\n    setLocationLoading(true);\r\n    const t = setTimeout(async () => {\r\n      try {\r\n        let suggestions = [];\r\n        if (provider === 'mapbox' && key) {\r\n          const proximity = userLocation ? `&proximity=${userLocation.lon},${userLocation.lat}` : '';\r\n          const url = `https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(raw)}.json?access_token=${key}&limit=5&country=ZA&language=en${proximity}&types=place,locality,neighborhood`;\r\n          const resp = await fetch(url, { signal: controller.signal });\r\n          const data = await resp.json();\r\n          if (data && Array.isArray(data.features)) {\r\n            suggestions = data.features.map(f => f.place_name).filter(Boolean);\r\n          }\r\n        } else {\r\n          // Nominatim fallback with optional viewbox bias\r\n          let biasParams = '';\r\n          if (userLocation) {\r\n            const delta = 0.2; // ~20km\r\n            const minLon = userLocation.lon - delta;\r\n            const maxLon = userLocation.lon + delta;\r\n            const minLat = userLocation.lat - delta;\r\n            const maxLat = userLocation.lat + delta;\r\n            biasParams = `&bounded=1&viewbox=${minLon},${maxLat},${maxLon},${minLat}`;\r\n          }\r\n            const url = `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(raw + ', South Africa')}&limit=5${biasParams}`;\r\n            const resp = await fetch(url, { signal: controller.signal, headers: { 'Accept-Language': 'en' } });\r\n            const data = await resp.json();\r\n            const uniq = [];\r\n            data.forEach(item => {\r\n              const display = item.display_name || '';\r\n              const parts = display.split(',').map(p => p.trim());\r\n              const area = parts.slice(0, 2).join(', ');\r\n              if (area && !uniq.includes(area)) uniq.push(area);\r\n            });\r\n            suggestions = uniq.slice(0,5);\r\n        }\r\n        suggestionCacheRef.current[qLower] = { data: suggestions, ts: Date.now() };\r\n        setLocationSuggestions(suggestions);\r\n      } catch (e) {\r\n        setLocationSuggestions([]);\r\n      } finally {\r\n        setLocationLoading(false);\r\n      }\r\n    }, 450);\r\n    return () => { clearTimeout(t); controller.abort(); };\r\n  }, [searchLocation, userLocation, SUGGESTION_TTL_MS]);\r\n\r\n  // Sidebar navigation items (desktop only)\r\n  const desktopNavItems = [\r\n    { id: 'browse', label: 'Browse', icon: Search },\r\n    { id: 'add', label: 'List Room', icon: PlusCircle, show: currentUser && currentUser.type === 'landlord' && !previewMode },\r\n    { id: 'my-listings', label: 'My Rooms', icon: Home, show: currentUser && currentUser.type === 'landlord' && !previewMode },\r\n    { id: 'profile', label: 'Profile', icon: User }\r\n  ];\r\n\r\n  const amenityOptions = ['WiFi', 'Parking', 'Kitchen', 'Laundry', 'Air Conditioning', 'Heating', 'Furnished'];\r\n\r\n  const toggleAmenity = (amenity) => {\r\n    if (selectedAmenities.includes(amenity)) {\r\n      setSelectedAmenities(selectedAmenities.filter(a => a !== amenity));\r\n    } else {\r\n      setSelectedAmenities([...selectedAmenities, amenity]);\r\n    }\r\n  };\r\n\r\n  const clearChip = (type, value) => {\r\n    if (type === 'location') setSearchLocation('');\r\n    if (type === 'priceMin') setPriceRange([0, priceRange[1]]);\r\n    if (type === 'priceMax') setPriceRange([priceRange[0], 10000]);\r\n    if (type === 'amenity') setSelectedAmenities(selectedAmenities.filter(a => a !== value));\r\n    if (type === 'sort') setSortBy('newest');\r\n    if (type === 'nearby') clearNearby();\r\n  };\r\n\r\n  const renderFilterChips = () => {\r\n    const chips = [];\r\n    if (searchLocation) chips.push({ type: 'location', label: searchLocation });\r\n    if (priceRange[0] > 0) chips.push({ type: 'priceMin', label: `Min R${priceRange[0]}` });\r\n    if (priceRange[1] < 10000) chips.push({ type: 'priceMax', label: `Max R${priceRange[1]}` });\r\n    selectedAmenities.forEach(a => chips.push({ type: 'amenity', label: a, value: a }));\r\n    if (sortBy !== 'newest') chips.push({ type: 'sort', label: `Sort: ${sortBy}` });\r\n    if (paymentFilter) chips.push({ type: 'payment', label: `Pay: ${paymentFilter}` });\r\n    if (nearbyMode && userLocation) chips.push({ type: 'nearby', label: `Within ${nearbyRadius}km` });\r\n    if (chips.length === 0) return null;\r\n    return (\r\n      <div className=\"filter-chip-bar\" aria-label=\"Active filters\">\r\n        {chips.map((chip, idx) => (\r\n          <button\r\n            key={idx}\r\n            onClick={() => clearChip(chip.type, chip.value)}\r\n            className=\"filter-chip\"\r\n            aria-label={`Remove ${chip.label} filter`}\r\n          >\r\n            <span>{chip.label}</span>\r\n            <span aria-hidden=\"true\"></span>\r\n          </button>\r\n        ))}\r\n        <button\r\n          onClick={() => {\r\n            setSearchLocation('');\r\n            setPriceRange([0, 10000]);\r\n            setSelectedAmenities([]);\r\n            setSortBy('newest');\r\n            if (nearbyMode) clearNearby();\r\n              setPaymentFilter('');\r\n            setLocationSuggestions([]);\r\n              try { localStorage.removeItem('filter-payment'); } catch {}\r\n            try { localStorage.removeItem('filter-price-min'); localStorage.removeItem('filter-price-max'); } catch {}\r\n            try { localStorage.removeItem('filter-amenities'); } catch {}\r\n          }}\r\n          className=\"filter-chip bg-red-50 text-red-700 hover:bg-red-100\"\r\n        >Clear All</button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const saveCurrentSearch = () => {\r\n    const snapshot = {\r\n      id: Date.now(),\r\n      ts: Date.now(),\r\n      location: searchLocation || '',\r\n      priceRange: [...priceRange],\r\n      amenities: [...selectedAmenities],\r\n      payment: paymentFilter,\r\n      nearby: nearbyMode ? nearbyRadius : null,\r\n      sort: sortBy\r\n    };\r\n    const next = [snapshot, ...savedSearches].slice(0, 15); // keep last 15\r\n    setSavedSearches(next);\r\n    try { localStorage.setItem('saved-searches', JSON.stringify(next)); } catch {}\r\n  };\r\n\r\n  const loadSearch = (s) => {\r\n    setSearchLocation(s.location);\r\n    setPriceRange(s.priceRange);\r\n    setSelectedAmenities(s.amenities);\r\n    setPaymentFilter(s.payment);\r\n    if (s.nearby) setNearbyRadius(s.nearby);\r\n    setSortBy(s.sort || 'newest');\r\n  };\r\n\r\n  const renderFiltersBox = () => (\r\n    <div className=\"filters-box\" aria-label=\"Filters panel\">\r\n      <div className=\"flex items-center gap-2 mb-2\">\r\n        <MapPin className=\"w-4 h-4 text-gray-400\" />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search location...\"\r\n          value={searchLocation}\r\n          onChange={(e) => setSearchLocation(e.target.value)}\r\n          className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-teal-600 focus:border-transparent\"\r\n          aria-label=\"Location search\"\r\n        />\r\n        {locationLoading && (\r\n          <span className=\"text-xs text-teal-600 animate-pulse\" aria-live=\"polite\">Loading...</span>\r\n        )}\r\n      </div>\r\n      <div className=\"flex flex-col gap-3\">\r\n        <div className=\"flex flex-col gap-1\">\r\n          <label className=\"text-xs font-semibold text-gray-600\">Price Range</label>\r\n          <div className=\"flex items-center gap-2 text-xs bg-gray-50 px-2 py-1 rounded border border-gray-200\">\r\n            <span>R{priceRange[0].toLocaleString()} - R{priceRange[1].toLocaleString()}</span>\r\n            <select\r\n              value={priceRange[0]}\r\n              onChange={(e) => setPriceRange([parseInt(e.target.value), priceRange[1]])}\r\n              className=\"bg-transparent border-l border-gray-300 pl-2 focus:outline-none\"\r\n              aria-label=\"Minimum price\"\r\n            >\r\n              <option value=\"0\">Min</option>\r\n              <option value=\"500\">R500</option>\r\n              <option value=\"1000\">R1000</option>\r\n              <option value=\"1500\">R1500</option>\r\n            </select>\r\n            <select\r\n              value={priceRange[1]}\r\n              onChange={(e) => setPriceRange([priceRange[0], parseInt(e.target.value)])}\r\n              className=\"bg-transparent border-l border-gray-300 pl-2 focus:outline-none\"\r\n              aria-label=\"Maximum price\"\r\n            >\r\n              <option value=\"10000\">R10,000</option>\r\n              <option value=\"5000\">R5,000</option>\r\n              <option value=\"3000\">R3,000</option>\r\n              <option value=\"2000\">R2,000</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-col gap-1\">\r\n          <label className=\"text-xs font-semibold text-gray-600\">Sort</label>\r\n          <select\r\n            value={sortBy}\r\n            onChange={(e) => setSortBy(e.target.value)}\r\n            className=\"text-sm bg-white border border-gray-300 px-2 py-1 rounded focus:ring-2 focus:ring-teal-600\"\r\n            aria-label=\"Sort order\"\r\n          >\r\n            <option value=\"newest\">Newest</option>\r\n            <option value=\"cheapest\">Cheapest</option>\r\n            <option value=\"expensive\">Most Expensive</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"flex flex-col gap-1\">\r\n          <label className=\"text-xs font-semibold text-gray-600\">Payment Method</label>\r\n          <select\r\n            value={paymentFilter}\r\n            onChange={(e) => setPaymentFilter(e.target.value)}\r\n            className=\"text-sm bg-white border border-gray-300 px-2 py-1 rounded focus:ring-2 focus:ring-teal-600\"\r\n            aria-label=\"Payment method\"\r\n          >\r\n            <option value=\"\">Any</option>\r\n            <option value=\"Bank and Cash\">Bank and Cash</option>\r\n            <option value=\"Cash Only\">Cash Only</option>\r\n            <option value=\"Bank Only\">Bank Only</option>\r\n          </select>\r\n        </div>\r\n            <div className=\"flex flex-col gap-1\">\r\n              <label className=\"text-xs font-semibold text-gray-600\">Saved Searches</label>\r\n              <div className=\"flex flex-wrap gap-1\">\r\n                {savedSearches.length === 0 && (\r\n                  <span className=\"text-[11px] text-gray-500\">None saved</span>\r\n                )}\r\n                {savedSearches.map(s => (\r\n                  <button\r\n                    key={s.id}\r\n                    type=\"button\"\r\n                    onClick={() => loadSearch(s)}\r\n                    className=\"px-2 py-1 rounded-md text-[11px] font-medium bg-purple-50 text-purple-700 border border-purple-200 hover:bg-purple-100\"\r\n                  >{s.location || 'Any'}  {s.priceRange[0]}-{s.priceRange[1]}</button>\r\n                ))}\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                onClick={saveCurrentSearch}\r\n                className=\"mt-1 text-xs text-purple-700 hover:text-purple-800 font-medium underline\"\r\n              >Save Current Search</button>\r\n            </div>\r\n        <div>\r\n          <label className=\"text-xs font-semibold text-gray-600 mb-1 block\">Amenities</label>\r\n          <div className=\"flex flex-wrap gap-1\">\r\n            {amenityOptions.map(a => (\r\n              <button\r\n                key={a}\r\n                type=\"button\"\r\n                onClick={() => toggleAmenity(a)}\r\n                className={`px-2 py-1 rounded-md text-[11px] font-medium border transition ${selectedAmenities.includes(a) ? 'bg-teal-600 text-white border-teal-600 shadow-sm' : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'}`}\r\n                aria-pressed={selectedAmenities.includes(a)}\r\n              >{a}</button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-2 flex flex-col gap-2\">\r\n          <label className=\"text-xs font-semibold text-gray-600\">Nearby Search</label>\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => onFindNearby && onFindNearby()}\r\n              className=\"flex-1 bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded text-xs font-medium\"\r\n            >Find Nearby</button>\r\n            <select\r\n              value={nearbyRadius}\r\n              onChange={(e) => setNearbyRadius(parseInt(e.target.value))}\r\n              className=\"text-xs bg-gray-50 border border-gray-300 px-2 py-1 rounded\"\r\n              aria-label=\"Nearby radius\"\r\n            >\r\n              <option value={1}>1km</option>\r\n              <option value={3}>3km</option>\r\n              <option value={5}>5km</option>\r\n              <option value={10}>10km</option>\r\n            </select>\r\n          </div>\r\n          {nearbyMode && (\r\n            <button\r\n              onClick={clearNearby}\r\n              className=\"text-xs bg-white border border-gray-300 text-gray-700 px-2 py-1 rounded\"\r\n            >Clear Nearby</button>\r\n          )}\r\n          {nearbyStatus && <div className=\"text-xs text-gray-500\" aria-live=\"polite\">{nearbyStatus}</div>}\r\n          {!userLocation && (\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => { onFindNearby && onFindNearby(); setLocationTip('Grant location access for accurate nearby rooms.'); }}\r\n              className=\"text-xs text-blue-600 underline mt-1 text-left\"\r\n            >Enable Location</button>\r\n          )}\r\n          {locationTip && !userLocation && (\r\n            <div className=\"text-[11px] text-yellow-700 bg-yellow-50 border border-yellow-200 rounded p-2 mt-1\" aria-live=\"polite\">{locationTip}</div>\r\n          )}\r\n        </div>\r\n        <button\r\n          onClick={() => setShowAdvancedFilters(!showAdvancedFilters)}\r\n          className=\"mt-2 text-xs text-teal-700 hover:text-teal-800 font-semibold px-2 py-1 rounded hover:bg-teal-50 transition\"\r\n          aria-expanded={showAdvancedFilters}\r\n        >{showAdvancedFilters ? 'Close Advanced' : 'More Filters'}</button>\r\n        {showAdvancedFilters && (\r\n          <div className=\"mt-2 p-2 bg-gray-50 border border-gray-200 rounded\" aria-label=\"Advanced filters\"><p className=\"text-xs text-gray-600\">(Advanced filters placeholder)</p></div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Desktop layout\r\n  if (isDesktop) {\r\n    return (\r\n      <div className=\"bg-gray-50 min-h-screen pb-4\" aria-labelledby=\"results-heading\">\r\n        <div className=\"layout-desktop\">\r\n          <aside className=\"sidebar-nav\" role=\"navigation\" aria-label=\"Desktop navigation and filters\">\r\n            <div>\r\n              <h2 className=\"text-xl font-bold flex items-center gap-2 mb-4\"><span className=\"text-teal-600\">Room</span><span className=\"text-red-500\">24</span></h2>\r\n              <div className=\"sidebar-section-title mb-2\">Navigation</div>\r\n              <div className=\"sidebar-menu\">\r\n                {desktopNavItems.filter(i => i.show === undefined || i.show).map(item => {\r\n                  const Icon = item.icon;\r\n                  const isActive = item.id === 'browse';\r\n                  return (\r\n                    <button\r\n                      key={item.id}\r\n                      onClick={() => setCurrentView(item.id)}\r\n                      className={isActive ? 'active' : ''}\r\n                      aria-label={item.label}\r\n                    >\r\n                      <Icon className=\"w-4 h-4\" /> {item.label}\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <div className=\"sidebar-section-title mb-2\">Filters</div>\r\n              {renderFiltersBox()}\r\n            </div>\r\n            {/* Sidebar Ad */}\r\n            <SidebarAd />\r\n            {!currentUser && (\r\n              <div className=\"mt-auto pt-4 border-t border-gray-200\">\r\n                <p className=\"text-xs text-gray-500 mb-2\">Join to list rooms.</p>\r\n            {!userLocation && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => { onFindNearby && onFindNearby(); setLocationTip('Allow location in browser prompt for Nearby.'); }}\r\n                className=\"text-xs text-blue-600 underline\"\r\n              >Enable Location</button>\r\n            )}\r\n                <div className=\"flex gap-2\">\r\n                  <button onClick={() => onRequireAuth && onRequireAuth('renter')} className=\"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 text-xs py-2 rounded\">Sign In</button>\r\n                  <button onClick={() => onRequireAuth && onRequireAuth('landlord')} className=\"flex-1 bg-red-500 hover:bg-red-600 text-white text-xs py-2 rounded\">List Room</button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </aside>\r\n          <main className=\"desktop-split\" role=\"main\">\r\n            <div className=\"list-pane\">\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h2 id=\"results-heading\" className=\"text-lg font-semibold text-gray-800\">{listings.length === 0 ? 'No rooms' : `${listings.length} rooms`}</h2>\r\n                <button\r\n                  onClick={() => setMapView(!mapView)}\r\n                  className=\"text-xs px-3 py-1.5 rounded border border-gray-300 bg-white hover:bg-gray-50 transition\"\r\n                  aria-pressed={mapView}\r\n                >{mapView ? 'Hide Map' : 'Show Map'}</button>\r\n              </div>\r\n              {renderFilterChips()}\r\n              {initialLoad ? (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6\" aria-label=\"Loading listings\">\r\n                  {Array.from({ length: 8 }).map((_, i) => <ListingSkeletonCard key={i} />)}\r\n                </div>\r\n              ) : (\r\n                (paymentFilter ? listings.filter(l => l.paymentMethod === paymentFilter) : listings).length === 0 ? (\r\n                  <div className=\"bg-white border border-gray-200 rounded-lg p-8 text-center\"><p className=\"text-gray-600 text-sm\">No rooms match your filters.</p></div>\r\n                ) : (\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6\">\r\n                    {(paymentFilter ? listings.filter(l => l.paymentMethod === paymentFilter) : listings).map((listing, idx) => (\r\n                      <React.Fragment key={listing.id}>\r\n                        <ListingCard listing={listing} onClick={() => onSelectListing(listing)} />\r\n                        {(idx + 1) % 6 === 0 && idx !== listings.length - 1 && (\r\n                          <div className=\"md:col-span-2 xl:col-span-3 2xl:col-span-4\">\r\n                            <InFeedAd />\r\n                          </div>\r\n                        )}\r\n                      </React.Fragment>\r\n                    ))}\r\n                  </div>\r\n                )\r\n              )}\r\n            </div>\r\n            {mapView && (\r\n              <div className=\"map-pane\">\r\n                <MapView\r\n                  listings={listings}\r\n                  onMarkerClick={(l) => onSelectListing(l)}\r\n                  userLocation={userLocation}\r\n                  nearbyRadius={nearbyRadius}\r\n                  fullHeight={true}\r\n                  onRadiusChange={setNearbyRadius}\r\n                  onRecenter={() => {/* handled in MapView */}}\r\n                />\r\n              </div>\r\n            )}\r\n          </main>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Mobile / tablet layout\r\n  return (\r\n    <div className=\"bg-gray-50 min-h-screen pb-20\" role=\"main\" aria-labelledby=\"results-heading\">\r\n      <div className=\"bg-white border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 py-6\">\r\n          <div className=\"mb-4 space-y-3\">\r\n            <div className=\"relative\">\r\n              <MapPin className=\"absolute left-3 top-3.5 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search by location, suburb, or area...\"\r\n                value={searchLocation}\r\n                onChange={(e) => setSearchLocation(e.target.value)}\r\n                className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-700 focus:ring-2 focus:ring-teal-600 focus:border-transparent shadow-sm\"\r\n                aria-label=\"Location search\"\r\n              />\r\n              {locationLoading && (\r\n                <div className=\"absolute right-3 top-3.5 text-teal-600 animate-pulse text-xs\" aria-live=\"polite\">Loading...</div>\r\n              )}\r\n              {locationSuggestions.length > 0 && (\r\n                <div className=\"absolute left-0 right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-sm z-20 overflow-hidden\">\r\n                  {locationSuggestions.map(s => (\r\n                    <button\r\n                      key={s}\r\n                      type=\"button\"\r\n                      onClick={() => { setSearchLocation(s); setLocationSuggestions([]); }}\r\n                      className=\"w-full text-left px-3 py-2 text-sm hover:bg-teal-50\"\r\n                    >{s}</button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"flex flex-wrap items-center gap-2\">\r\n              <button className=\"bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg transition font-semibold shadow-sm text-sm\" onClick={() => {}} aria-label=\"Search submit\">Search</button>\r\n              <button\r\n                onClick={() => {\r\n                  if (!searchLocation || searchLocation.trim() === '') {\r\n                    alert('Enter a location to subscribe.');\r\n                    return;\r\n                  }\r\n                  if (!currentUser) {\r\n                    onRequireAuth && onRequireAuth('renter');\r\n                    return;\r\n                  }\r\n                  subscribeToArea && subscribeToArea(currentUser.id, searchLocation.trim());\r\n                }}\r\n                className=\"bg-white border border-gray-200 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-50 transition text-sm\"\r\n              >Subscribe</button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => onFindNearby && onFindNearby()}\r\n                className=\"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition\"\r\n                aria-label=\"Find nearby\"\r\n              >Nearby</button>\r\n              <select value={nearbyRadius} onChange={(e) => setNearbyRadius(parseInt(e.target.value))} className=\"text-sm bg-gray-50 border border-gray-200 px-3 py-2 rounded-lg text-gray-700 flex-shrink-0\" aria-label=\"Nearby radius\">\r\n                <option value={1}>1 km</option>\r\n                <option value={3}>3 km</option>\r\n                <option value={5}>5 km</option>\r\n                <option value={10}>10 km</option>\r\n              </select>\r\n              {nearbyMode && (\r\n                <button onClick={clearNearby} className=\"bg-white border border-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm\" aria-label=\"Clear nearby\">Clear</button>\r\n              )}\r\n              {!userLocation && (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => { onFindNearby && onFindNearby(); setLocationTip('Allow location access for better Nearby results.'); }}\r\n                  className=\"text-xs text-blue-600 underline\"\r\n                >Enable Location</button>\r\n              )}\r\n            </div>\r\n            <div className=\"flex flex-wrap gap-1 -mt-1 mb-2\" aria-label=\"Quick radius\">\r\n              {[1,3,5,10].map(r => (\r\n                <button\r\n                  key={r}\r\n                  type=\"button\"\r\n                  onClick={() => setNearbyRadius(r)}\r\n                  className={`px-2 py-1 text-[11px] rounded border ${nearbyRadius===r?'bg-green-600 text-white border-green-600':'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'}`}\r\n                  aria-pressed={nearbyRadius===r}\r\n                >{r}km</button>\r\n              ))}\r\n            </div>\r\n            <div className=\"flex flex-wrap gap-2 mb-2\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={saveCurrentSearch}\r\n                className=\"text-xs px-2 py-1 rounded bg-purple-600 hover:bg-purple-700 text-white font-semibold shadow-sm\"\r\n              >Save Search</button>\r\n              {savedSearches.map(s => (\r\n                <button\r\n                  key={s.id}\r\n                  type=\"button\"\r\n                  onClick={() => loadSearch(s)}\r\n                  className=\"text-[11px] px-2 py-1 rounded bg-purple-50 text-purple-700 border border-purple-200\"\r\n                >{s.location || 'Any'}  {s.priceRange[0]}-{s.priceRange[1]}</button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"flex gap-2 mb-3 flex-wrap items-center\">\r\n            <div className=\"flex items-center gap-2 bg-gray-50 px-3 py-2 rounded-lg border border-gray-200\">\r\n              <span className=\"text-sm text-gray-600 font-medium\">R{priceRange[0].toLocaleString()} - R{priceRange[1].toLocaleString()}</span>\r\n              <select\r\n                value={priceRange[0]}\r\n                onChange={(e) => setPriceRange([parseInt(e.target.value), priceRange[1]])}\r\n                className=\"text-xs bg-transparent border-l border-gray-300 pl-2 text-gray-600 focus:outline-none\"\r\n                aria-label=\"Minimum price\"\r\n              >\r\n                <option value=\"0\">Min</option>\r\n                <option value=\"500\">R500</option>\r\n                <option value=\"1000\">R1000</option>\r\n                <option value=\"1500\">R1500</option>\r\n              </select>\r\n              <select\r\n                value={priceRange[1]}\r\n                onChange={(e) => setPriceRange([priceRange[0], parseInt(e.target.value)])}\r\n                className=\"text-xs bg-transparent border-l border-gray-300 pl-2 text-gray-600 focus:outline-none\"\r\n                aria-label=\"Maximum price\"\r\n              >\r\n                <option value=\"10000\">R10k</option>\r\n                <option value=\"5000\">R5k</option>\r\n                <option value=\"3000\">R3k</option>\r\n                <option value=\"2000\">R2k</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-sm text-gray-600\">Sort:</span>\r\n              <select\r\n                value={sortBy}\r\n                onChange={(e) => setSortBy(e.target.value)}\r\n                className=\"text-sm bg-gray-50 border border-gray-200 px-3 py-2 rounded-lg text-gray-700 focus:ring-2 focus:ring-teal-600\"\r\n                aria-label=\"Sort order\"\r\n              >\r\n                <option value=\"newest\">Newest</option>\r\n                <option value=\"cheapest\">Cheapest</option>\r\n                <option value=\"expensive\">Most Expensive</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-sm text-gray-600\">Payment:</span>\r\n              <select\r\n                value={paymentFilter}\r\n                onChange={(e) => setPaymentFilter(e.target.value)}\r\n                className=\"text-sm bg-gray-50 border border-gray-200 px-3 py-2 rounded-lg text-gray-700 focus:ring-2 focus:ring-teal-600\"\r\n                aria-label=\"Payment method filter\"\r\n              >\r\n                <option value=\"\">Any</option>\r\n                <option value=\"Bank and Cash\">Bank & Cash</option>\r\n                <option value=\"Cash Only\">Cash Only</option>\r\n                <option value=\"Bank Only\">Bank Only</option>\r\n              </select>\r\n            </div>\r\n            <button\r\n              onClick={() => setShowAdvancedFilters(!showAdvancedFilters)}\r\n              className=\"text-sm text-teal-700 hover:text-teal-800 font-medium px-3 py-2 rounded-lg hover:bg-teal-50 transition\"\r\n              aria-expanded={showAdvancedFilters}\r\n            >{showAdvancedFilters ? ' Filters' : ' Filters'}</button>\r\n          </div>\r\n          {locationTip && !userLocation && (\r\n            <div className=\"text-xs text-yellow-700 bg-yellow-50 border border-yellow-200 rounded p-2 mb-3\" aria-live=\"polite\">{locationTip}</div>\r\n          )}\r\n          {showAdvancedFilters && (\r\n            <div className=\"mt-3 p-4 bg-gray-50 rounded-lg border border-gray-200\">\r\n              <div className=\"flex flex-wrap gap-1 mb-2\" aria-label=\"Amenities\">\r\n                {amenityOptions.map(a => (\r\n                  <button\r\n                    key={a}\r\n                    type=\"button\"\r\n                    onClick={() => toggleAmenity(a)}\r\n                    className={`px-2 py-1 rounded-md text-[11px] font-medium border transition ${selectedAmenities.includes(a) ? 'bg-teal-600 text-white border-teal-600 shadow-sm' : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'}`}\r\n                    aria-pressed={selectedAmenities.includes(a)}\r\n                  >{a}</button>\r\n                ))}\r\n              </div>\r\n              <p className=\"text-xs text-gray-500\">Select amenities to refine results.</p>\r\n            </div>\r\n          )}\r\n          {renderFilterChips()}\r\n        </div>\r\n      </div>\r\n      {/* Mobile Banner Ad */}\r\n      <div className=\"max-w-7xl mx-auto px-4 pt-3\">\r\n        <InFeedAd />\r\n      </div>\r\n      <div className=\"max-w-7xl mx-auto px-4\">\r\n        <div className=\"flex justify-between items-center mt-4 mb-3\">\r\n          <h2 id=\"results-heading\" className=\"text-2xl font-bold text-gray-800\">{listings.length === 0 ? 'No rooms available' : `${listings.length} Rooms Available`}</h2>\r\n          <button\r\n            onClick={() => setMapView(!mapView)}\r\n            className=\"text-sm px-4 py-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 transition flex items-center gap-2\"\r\n            aria-pressed={mapView}\r\n          >\r\n            <MapPin className=\"w-4 h-4\" /> {mapView ? 'Show List' : 'Show Map'}\r\n          </button>\r\n        </div>\r\n        {mapView && (\r\n          <div className=\"mb-6\">\r\n            <MapView\r\n              listings={listings}\r\n              onMarkerClick={(l) => onSelectListing(l)}\r\n              userLocation={userLocation}\r\n              nearbyRadius={nearbyRadius}\r\n              fullHeight={false}\r\n              onRadiusChange={setNearbyRadius}\r\n            />\r\n          </div>\r\n        )}\r\n        {initialLoad ? (\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-12 justify-items-center\" aria-label=\"Loading listings\">\r\n            {Array.from({ length: 8 }).map((_, i) => <ListingSkeletonCard key={i} />)}\r\n          </div>\r\n        ) : (\r\n          (paymentFilter ? listings.filter(l => l.paymentMethod === paymentFilter) : listings).length === 0 ? (\r\n            <div className=\"bg-white rounded-lg border border-gray-200 p-12 text-center\">\r\n              <Home className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\r\n              <p className=\"text-gray-600 font-medium mb-2\">No rooms match your search</p>\r\n              <p className=\"text-gray-500 text-sm mb-4\">Try adjusting your filters or search in a different location</p>\r\n              <button\r\n                onClick={() => {\r\n                  setSearchLocation('');\r\n                  setPriceRange([0, 10000]);\r\n                  setSelectedAmenities([]);\r\n                  setSortBy('newest');\r\n                }}\r\n                className=\"text-teal-700 hover:text-teal-800 font-medium text-sm\"\r\n              >Clear all filters</button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-12 justify-items-center\">\r\n              {(paymentFilter ? listings.filter(l => l.paymentMethod === paymentFilter) : listings).map((listing, idx) => (\r\n                <React.Fragment key={listing.id}>\r\n                  <ListingCard listing={listing} onClick={() => onSelectListing(listing)} />\r\n                  {(idx + 1) % 8 === 0 && idx !== listings.length - 1 && (\r\n                    <div className=\"sm:col-span-2 lg:col-span-3 xl:col-span-4\">\r\n                      <InFeedAd />\r\n                    </div>\r\n                  )}\r\n                </React.Fragment>\r\n              ))}\r\n            </div>\r\n          )\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}