{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kutum\\\\Documents\\\\room-rental-platform\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { initFirebase, initAnalytics, requestFcmToken, listenForegroundMessages, trackEvent, fetchListings, addListing, deleteListing, subscribeToListings, isFirestoreEnabled, subscribeToAuthState, getUserProfile, saveUserProfile, initRecaptcha, sendPhoneOTP, verifyPhoneOTP, clearRecaptcha, getLinkedProviders, linkGoogleAccount } from './firebase';\nimport { Home, PlusCircle, Search, MapPin, X, User, Phone, Mail, Edit, CheckCircle, Heart, Calendar, Bell, AlertTriangle, LogOut, Link2, Download, Smartphone } from 'lucide-react';\nimport Header from './components/Header';\nimport ListingDetailModal from './components/ListingDetailModal';\nimport Footer from './components/Footer';\nimport BrowseView from './components/BrowseView';\nimport PrivacyPolicyModal from './components/PrivacyPolicyModal';\nimport NotificationBanner from './components/NotificationBanner';\nimport AnalyticsConsentModal from './components/AnalyticsConsentModal';\nimport NotificationsPanel from './components/NotificationsPanel';\nimport PhotoEditor from './components/PhotoEditor';\nimport OfflineIndicator from './components/OfflineIndicator';\nimport BackToTop from './components/BackToTop';\nimport { getNotifications } from './utils/notificationEngine';\nimport { loadListingTemplate, saveListingTemplate, clearListingTemplate } from './utils/listingTemplateStorage';\nimport { signUpWithEmail, signInWithEmail, signInWithGoogle, signOut as firebaseSignOut, resetPassword } from './firebase';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function RentalPlatform() {\n  _s();\n  const [currentView, setCurrentView] = useState('browse');\n  const [userType, setUserType] = useState(null);\n  const [previewAsRenter, setPreviewAsRenter] = useState(false); // landlord UI preview toggle\n  const [listings, setListings] = useState([]);\n  const [selectedListing, setSelectedListing] = useState(null);\n  const [users, setUsers] = useState([]); // registry of all users (localStorage 'users')\n  const [searchLocation, setSearchLocation] = useState('');\n  const [priceRange, setPriceRange] = useState([0, 10000]);\n  const [selectedAmenities, setSelectedAmenities] = useState([]);\n  const [sortBy, setSortBy] = useState('newest');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [userProfile, setUserProfile] = useState(null); // Extended profile from Firestore\n  const [authLoading, setAuthLoading] = useState(true); // Loading state for auth\n  const [showAuthModal, setShowAuthModal] = useState(false);\n  const [authDefaultType, setAuthDefaultType] = useState('renter');\n  // Mobile menu state moved into Header component\n  const [toast, setToast] = useState(null);\n  const [showPrivacyPolicy, setShowPrivacyPolicy] = useState(false);\n  const [notificationBanner, setNotificationBanner] = useState(null);\n  const [showAnalyticsConsent, setShowAnalyticsConsent] = useState(false);\n  const [showNotificationsPanel, setShowNotificationsPanel] = useState(false);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [showInstallBanner, setShowInstallBanner] = useState(false);\n  const [deferredPrompt, setDeferredPrompt] = useState(null);\n  const openAuthModal = (type = 'renter') => {\n    setAuthDefaultType(type);\n    setShowAuthModal(true);\n  };\n\n  // Auth functions to pass to AuthModal\n  const authFunctions = {\n    signUp: async (email, password, displayName, userTypeParam = 'renter', phone = '') => {\n      const firebaseUser = await signUpWithEmail(email, password, displayName);\n\n      // Create user profile in Firestore\n      const profileData = {\n        email: firebaseUser.email,\n        displayName: displayName || firebaseUser.displayName,\n        userType: userTypeParam,\n        phone,\n        photoURL: firebaseUser.photoURL || '',\n        createdAt: new Date().toISOString(),\n        landlordComplete: userTypeParam === 'renter'\n      };\n      await saveUserProfile(firebaseUser.uid, profileData);\n      return firebaseUser;\n    },\n    signIn: async (email, password) => {\n      return await signInWithEmail(email, password);\n    },\n    signInGoogle: async (userTypeParam = 'renter') => {\n      const firebaseUser = await signInWithGoogle();\n\n      // Check if user profile exists\n      let profile = await getUserProfile(firebaseUser.uid);\n      if (!profile) {\n        // Create new profile for Google user\n        const profileData = {\n          email: firebaseUser.email,\n          displayName: firebaseUser.displayName || '',\n          userType: userTypeParam,\n          phone: firebaseUser.phoneNumber || '',\n          photoURL: firebaseUser.photoURL || '',\n          createdAt: new Date().toISOString(),\n          landlordComplete: userTypeParam === 'renter'\n        };\n        await saveUserProfile(firebaseUser.uid, profileData);\n      }\n      return firebaseUser;\n    },\n    sendPasswordReset: async email => {\n      await resetPassword(email);\n    },\n    sendPhoneOTP: async phoneNumber => {\n      // Initialize reCAPTCHA if not already done\n      initRecaptcha('phone-sign-in-button');\n      return await sendPhoneOTP(phoneNumber);\n    },\n    verifyPhoneOTP: async (otpCode, userTypeParam = 'renter', displayName = '') => {\n      const firebaseUser = await verifyPhoneOTP(otpCode);\n\n      // Check if user profile exists\n      let profile = await getUserProfile(firebaseUser.uid);\n      if (!profile) {\n        // Create new profile for phone user\n        const profileData = {\n          email: '',\n          displayName: displayName || firebaseUser.phoneNumber,\n          userType: userTypeParam,\n          phone: firebaseUser.phoneNumber || '',\n          photoURL: '',\n          createdAt: new Date().toISOString(),\n          landlordComplete: userTypeParam === 'renter'\n        };\n        await saveUserProfile(firebaseUser.uid, profileData);\n      }\n      return firebaseUser;\n    },\n    clearPhoneAuth: () => {\n      clearRecaptcha();\n    }\n  };\n\n  // Update unread notification count\n  useEffect(() => {\n    const updateUnreadCount = () => {\n      const notifications = getNotifications();\n      setUnreadCount(notifications.filter(n => !n.read).length);\n    };\n    updateUnreadCount();\n    const interval = setInterval(updateUnreadCount, 5000); // check every 5s\n    return () => clearInterval(interval);\n  }, []);\n\n  // PWA Install Banner Logic\n  useEffect(() => {\n    // Check if already installed or dismissed\n    const isInstalled = window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true;\n    const wasDismissed = localStorage.getItem('installBannerDismissed');\n    const dismissedTime = wasDismissed ? parseInt(wasDismissed, 10) : 0;\n    const daysSinceDismissed = (Date.now() - dismissedTime) / (1000 * 60 * 60 * 24);\n    if (isInstalled) {\n      setShowInstallBanner(false);\n      return;\n    }\n\n    // Listen for the beforeinstallprompt event\n    const handleBeforeInstallPrompt = e => {\n      e.preventDefault();\n      setDeferredPrompt(e);\n      // Show banner if not dismissed recently (within 7 days)\n      if (!wasDismissed || daysSinceDismissed > 7) {\n        setTimeout(() => setShowInstallBanner(true), 3000); // Show after 3 seconds\n      }\n    };\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n\n    // For iOS (no beforeinstallprompt), show manual instructions after delay\n    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);\n    if (isIOS && !isInstalled && (!wasDismissed || daysSinceDismissed > 7)) {\n      setTimeout(() => setShowInstallBanner(true), 5000);\n    }\n    return () => {\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n    };\n  }, []);\n  const handleInstallClick = async () => {\n    if (deferredPrompt) {\n      deferredPrompt.prompt();\n      const {\n        outcome\n      } = await deferredPrompt.userChoice;\n      if (outcome === 'accepted') {\n        setShowInstallBanner(false);\n      }\n      setDeferredPrompt(null);\n    } else {\n      // iOS - show instructions\n      showToast('Tap the Share button, then \"Add to Home Screen\"', 'info', 'Install Room24');\n    }\n  };\n  const dismissInstallBanner = () => {\n    setShowInstallBanner(false);\n    localStorage.setItem('installBannerDismissed', Date.now().toString());\n  };\n  useEffect(() => {\n    loadData();\n    // Initialize Firebase + FCM token fetch (deferred until user interaction if desired)\n    const app = initFirebase();\n\n    // Set up Firebase Auth listener\n    const unsubscribeAuth = subscribeToAuthState(async firebaseUser => {\n      if (firebaseUser) {\n        setCurrentUser(firebaseUser);\n        // Fetch extended profile from Firestore\n        try {\n          const profile = await getUserProfile(firebaseUser.uid);\n          if (profile) {\n            setUserProfile(profile);\n            setUserType(profile.userType || 'renter');\n          }\n        } catch (err) {\n          console.error('Error fetching user profile:', err);\n        }\n      } else {\n        setCurrentUser(null);\n        setUserProfile(null);\n        setUserType(null);\n      }\n      setAuthLoading(false);\n    });\n\n    // Set up real-time listener for Firestore listings\n    let unsubscribeListings = null;\n    if (isFirestoreEnabled()) {\n      unsubscribeListings = subscribeToListings(firestoreListings => {\n        if (firestoreListings && firestoreListings.length >= 0) {\n          setListings(firestoreListings);\n          // Cache locally for offline access\n          localStorage.setItem('listings', JSON.stringify(firestoreListings));\n        }\n      });\n    }\n\n    // Check analytics consent and show modal if not set\n    const analyticsConsent = localStorage.getItem('analytics-consent');\n    if (!analyticsConsent && process.env.REACT_APP_ENABLE_ANALYTICS === 'true') {\n      // Delay modal slightly so UI loads first\n      setTimeout(() => setShowAnalyticsConsent(true), 2000);\n    } else if (analyticsConsent === 'yes') {\n      initAnalytics(app);\n    }\n    (async () => {\n      try {\n        const token = await requestFcmToken();\n        if (token) {\n          console.log('Obtained FCM token:', token);\n          trackEvent('fcm_token_obtained');\n        }\n      } catch (e) {\n        console.warn('FCM token request failed', e);\n      }\n    })();\n    listenForegroundMessages(payload => {\n      // Display notification banner instead of toast\n      const notification = (payload === null || payload === void 0 ? void 0 : payload.notification) || {};\n      if (notification.title || notification.body) {\n        setNotificationBanner({\n          title: notification.title,\n          body: notification.body\n        });\n        // Auto-dismiss after 8 seconds\n        setTimeout(() => setNotificationBanner(null), 8000);\n      }\n    });\n\n    // Cleanup: unsubscribe from listeners on unmount\n    return () => {\n      if (unsubscribeAuth) {\n        unsubscribeAuth();\n      }\n      if (unsubscribeListings) {\n        unsubscribeListings();\n      }\n    };\n  }, []);\n\n  // Guard: if someone navigates to 'add' without landlord auth, prompt to sign in\n  useEffect(() => {\n    if (authLoading) return; // Wait for auth to load\n\n    if (currentView === 'add') {\n      if (!currentUser) {\n        openAuthModal('landlord');\n        setCurrentView('browse');\n      } else if (userType !== 'landlord') {\n        // Not a landlord - prompt to become one\n        openAuthModal('landlord');\n        setCurrentView('browse');\n      } else if (!(userProfile !== null && userProfile !== void 0 && userProfile.landlordComplete)) {\n        // Landlord but hasn't completed onboarding\n        setCurrentView('landlord-onboarding');\n      }\n    }\n  }, [currentView, currentUser, userType, userProfile, authLoading]);\n  const loadData = async () => {\n    try {\n      // Try to load from Firestore first\n      const firestoreListings = await fetchListings();\n      if (firestoreListings && firestoreListings.length > 0) {\n        console.log('Loaded listings from Firestore');\n        setListings(firestoreListings);\n        // Also cache to localStorage for offline access\n        localStorage.setItem('listings', JSON.stringify(firestoreListings));\n      } else {\n        // Fall back to localStorage\n        const listingsResult = localStorage.getItem('listings');\n        if (listingsResult) {\n          console.log('Loaded listings from localStorage (Firestore empty or unavailable)');\n          setListings(JSON.parse(listingsResult));\n        }\n      }\n      const userResult = localStorage.getItem('current-user');\n      const usersResult = localStorage.getItem('users');\n      if (userResult) {\n        const user = JSON.parse(userResult);\n        setCurrentUser(user);\n        setUserType(user.type);\n      }\n      if (usersResult) {\n        try {\n          const parsed = JSON.parse(usersResult);\n          setUsers(Array.isArray(parsed) ? parsed : []);\n        } catch (e) {\n          console.warn('Corrupt users array in storage, resetting');\n          setUsers([]);\n        }\n      }\n    } catch (error) {\n      console.log('No existing data found, starting fresh');\n      // Add sample listings for testing the map\n      const sampleListings = [{\n        id: 'listing-1',\n        title: 'Cozy Room in Soweto',\n        price: 2500,\n        location: 'Soweto, Johannesburg',\n        description: 'Comfortable room with bathroom and kitchen access',\n        photos: [],\n        status: 'available',\n        availableDate: new Date().toISOString(),\n        amenities: ['WiFi', 'Kitchen'],\n        landlordId: 'landlord-1',\n        landlordName: 'John Smith',\n        landlordPhone: '+27 123 456 7890',\n        landlordEmail: 'john@example.com',\n        landlordPhoto: '',\n        createdAt: new Date().toISOString()\n      }, {\n        id: 'listing-2',\n        title: 'Modern Apartment in Sandton',\n        price: 4500,\n        location: 'Sandton, Johannesburg',\n        description: 'Luxurious apartment with parking and security',\n        photos: [],\n        status: 'available',\n        availableDate: new Date().toISOString(),\n        amenities: ['WiFi', 'Parking', 'Air Conditioning'],\n        landlordId: 'landlord-2',\n        landlordName: 'Jane Doe',\n        landlordPhone: '+27 987 654 3210',\n        landlordEmail: 'jane@example.com',\n        landlordPhoto: '',\n        createdAt: new Date().toISOString()\n      }, {\n        id: 'listing-3',\n        title: 'Studio in Midrand',\n        price: 3200,\n        location: 'Midrand, Johannesburg',\n        description: 'Spacious studio flat with laundry facilities',\n        photos: [],\n        status: 'available',\n        availableDate: new Date().toISOString(),\n        amenities: ['Laundry', 'WiFi'],\n        landlordId: 'landlord-3',\n        landlordName: 'Mike Johnson',\n        landlordPhone: '+27 555 555 5555',\n        landlordEmail: 'mike@example.com',\n        landlordPhoto: '',\n        createdAt: new Date().toISOString()\n      }];\n      setListings(sampleListings);\n    }\n  };\n\n  // Helper: check for duplicate phone or email in registry (exclude an optional user id)\n  const isDuplicateContact = (phone, email, ignoreId = null) => {\n    const normalizedPhone = (phone || '').trim();\n    const normalizedEmail = (email || '').trim().toLowerCase();\n    if (!users || users.length === 0) return false;\n    return users.some(u => {\n      if (ignoreId && u.id === ignoreId) return false;\n      const uPhone = (u.phone || '').trim();\n      const uEmail = (u.email || '').trim().toLowerCase();\n      const phoneMatch = normalizedPhone && uPhone && uPhone === normalizedPhone;\n      const emailMatch = normalizedEmail && uEmail && uEmail === normalizedEmail;\n      return phoneMatch || emailMatch;\n    });\n  };\n\n  // Toast notification helper\n  const showToast = (message, type = 'info', title = '') => {\n    setToast({\n      message,\n      type,\n      title\n    });\n    setTimeout(() => setToast(null), 5000);\n  };\n  const handleAnalyticsConsentAccept = () => {\n    localStorage.setItem('analytics-consent', 'yes');\n    setShowAnalyticsConsent(false);\n    const app = initFirebase();\n    initAnalytics(app);\n    trackEvent('analytics_consent_granted');\n    showToast('Analytics enabled', 'success', 'Thank you!');\n  };\n  const handleAnalyticsConsentDecline = () => {\n    localStorage.setItem('analytics-consent', 'no');\n    setShowAnalyticsConsent(false);\n    showToast('Analytics disabled', 'info');\n  };\n  const saveListings = async newListings => {\n    try {\n      localStorage.setItem('listings', JSON.stringify(newListings));\n      setListings(newListings);\n      // Broadcast to runtime service worker for offline snapshot caching\n      if (navigator.serviceWorker && navigator.serviceWorker.controller) {\n        try {\n          navigator.serviceWorker.controller.postMessage({\n            type: 'SYNC_LISTINGS',\n            payload: newListings\n          });\n        } catch {}\n      }\n    } catch (error) {\n      console.error('Error saving listings:', error);\n    }\n  };\n  const saveSubscriptions = async subscriptions => {\n    try {\n      localStorage.setItem('subscriptions', JSON.stringify(subscriptions));\n    } catch (error) {\n      console.error('Error saving subscriptions:', error);\n    }\n  };\n  const getSubscriptions = async () => {\n    try {\n      const res = localStorage.getItem('subscriptions');\n      return res ? JSON.parse(res) : {};\n    } catch (err) {\n      console.error('Error loading subscriptions', err);\n    }\n    return {};\n  };\n  const subscribeToArea = async (userId, area) => {\n    if (!userId) {\n      openAuthModal('renter');\n      return;\n    }\n    if (!area || area.trim() === '') {\n      alert('Please enter a location to subscribe to.');\n      return;\n    }\n    try {\n      const subs = await getSubscriptions();\n      subs[userId] = subs[userId] || [];\n      if (!subs[userId].includes(area)) {\n        subs[userId].push(area);\n        await saveSubscriptions(subs);\n        alert(`Subscribed to updates for ${area}`);\n      } else {\n        alert(`You are already subscribed to ${area}`);\n      }\n    } catch (err) {\n      console.error('Subscribe failed', err);\n      alert('Could not subscribe. Please try again.');\n    }\n  };\n  const handleProfileSetup = async profileData => {\n    try {\n      // Duplicate guard\n      if (isDuplicateContact(profileData.phone, profileData.email)) {\n        showToast('Phone or email already registered', 'error', 'Duplicate');\n        return;\n      }\n      const userId = `user-${Date.now()}`;\n      const user = {\n        id: userId,\n        type: userType,\n        ...profileData,\n        whatsapp: profileData.whatsapp || '',\n        notificationPrefs: {\n          updates: true,\n          marketing: false\n        },\n        createdAt: new Date().toISOString()\n      };\n      localStorage.setItem('current-user', JSON.stringify(user));\n      setCurrentUser(user);\n      // Update users registry\n      const existingUsersRaw = localStorage.getItem('users');\n      let existingUsers = [];\n      if (existingUsersRaw) {\n        try {\n          existingUsers = JSON.parse(existingUsersRaw);\n        } catch {\n          existingUsers = [];\n        }\n      }\n      existingUsers.push(user);\n      localStorage.setItem('users', JSON.stringify(existingUsers));\n      setUsers(existingUsers);\n      showToast('Profile created successfully!', 'success', 'Welcome!');\n      setCurrentView('browse');\n    } catch (error) {\n      console.error('Error saving profile:', error);\n      // Still set the user locally even if storage fails\n      const userId = `user-${Date.now()}`;\n      const user = {\n        id: userId,\n        type: userType,\n        ...profileData,\n        whatsapp: profileData.whatsapp || '',\n        createdAt: new Date().toISOString()\n      };\n      setCurrentUser(user);\n      const existingUsersRaw = localStorage.getItem('users');\n      let existingUsers = [];\n      if (existingUsersRaw) {\n        try {\n          existingUsers = JSON.parse(existingUsersRaw);\n        } catch {\n          existingUsers = [];\n        }\n      }\n      existingUsers.push(user);\n      try {\n        localStorage.setItem('users', JSON.stringify(existingUsers));\n      } catch {}\n      setUsers(existingUsers);\n      showToast('Profile created (data may not be persisted)', 'error');\n      setCurrentView('browse');\n    }\n  };\n  const handleUpdateProfile = async profileData => {\n    try {\n      // Duplicate guard (exclude current user id)\n      if (isDuplicateContact(profileData.phone, profileData.email, currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n        showToast('Phone or email already used by another account', 'error', 'Duplicate');\n        return;\n      }\n      const updatedUser = {\n        ...currentUser,\n        ...profileData\n      };\n      localStorage.setItem('current-user', JSON.stringify(updatedUser));\n      setCurrentUser(updatedUser);\n      // Update registry entry\n      const existingUsersRaw = localStorage.getItem('users');\n      let existingUsers = [];\n      if (existingUsersRaw) {\n        try {\n          existingUsers = JSON.parse(existingUsersRaw);\n        } catch {\n          existingUsers = [];\n        }\n      }\n      const idx = existingUsers.findIndex(u => u.id === updatedUser.id);\n      if (idx !== -1) {\n        existingUsers[idx] = updatedUser;\n      } else {\n        existingUsers.push(updatedUser); // ensure presence\n      }\n      localStorage.setItem('users', JSON.stringify(existingUsers));\n      setUsers(existingUsers);\n      showToast('Profile updated successfully!', 'success');\n      setCurrentView('browse');\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      const updatedUser = {\n        ...currentUser,\n        ...profileData\n      };\n      setCurrentUser(updatedUser);\n      const existingUsersRaw = localStorage.getItem('users');\n      let existingUsers = [];\n      if (existingUsersRaw) {\n        try {\n          existingUsers = JSON.parse(existingUsersRaw);\n        } catch {\n          existingUsers = [];\n        }\n      }\n      const idx = existingUsers.findIndex(u => u.id === updatedUser.id);\n      if (idx !== -1) {\n        existingUsers[idx] = updatedUser;\n      } else {\n        existingUsers.push(updatedUser);\n      }\n      try {\n        localStorage.setItem('users', JSON.stringify(existingUsers));\n      } catch {}\n      setUsers(existingUsers);\n      showToast('Profile updated (data may not be persisted)', 'error');\n      setCurrentView('browse');\n    }\n  };\n\n  // Sign out using Firebase\n  const handleSignOut = async () => {\n    try {\n      await firebaseSignOut();\n      setCurrentUser(null);\n      setUserProfile(null);\n      setUserType(null);\n      setCurrentView('browse');\n      showToast('Signed out successfully.', 'info');\n    } catch (e) {\n      console.error('Sign out error:', e);\n      showToast('Error signing out. Please try again.', 'error');\n    }\n  };\n  const handleCompleteOnboarding = async onboardData => {\n    try {\n      if (currentUser !== null && currentUser !== void 0 && currentUser.uid) {\n        await saveUserProfile(currentUser.uid, {\n          landlordComplete: true,\n          landlordInfo: onboardData\n        });\n        setUserProfile(prev => ({\n          ...prev,\n          landlordComplete: true,\n          landlordInfo: onboardData\n        }));\n      }\n      setCurrentView('browse');\n      showToast('Profile complete! You can now create listings.', 'success');\n    } catch (err) {\n      console.error('Onboarding save failed', err);\n      setCurrentView('browse');\n    }\n  };\n  const handleAddListing = async listingData => {\n    var _listingData$latitude, _listingData$longitud;\n    // Combine streetAddress and location into fullAddress for complete address storage\n    const fullAddress = [listingData.streetAddress, listingData.location].filter(Boolean).join(', ');\n    const newListingData = {\n      title: listingData.title,\n      price: listingData.price,\n      location: listingData.location,\n      streetAddress: listingData.streetAddress || '',\n      fullAddress: fullAddress || listingData.location || '',\n      // Store complete address\n      description: listingData.description,\n      photos: listingData.photos || [],\n      status: listingData.status || 'available',\n      availableDate: listingData.availableDate || new Date().toISOString(),\n      amenities: listingData.amenities || [],\n      latitude: (_listingData$latitude = listingData.latitude) !== null && _listingData$latitude !== void 0 ? _listingData$latitude : null,\n      longitude: (_listingData$longitud = listingData.longitude) !== null && _listingData$longitud !== void 0 ? _listingData$longitud : null,\n      paymentMethod: listingData.paymentMethod || 'Bank and Cash',\n      premium: !!listingData.premium,\n      // Use Firebase UID for landlordId\n      landlordId: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.uid) || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id),\n      landlordName: (userProfile === null || userProfile === void 0 ? void 0 : userProfile.displayName) || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.displayName) || '',\n      landlordPhone: (userProfile === null || userProfile === void 0 ? void 0 : userProfile.phone) || '',\n      landlordEmail: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.email) || '',\n      landlordPhoto: (userProfile === null || userProfile === void 0 ? void 0 : userProfile.photoURL) || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.photoURL) || ''\n    };\n    try {\n      // Try to save to Firestore first\n      const firestoreId = await addListing(newListingData);\n      if (firestoreId) {\n        // Successfully saved to Firestore\n        const newListing = {\n          ...newListingData,\n          id: firestoreId,\n          createdAt: new Date().toISOString()\n        };\n        const updatedListings = [...listings, newListing];\n        setListings(updatedListings);\n        // Also cache locally\n        localStorage.setItem('listings', JSON.stringify(updatedListings));\n        showToast('Listing created and shared online!', 'success', 'Success!');\n      } else {\n        // Firestore not available, save locally only\n        const newListing = {\n          ...newListingData,\n          id: `listing-${Date.now()}`,\n          createdAt: new Date().toISOString()\n        };\n        const updatedListings = [...listings, newListing];\n        await saveListings(updatedListings);\n        showToast('Listing saved locally (offline mode)', 'info', 'Saved');\n      }\n    } catch (error) {\n      console.error('Error adding listing:', error);\n      // Fall back to local save\n      const newListing = {\n        ...newListingData,\n        id: `listing-${Date.now()}`,\n        createdAt: new Date().toISOString()\n      };\n      const updatedListings = [...listings, newListing];\n      await saveListings(updatedListings);\n      showToast('Listing saved locally', 'info', 'Saved');\n    }\n    setCurrentView('browse');\n    // Scroll to top to see new listing\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n\n  // Messaging removed\n\n  const filteredListings = listings.filter(listing => {\n    const matchesLocation = !searchLocation || (listing.location || '').toLowerCase().includes(searchLocation.toLowerCase());\n    const price = parseFloat(listing.price);\n    const matchesPrice = price >= priceRange[0] && price <= priceRange[1];\n    const matchesAmenities = selectedAmenities.length === 0 || selectedAmenities.every(amenity => {\n      var _listing$amenities;\n      return (_listing$amenities = listing.amenities) === null || _listing$amenities === void 0 ? void 0 : _listing$amenities.includes(amenity);\n    });\n    return matchesLocation && matchesPrice && matchesAmenities;\n  }).sort((a, b) => {\n    if (a.premium && !b.premium) return -1;\n    if (!a.premium && b.premium) return 1;\n    if (sortBy === 'newest') {\n      return new Date(b.createdAt) - new Date(a.createdAt);\n    } else if (sortBy === 'cheapest') {\n      return parseFloat(a.price) - parseFloat(b.price);\n    } else if (sortBy === 'expensive') {\n      return parseFloat(b.price) - parseFloat(a.price);\n    }\n    return 0;\n  });\n\n  // Allow guests to land on Browse by default. If userType isn't set,\n  // show a gentle callout in the header (below) so users can pick a role\n  // when they want to post or set up their profile.\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-b from-slate-50 to-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(OfflineIndicator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 726,\n      columnNumber: 7\n    }, this), showInstallBanner && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-20 left-4 right-4 md:left-auto md:right-4 md:max-w-sm z-50 bg-gradient-to-r from-teal-600 to-cyan-600 rounded-2xl shadow-2xl p-4 fade-in border border-teal-400/30\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0\",\n          children: /*#__PURE__*/_jsxDEV(Smartphone, {\n            className: \"w-6 h-6 text-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 732,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 min-w-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-bold text-white text-sm\",\n            children: \"Install Room24\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 736,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-teal-100 text-xs mt-0.5\",\n            children: \"Add to your home screen for the best experience!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleInstallClick,\n              className: \"flex items-center gap-1.5 px-4 py-2 bg-white text-teal-700 font-semibold text-xs rounded-lg hover:bg-teal-50 transition-colors shadow-sm\",\n              children: [/*#__PURE__*/_jsxDEV(Download, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 743,\n                columnNumber: 19\n              }, this), \"Install\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 739,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: dismissInstallBanner,\n              className: \"px-3 py-2 text-white/80 hover:text-white text-xs font-medium transition-colors\",\n              children: \"Maybe Later\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 746,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 738,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 735,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: dismissInstallBanner,\n          className: \"text-white/60 hover:text-white transition-colors p-1\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 758,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 754,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 731,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 730,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(BackToTop, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 765,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Header, {\n      currentUser: currentUser,\n      previewAsRenter: previewAsRenter,\n      setPreviewAsRenter: setPreviewAsRenter,\n      openAuthModal: openAuthModal,\n      handleSignOut: handleSignOut,\n      setCurrentView: setCurrentView,\n      unreadCount: unreadCount,\n      onOpenNotifications: () => setShowNotificationsPanel(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 767,\n      columnNumber: 7\n    }, this), notificationBanner && /*#__PURE__*/_jsxDEV(NotificationBanner, {\n      title: notificationBanner.title,\n      body: notificationBanner.body,\n      onClose: () => setNotificationBanner(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 780,\n      columnNumber: 9\n    }, this), toast && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed top-20 right-4 z-50 max-w-sm w-full transition-all duration-300 ${toast.type === 'error' ? 'bg-gradient-to-r from-rose-50 to-red-50 border-rose-400' : toast.type === 'success' ? 'bg-gradient-to-r from-emerald-50 to-green-50 border-emerald-400' : toast.type === 'warning' ? 'bg-gradient-to-r from-amber-50 to-yellow-50 border-amber-400' : 'bg-gradient-to-r from-sky-50 to-blue-50 border-sky-400'} border-l-4 rounded-xl shadow-2xl p-4 fade-in backdrop-blur-sm`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex-shrink-0 w-8 h-8 rounded-xl flex items-center justify-center shadow-sm ${toast.type === 'error' ? 'bg-rose-500' : toast.type === 'success' ? 'bg-emerald-500' : toast.type === 'warning' ? 'bg-amber-500' : 'bg-sky-500'}`,\n          children: [toast.type === 'success' && /*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"w-5 h-5 text-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 802,\n            columnNumber: 44\n          }, this), toast.type === 'error' && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-white font-bold text-sm\",\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 803,\n            columnNumber: 42\n          }, this), toast.type === 'warning' && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-white font-bold text-sm\",\n            children: \"!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 804,\n            columnNumber: 44\n          }, this), toast.type === 'info' && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-white font-bold text-sm\",\n            children: \"i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 805,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 796,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 min-w-0\",\n          children: [toast.title && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `font-bold mb-0.5 ${toast.type === 'error' ? 'text-rose-800' : toast.type === 'success' ? 'text-emerald-800' : toast.type === 'warning' ? 'text-amber-800' : 'text-sky-800'}`,\n            children: toast.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 808,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-sm ${toast.type === 'error' ? 'text-rose-700' : toast.type === 'success' ? 'text-emerald-700' : toast.type === 'warning' ? 'text-amber-700' : 'text-sky-700'}`,\n            children: toast.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 814,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 807,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setToast(null),\n          className: `flex-shrink-0 p-1.5 rounded-lg hover:bg-white/50 transition ${toast.type === 'error' ? 'text-rose-500 hover:text-rose-700' : toast.type === 'success' ? 'text-emerald-500 hover:text-emerald-700' : toast.type === 'warning' ? 'text-amber-500 hover:text-amber-700' : 'text-sky-500 hover:text-sky-700'}`,\n          \"aria-label\": \"Close notification\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 831,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 821,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 795,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 789,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"main-content\",\n      className: \"max-w-7xl mx-auto pb-24 px-4 sm:px-6 lg:px-8\",\n      role: \"main\",\n      children: [currentView === 'setup-profile' && /*#__PURE__*/_jsxDEV(ProfileSetupView, {\n        onSubmit: handleProfileSetup,\n        userType: userType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 839,\n        columnNumber: 11\n      }, this), currentView === 'profile' && currentUser && /*#__PURE__*/_jsxDEV(ProfileView, {\n        user: {\n          name: (userProfile === null || userProfile === void 0 ? void 0 : userProfile.displayName) || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.displayName) || '',\n          email: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.email) || '',\n          phone: (userProfile === null || userProfile === void 0 ? void 0 : userProfile.phone) || '',\n          photo: (userProfile === null || userProfile === void 0 ? void 0 : userProfile.photoURL) || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.photoURL) || '',\n          type: (userProfile === null || userProfile === void 0 ? void 0 : userProfile.userType) || userType || 'renter',\n          notificationPrefs: (userProfile === null || userProfile === void 0 ? void 0 : userProfile.notificationPrefs) || {\n            updates: true,\n            marketing: false\n          }\n        },\n        onEdit: () => setCurrentView('edit-profile'),\n        onSignOut: handleSignOut,\n        linkedProviders: getLinkedProviders(),\n        onLinkGoogle: async () => {\n          await linkGoogleAccount();\n          // Refresh to show updated providers\n          window.location.reload();\n        },\n        onLinkPhone: () => {\n          // Open auth modal for phone linking\n          showToast('Phone linking coming soon!', 'info');\n        },\n        onUpdatePrefs: async prefs => {\n          if (currentUser !== null && currentUser !== void 0 && currentUser.uid) {\n            try {\n              await saveUserProfile(currentUser.uid, {\n                notificationPrefs: prefs\n              });\n              setUserProfile(prev => ({\n                ...prev,\n                notificationPrefs: prefs\n              }));\n              showToast('Preferences updated', 'success');\n            } catch (err) {\n              console.error('Failed to update prefs:', err);\n              showToast('Failed to update preferences', 'error');\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 843,\n        columnNumber: 11\n      }, this), currentView === 'edit-profile' && currentUser && /*#__PURE__*/_jsxDEV(EditProfileView, {\n        user: currentUser,\n        onSubmit: handleUpdateProfile,\n        onCancel: () => setCurrentView('profile')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 880,\n        columnNumber: 11\n      }, this), currentView === 'landlord-onboarding' && currentUser && userType === 'landlord' && /*#__PURE__*/_jsxDEV(LandlordOnboardingView, {\n        onComplete: handleCompleteOnboarding,\n        onCancel: () => setCurrentView('browse'),\n        currentUser: currentUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 884,\n        columnNumber: 11\n      }, this), currentView === 'browse' && /*#__PURE__*/_jsxDEV(BrowseView, {\n        listings: filteredListings,\n        searchLocation: searchLocation,\n        setSearchLocation: setSearchLocation,\n        priceRange: priceRange,\n        setPriceRange: setPriceRange,\n        selectedAmenities: selectedAmenities,\n        setSelectedAmenities: setSelectedAmenities,\n        sortBy: sortBy,\n        setSortBy: setSortBy,\n        onSelectListing: setSelectedListing,\n        setCurrentView: setCurrentView,\n        currentUser: currentUser,\n        onRequireAuth: openAuthModal,\n        subscribeToArea: subscribeToArea,\n        previewMode: previewAsRenter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 888,\n        columnNumber: 21\n      }, this), currentView === 'add' && /*#__PURE__*/_jsxDEV(AddListingView, {\n        onSubmit: handleAddListing,\n        onCancel: () => setCurrentView('browse'),\n        currentUser: currentUser,\n        userType: userType,\n        onRequireAuth: openAuthModal,\n        onRequireOnboarding: () => setCurrentView('landlord-onboarding')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 910,\n        columnNumber: 11\n      }, this), currentView === 'my-listings' && currentUser && userType === 'landlord' && /*#__PURE__*/_jsxDEV(MyListingsView, {\n        listings: listings.filter(l => l.landlordId === currentUser.uid || l.landlordId === currentUser.id),\n        onDelete: async id => {\n          try {\n            // Try to delete from Firestore first\n            const deleted = await deleteListing(id);\n            if (deleted) {\n              showToast('Listing deleted', 'success');\n            }\n          } catch (error) {\n            console.error('Firestore delete failed:', error);\n          }\n          // Also update local state and localStorage\n          const updated = listings.filter(l => l.id !== id);\n          setListings(updated);\n          localStorage.setItem('listings', JSON.stringify(updated));\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 921,\n        columnNumber: 11\n      }, this), currentView === 'favorites' && /*#__PURE__*/_jsxDEV(FavoritesView, {\n        listings: listings,\n        onSelectListing: setSelectedListing\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 942,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 837,\n      columnNumber: 7\n    }, this), selectedListing && /*#__PURE__*/_jsxDEV(ListingDetailModal, {\n      listing: selectedListing,\n      landlord: {\n        name: selectedListing.landlordName,\n        phone: selectedListing.landlordPhone,\n        email: selectedListing.landlordEmail,\n        photo: selectedListing.landlordPhoto\n      },\n      onClose: () => setSelectedListing(null),\n      userType: userType,\n      currentUser: currentUser,\n      onRequireAuth: openAuthModal,\n      previewMode: previewAsRenter,\n      showToast: showToast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 950,\n      columnNumber: 9\n    }, this), showAuthModal && /*#__PURE__*/_jsxDEV(AuthModal, {\n      defaultType: authDefaultType,\n      onClose: () => setShowAuthModal(false),\n      onSuccess: () => {\n        showToast('Signed in successfully!', 'success', 'Welcome!');\n      },\n      authFunctions: authFunctions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 970,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(BottomNav, {\n      currentView: currentView,\n      setCurrentView: setCurrentView,\n      userType: userType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 980,\n      columnNumber: 7\n    }, this), showPrivacyPolicy && /*#__PURE__*/_jsxDEV(PrivacyPolicyModal, {\n      onClose: () => setShowPrivacyPolicy(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 987,\n      columnNumber: 9\n    }, this), showAnalyticsConsent && /*#__PURE__*/_jsxDEV(AnalyticsConsentModal, {\n      onAccept: handleAnalyticsConsentAccept,\n      onDecline: handleAnalyticsConsentDecline\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 991,\n      columnNumber: 9\n    }, this), showNotificationsPanel && /*#__PURE__*/_jsxDEV(NotificationsPanel, {\n      onClose: () => {\n        setShowNotificationsPanel(false);\n        setUnreadCount(getNotifications().filter(n => !n.read).length);\n      },\n      onSelectListing: listingId => {\n        const listing = listings.find(l => (l.id || `${l.title}-${l.createdAt}`) === listingId);\n        if (listing) {\n          setSelectedListing(listing);\n        }\n        setShowNotificationsPanel(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 998,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      onOpenPrivacy: () => setShowPrivacyPolicy(true),\n      onInstallApp: handleInstallClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1013,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 724,\n    columnNumber: 5\n  }, this);\n}\n_s(RentalPlatform, \"iYrhGbQPVq0BSk9ZkBvO1C9V9pE=\");\n_c = RentalPlatform;\nfunction ProfileSetupView({\n  onSubmit,\n  userType\n}) {\n  _s2();\n  const [formData, setFormData] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    whatsapp: '',\n    photo: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n  const validateField = (name, value, extras = {}) => {\n    const newErrors = {\n      ...errors\n    };\n    switch (name) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'phone':\n        if (!value || !/^[+]?[-0-9()\\s]{7,}$/.test(value.trim())) {\n          newErrors.phone = 'Enter a valid phone number (min 7 digits)';\n        } else {\n          delete newErrors.phone;\n        }\n        break;\n      case 'email':\n        if (!value || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value.trim())) {\n          newErrors.email = 'Enter a valid email address';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      case 'photo':\n        if (value === 'FILE_TOO_LARGE') {\n          newErrors.photo = 'Photo is too large (max 2MB)';\n        } else {\n          delete newErrors.photo;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n  const handlePhotoUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 2 * 1024 * 1024) {\n        // 2MB limit\n        setFormData({\n          ...formData,\n          photo: ''\n        });\n        validateField('photo', 'FILE_TOO_LARGE');\n        return;\n      }\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({\n          ...formData,\n          photo: reader.result\n        });\n        validateField('photo', reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleSubmit = () => {\n    // Touch all fields\n    const allTouched = {\n      name: true,\n      phone: true,\n      email: true,\n      photo: true\n    };\n    setTouched(allTouched);\n    validateField('name', formData.name);\n    validateField('phone', formData.phone);\n    validateField('email', formData.email);\n    if (Object.keys(errors).length === 0 && formData.name && formData.phone && formData.email) {\n      onSubmit(formData);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 min-h-screen bg-gradient-to-b from-slate-50 to-gray-100 pb-24\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-lg border border-gray-100 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-extrabold text-gray-900 mb-2\",\n            children: \"Complete Your Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Help others know who you are\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center mb-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [formData.photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: formData.photo,\n                alt: \"Profile\",\n                className: \"w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1114,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-blue-200 shadow-lg\",\n                children: /*#__PURE__*/_jsxDEV(User, {\n                  className: \"w-16 h-16 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1121,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1120,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition group\",\n                \"aria-label\": \"Upload profile photo\",\n                children: [/*#__PURE__*/_jsxDEV(Edit, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1125,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/*\",\n                  onChange: handlePhotoUpload,\n                  className: \"hidden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1126,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1124,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1112,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Full Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              required: true,\n              value: formData.name,\n              onChange: e => {\n                setFormData({\n                  ...formData,\n                  name: e.target.value\n                });\n                if (touched.name) validateField('name', e.target.value);\n              },\n              onBlur: e => {\n                setTouched({\n                  ...touched,\n                  name: true\n                });\n                validateField('name', e.target.value);\n              },\n              placeholder: \"Enter your full name\",\n              \"aria-invalid\": errors.name ? 'true' : 'false',\n              \"aria-describedby\": errors.name ? 'profile-name-error' : undefined,\n              className: `w-full px-4 py-3 border-2 ${errors.name ? 'border-red-400' : 'border-gray-200'} bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1139,\n              columnNumber: 15\n            }, this), errors.name && touched.name && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"profile-name-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1150,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Phone Number *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1154,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1156,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                required: true,\n                value: formData.phone,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    phone: e.target.value\n                  });\n                  if (touched.phone) validateField('phone', e.target.value);\n                },\n                onBlur: e => {\n                  setTouched({\n                    ...touched,\n                    phone: true\n                  });\n                  validateField('phone', e.target.value);\n                },\n                placeholder: \"e.g., +27 12 345 6789\",\n                \"aria-invalid\": errors.phone ? 'true' : 'false',\n                \"aria-describedby\": errors.phone ? 'profile-phone-error' : undefined,\n                className: `w-full pl-11 pr-4 py-3 border-2 ${errors.phone ? 'border-red-400' : 'border-gray-200'} bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1157,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1155,\n              columnNumber: 15\n            }, this), errors.phone && touched.phone && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"profile-phone-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1169,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Email Address *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1173,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Mail, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                required: true,\n                value: formData.email,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    email: e.target.value\n                  });\n                  if (touched.email) validateField('email', e.target.value);\n                },\n                onBlur: e => {\n                  setTouched({\n                    ...touched,\n                    email: true\n                  });\n                  validateField('email', e.target.value);\n                },\n                placeholder: \"your.email@example.com\",\n                \"aria-invalid\": errors.email ? 'true' : 'false',\n                \"aria-describedby\": errors.email ? 'profile-email-error' : undefined,\n                className: `w-full pl-11 pr-4 py-3 border-2 ${errors.email ? 'border-red-400' : 'border-gray-200'} bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1176,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1174,\n              columnNumber: 15\n            }, this), errors.email && touched.email && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"profile-email-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1188,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"WhatsApp (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1192,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1194,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                value: formData.whatsapp,\n                onChange: e => setFormData({\n                  ...formData,\n                  whatsapp: e.target.value\n                }),\n                placeholder: \"e.g., +27 71 234 5678\",\n                className: \"w-full pl-11 pr-4 py-3 border-2 border-gray-200 bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition placeholder-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1195,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: \"Used to create a WhatsApp chat link on your listings.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1203,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            className: \"w-full bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-semibold py-3 rounded-xl transition mt-8 shadow-lg hover:shadow-xl\",\n            children: \"Complete Setup\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1207,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1103,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1102,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1101,\n    columnNumber: 5\n  }, this);\n}\n_s2(ProfileSetupView, \"kfDeqkcyc9zNK7eVP7iQRpX1qkA=\");\n_c2 = ProfileSetupView;\nfunction ProfileView({\n  user,\n  onEdit,\n  onUpdatePrefs,\n  onSignOut,\n  linkedProviders,\n  onLinkGoogle,\n  onLinkPhone\n}) {\n  _s3();\n  var _user$name, _user$name$charAt;\n  const prefs = user.notificationPrefs || {\n    updates: true,\n    marketing: false\n  };\n  const [localPrefs, setLocalPrefs] = React.useState(prefs);\n  const [linkingInProgress, setLinkingInProgress] = React.useState(null);\n  const [linkError, setLinkError] = React.useState('');\n  const [linkSuccess, setLinkSuccess] = React.useState('');\n  const togglePref = key => {\n    const next = {\n      ...localPrefs,\n      [key]: !localPrefs[key]\n    };\n    setLocalPrefs(next);\n    onUpdatePrefs && onUpdatePrefs(next);\n  };\n  const handleLinkGoogle = async () => {\n    if (!onLinkGoogle) return;\n    setLinkingInProgress('google');\n    setLinkError('');\n    setLinkSuccess('');\n    try {\n      await onLinkGoogle();\n      setLinkSuccess('Google account linked successfully!');\n    } catch (err) {\n      setLinkError(err.message || 'Failed to link Google account');\n    } finally {\n      setLinkingInProgress(null);\n    }\n  };\n  const handleLinkPhone = () => {\n    if (!onLinkPhone) return;\n    onLinkPhone();\n  };\n  const hasGoogle = linkedProviders === null || linkedProviders === void 0 ? void 0 : linkedProviders.includes('google.com');\n  const hasPhone = linkedProviders === null || linkedProviders === void 0 ? void 0 : linkedProviders.includes('phone');\n  const hasPassword = linkedProviders === null || linkedProviders === void 0 ? void 0 : linkedProviders.includes('password');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-b from-slate-50 to-gray-100 pb-24\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-br from-teal-600 via-teal-500 to-cyan-500 pt-8 pb-20 px-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-xl mx-auto flex justify-between items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-white\",\n          children: \"My Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onEdit,\n          className: \"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-4 py-2 rounded-xl transition-all duration-200 flex items-center gap-2 border border-white/30\",\n          children: [/*#__PURE__*/_jsxDEV(Edit, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1267,\n            columnNumber: 13\n          }, this), \"Edit\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1263,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1261,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1260,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-4 -mt-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 max-w-xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center -mt-16 mb-6\",\n          children: [user.photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.photo,\n            alt: \"Profile\",\n            className: \"w-28 h-28 rounded-2xl object-cover border-4 border-white shadow-lg mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1279,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-28 h-28 rounded-2xl bg-gradient-to-br from-teal-400 to-cyan-500 flex items-center justify-center border-4 border-white shadow-lg mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-4xl font-bold text-white\",\n              children: ((_user$name = user.name) === null || _user$name === void 0 ? void 0 : (_user$name$charAt = _user$name.charAt(0)) === null || _user$name$charAt === void 0 ? void 0 : _user$name$charAt.toUpperCase()) || 'U'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1286,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1285,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"inline-flex items-center mt-2 px-4 py-1.5 bg-gradient-to-r from-teal-50 to-cyan-50 text-teal-700 rounded-full text-sm font-semibold border border-teal-100\",\n            children: user.type === 'landlord' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Home, {\n                className: \"w-4 h-4 mr-1.5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1295,\n                columnNumber: 19\n              }, this), \"Landlord\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(User, {\n                className: \"w-4 h-4 mr-1.5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1300,\n                columnNumber: 19\n              }, this), \"Renter\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl p-4 border border-gray-100 hover:border-gray-200 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-11 h-11 bg-gradient-to-br from-teal-100 to-cyan-100 rounded-xl flex items-center justify-center mr-4 shadow-sm\",\n                children: /*#__PURE__*/_jsxDEV(Phone, {\n                  className: \"w-5 h-5 text-teal-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1312,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1311,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs font-medium text-gray-500 mb-0.5\",\n                  children: \"Phone Number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1315,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold text-gray-800\",\n                  children: user.phone\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1316,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1314,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1310,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl p-4 border border-gray-100 hover:border-gray-200 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-11 h-11 bg-gradient-to-br from-cyan-100 to-blue-100 rounded-xl flex items-center justify-center mr-4 shadow-sm\",\n                children: /*#__PURE__*/_jsxDEV(Mail, {\n                  className: \"w-5 h-5 text-cyan-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1324,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1323,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs font-medium text-gray-500 mb-0.5\",\n                  children: \"Email Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1327,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold text-gray-800\",\n                  children: user.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1328,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1326,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1322,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl p-4 border border-gray-100 hover:border-gray-200 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-11 h-11 bg-gradient-to-br from-violet-100 to-purple-100 rounded-xl flex items-center justify-center mr-4 shadow-sm\",\n                children: /*#__PURE__*/_jsxDEV(Calendar, {\n                  className: \"w-5 h-5 text-violet-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1336,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1335,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs font-medium text-gray-500 mb-0.5\",\n                  children: \"Member Since\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1339,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold text-gray-800\",\n                  children: new Date(user.createdAt).toLocaleDateString('en-ZA', {\n                    year: 'numeric',\n                    month: 'long',\n                    day: 'numeric'\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1340,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1338,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1334,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1333,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-br from-teal-50 via-cyan-50 to-sky-50 rounded-xl p-5 border border-teal-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 bg-gradient-to-br from-teal-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-sm\",\n              children: /*#__PURE__*/_jsxDEV(Bell, {\n                className: \"w-5 h-5 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1356,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1355,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-bold text-gray-800\",\n              children: \"Notification Preferences\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1358,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1354,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-100 cursor-pointer hover:border-teal-200 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: localPrefs.updates,\n                onChange: () => togglePref('updates'),\n                className: \"w-5 h-5 rounded border-gray-300 text-teal-600 focus:ring-teal-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1362,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium text-gray-800\",\n                  children: \"Room Alerts\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1369,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Get notified about new rooms in your saved areas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1370,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1368,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1361,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-100 cursor-pointer hover:border-teal-200 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: localPrefs.marketing,\n                onChange: () => togglePref('marketing'),\n                className: \"w-5 h-5 rounded border-gray-300 text-teal-600 focus:ring-teal-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1374,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium text-gray-800\",\n                  children: \"Tips & Updates\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1381,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Occasional features and helpful content\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1382,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1380,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1373,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-[11px] text-gray-500 mt-3 text-center\",\n            children: \"Changes save automatically \\u2022 You can opt out anytime\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1386,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-br from-blue-50 via-indigo-50 to-violet-50 rounded-xl p-5 border border-blue-100 mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center shadow-sm\",\n              children: /*#__PURE__*/_jsxDEV(Link2, {\n                className: \"w-5 h-5 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1393,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1392,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-bold text-gray-800\",\n                children: \"Linked Accounts\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1396,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: \"Connect multiple sign-in methods\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1397,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1395,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1391,\n            columnNumber: 13\n          }, this), linkSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1404,\n              columnNumber: 17\n            }, this), linkSuccess]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1403,\n            columnNumber: 15\n          }, this), linkError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3 p-3 bg-rose-50 border border-rose-200 rounded-lg text-rose-700 text-sm flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1410,\n              columnNumber: 17\n            }, this), linkError]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1409,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-center justify-between p-3 bg-white rounded-lg border ${hasGoogle ? 'border-green-200' : 'border-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-5 h-5\",\n                  viewBox: \"0 0 24 24\",\n                  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                    fill: \"#4285F4\",\n                    d: \"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1420,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    fill: \"#34A853\",\n                    d: \"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1421,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    fill: \"#FBBC05\",\n                    d: \"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1422,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    fill: \"#EA4335\",\n                    d: \"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1423,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1419,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-700\",\n                  children: \"Google\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1425,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1418,\n                columnNumber: 17\n              }, this), hasGoogle ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs font-medium text-green-600 flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1429,\n                  columnNumber: 21\n                }, this), \" Linked\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1428,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleLinkGoogle,\n                disabled: linkingInProgress === 'google',\n                className: \"text-xs font-medium text-blue-600 hover:text-blue-700 px-3 py-1.5 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors disabled:opacity-50\",\n                children: linkingInProgress === 'google' ? 'Linking...' : 'Link'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1432,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1417,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-center justify-between p-3 bg-white rounded-lg border ${hasPhone ? 'border-green-200' : 'border-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(Phone, {\n                  className: \"w-5 h-5 text-green-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1445,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-700\",\n                  children: \"Phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1446,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1444,\n                columnNumber: 17\n              }, this), hasPhone ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs font-medium text-green-600 flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1450,\n                  columnNumber: 21\n                }, this), \" Linked\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1449,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleLinkPhone,\n                className: \"text-xs font-medium text-blue-600 hover:text-blue-700 px-3 py-1.5 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors\",\n                children: \"Link\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1453,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1443,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-center justify-between p-3 bg-white rounded-lg border ${hasPassword ? 'border-green-200' : 'border-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(Mail, {\n                  className: \"w-5 h-5 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1465,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-700\",\n                  children: \"Email & Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1466,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1464,\n                columnNumber: 17\n              }, this), hasPassword ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs font-medium text-green-600 flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1470,\n                  columnNumber: 21\n                }, this), \" Linked\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1469,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-400\",\n                children: \"Coming soon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1473,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1463,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1415,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-[11px] text-gray-500 mt-3 text-center\",\n            children: \"Link accounts to sign in with any method\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1478,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1390,\n          columnNumber: 11\n        }, this), onSignOut && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onSignOut,\n          className: \"w-full mt-4 flex items-center justify-center gap-2 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-xl transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(LogOut, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1487,\n            columnNumber: 15\n          }, this), \"Sign Out\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1483,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1275,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1274,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1258,\n    columnNumber: 5\n  }, this);\n}\n_s3(ProfileView, \"5K9IcJ+Sasr1rVCgn0hJXd+Aq6g=\");\n_c3 = ProfileView;\nfunction LandlordOnboardingView({\n  onComplete,\n  onCancel,\n  currentUser\n}) {\n  _s4();\n  var _currentUser$name, _currentUser$name$cha;\n  const [form, setForm] = useState({\n    businessName: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || '',\n    bankDetails: '',\n    idNumber: '',\n    agree: false\n  });\n  const handleSubmit = () => {\n    if (!form.businessName || !form.agree) {\n      alert('Please provide a display name and agree to the terms.');\n      return;\n    }\n    onComplete(form);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-b from-slate-50 to-gray-100 pb-24\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-br from-teal-600 via-teal-500 to-cyan-500 pt-8 pb-16 px-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-2xl mx-auto text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mx-auto mb-4 border border-white/30\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-4xl font-bold text-white\",\n            children: (currentUser === null || currentUser === void 0 ? void 0 : (_currentUser$name = currentUser.name) === null || _currentUser$name === void 0 ? void 0 : (_currentUser$name$cha = _currentUser$name.charAt(0)) === null || _currentUser$name$cha === void 0 ? void 0 : _currentUser$name$cha.toUpperCase()) || 'L'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1514,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1513,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-white mb-2\",\n          children: [\"Welcome, \", (currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || 'Landlord', \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1518,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-teal-100\",\n          children: \"Complete your profile to start listing properties\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1519,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1512,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1511,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-4 -mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-2xl mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-2xl shadow-xl border border-gray-100 p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center gap-2 mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-8 h-8 bg-teal-600 text-white rounded-full flex items-center justify-center text-sm font-bold\",\n                children: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1530,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-gray-700\",\n                children: \"Profile Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1531,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1529,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 h-0.5 bg-gray-200\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1533,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-8 h-8 bg-gray-200 text-gray-500 rounded-full flex items-center justify-center text-sm font-bold\",\n                children: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1535,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-400\",\n                children: \"Start Listing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1536,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1534,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1528,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Display Name *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1542,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: form.businessName,\n                onChange: e => setForm({\n                  ...form,\n                  businessName: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all\",\n                placeholder: \"Your name or business name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1543,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mt-1.5\",\n                children: \"This name is shown to renters on your listings and messages.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1549,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1541,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Payment Details (Optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1553,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: form.bankDetails,\n                onChange: e => setForm({\n                  ...form,\n                  bankDetails: e.target.value\n                }),\n                placeholder: \"Bank account or preferred payment method\",\n                className: \"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1554,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mt-1.5\",\n                children: \"Private - only shown to confirmed renters.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1560,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1552,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"ID Number (Optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1564,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: form.idNumber,\n                onChange: e => setForm({\n                  ...form,\n                  idNumber: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all\",\n                placeholder: \"For verification purposes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1565,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mt-1.5\",\n                children: \"Verified landlords get a trust badge on their listings.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1571,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1563,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-teal-50 to-cyan-50 rounded-xl p-4 border border-teal-100\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-start gap-3 cursor-pointer\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: form.agree,\n                  onChange: e => setForm({\n                    ...form,\n                    agree: e.target.checked\n                  }),\n                  className: \"mt-1 w-5 h-5 rounded border-gray-300 text-teal-600 focus:ring-teal-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1576,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-700\",\n                  children: [\"I confirm I am authorised to list these properties and agree to the\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: e => e.preventDefault(),\n                    className: \"text-teal-600 hover:text-teal-700 font-medium underline\",\n                    children: \"terms of service\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1584,\n                    columnNumber: 21\n                  }, this), \".\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1582,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1575,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1574,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3 pt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: onCancel,\n                className: \"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-3.5 rounded-xl transition-colors\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1592,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSubmit,\n                className: \"flex-1 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-semibold py-3.5 rounded-xl transition-all shadow-md hover:shadow-lg\",\n                children: \"Complete & Start Listing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1598,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1591,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1540,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1526,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1525,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1524,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1509,\n    columnNumber: 5\n  }, this);\n}\n_s4(LandlordOnboardingView, \"Ac17KE539D878YeIRIQ45kYstio=\");\n_c4 = LandlordOnboardingView;\nfunction EditProfileView({\n  user,\n  onSubmit,\n  onCancel\n}) {\n  _s5();\n  const [formData, setFormData] = useState({\n    name: user.name || '',\n    phone: user.phone || '',\n    email: user.email || '',\n    whatsapp: user.whatsapp || '',\n    photo: user.photo || ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n  const validateField = (name, value, extras = {}) => {\n    const newErrors = {\n      ...errors\n    };\n    switch (name) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'phone':\n        if (!value || !/^[+]?[-0-9()\\s]{7,}$/.test(value.trim())) {\n          newErrors.phone = 'Enter a valid phone number';\n        } else {\n          delete newErrors.phone;\n        }\n        break;\n      case 'email':\n        if (!value || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value.trim())) {\n          newErrors.email = 'Enter a valid email';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n  const handlePhotoUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({\n          ...formData,\n          photo: reader.result\n        });\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleSubmit = () => {\n    setTouched({\n      name: true,\n      phone: true,\n      email: true\n    });\n    validateField('name', formData.name);\n    validateField('phone', formData.phone);\n    validateField('email', formData.email);\n    if (Object.keys(errors).length === 0 && formData.name && formData.phone && formData.email) {\n      onSubmit(formData);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 min-h-screen bg-gradient-to-b from-slate-50 to-gray-100 pb-24\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-lg border border-gray-100 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-extrabold text-gray-900\",\n            children: \"Edit Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1680,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onCancel,\n            className: \"text-gray-400 hover:text-gray-600 transition\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1682,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1681,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1679,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center mb-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [formData.photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: formData.photo,\n                alt: \"Profile\",\n                className: \"w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1691,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-blue-200 shadow-lg\",\n                children: /*#__PURE__*/_jsxDEV(User, {\n                  className: \"w-16 h-16 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1694,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1693,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition\",\n                \"aria-label\": \"Upload new profile photo\",\n                children: [/*#__PURE__*/_jsxDEV(Edit, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1698,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/*\",\n                  onChange: handlePhotoUpload,\n                  className: \"hidden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1699,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1697,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1689,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1688,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Full Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1711,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              required: true,\n              value: formData.name,\n              onChange: e => {\n                setFormData({\n                  ...formData,\n                  name: e.target.value\n                });\n                if (touched.name) validateField('name', e.target.value);\n              },\n              onBlur: e => {\n                setTouched({\n                  ...touched,\n                  name: true\n                });\n                validateField('name', e.target.value);\n              },\n              \"aria-invalid\": errors.name ? 'true' : 'false',\n              \"aria-describedby\": errors.name ? 'edit-name-error' : undefined,\n              className: `w-full px-4 py-3 border-2 ${errors.name ? 'border-red-400' : 'border-gray-200'} bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1712,\n              columnNumber: 15\n            }, this), errors.name && touched.name && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"edit-name-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1722,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1710,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1726,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1728,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                required: true,\n                value: formData.phone,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    phone: e.target.value\n                  });\n                  if (touched.phone) validateField('phone', e.target.value);\n                },\n                onBlur: e => {\n                  setTouched({\n                    ...touched,\n                    phone: true\n                  });\n                  validateField('phone', e.target.value);\n                },\n                \"aria-invalid\": errors.phone ? 'true' : 'false',\n                \"aria-describedby\": errors.phone ? 'edit-phone-error' : undefined,\n                className: `w-full pl-11 pr-4 py-3 border-2 ${errors.phone ? 'border-red-400' : 'border-gray-200'} bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1729,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1727,\n              columnNumber: 15\n            }, this), errors.phone && touched.phone && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"edit-phone-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1740,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1725,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Email Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1744,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Mail, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1746,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                required: true,\n                value: formData.email,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    email: e.target.value\n                  });\n                  if (touched.email) validateField('email', e.target.value);\n                },\n                onBlur: e => {\n                  setTouched({\n                    ...touched,\n                    email: true\n                  });\n                  validateField('email', e.target.value);\n                },\n                \"aria-invalid\": errors.email ? 'true' : 'false',\n                \"aria-describedby\": errors.email ? 'edit-email-error' : undefined,\n                className: `w-full pl-11 pr-4 py-3 border-2 ${errors.email ? 'border-red-400' : 'border-gray-200'} bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1747,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1745,\n              columnNumber: 15\n            }, this), errors.email && touched.email && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"edit-email-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1758,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1743,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"WhatsApp (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1762,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1764,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                value: formData.whatsapp,\n                onChange: e => setFormData({\n                  ...formData,\n                  whatsapp: e.target.value\n                }),\n                placeholder: \"e.g., +27 71 234 5678\",\n                className: \"w-full pl-11 pr-4 py-3 border-2 border-gray-200 bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition placeholder-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1765,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1763,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: \"Used to create a WhatsApp chat link on your listings.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1773,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1761,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3 pt-6 border-t border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onCancel,\n              className: \"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 rounded-xl transition\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1778,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubmit,\n              className: \"flex-1 bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-semibold py-3 rounded-xl transition shadow-lg\",\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1784,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1777,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1686,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1678,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1677,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1676,\n    columnNumber: 5\n  }, this);\n}\n\n/* BrowseView extracted to components/BrowseView.jsx */\n_s5(EditProfileView, \"cOSAqGAlx0e4c08rHdbkImVA+ZU=\");\n_c5 = EditProfileView;\nfunction FavoritesView({\n  listings,\n  onSelectListing\n}) {\n  _s6();\n  const [favorites, setFavorites] = useState([]);\n  useEffect(() => {\n    try {\n      const rawFavorites = localStorage.getItem('favorites');\n      if (rawFavorites) {\n        const arr = JSON.parse(rawFavorites);\n        if (Array.isArray(arr)) setFavorites(arr);\n      }\n    } catch {}\n  }, []);\n  const toggleFavorite = listingId => {\n    setFavorites(prev => {\n      const updated = prev.filter(id => id !== listingId);\n      try {\n        localStorage.setItem('favorites', JSON.stringify(updated));\n      } catch {}\n      return updated;\n    });\n  };\n  const favoriteListings = listings.filter(l => favorites.includes(l.id));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 min-h-screen bg-gradient-to-b from-slate-50 to-gray-100 pb-24\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-14 h-14 bg-gradient-to-br from-rose-100 to-pink-100 rounded-2xl flex items-center justify-center shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(Heart, {\n              className: \"w-7 h-7 text-rose-500 fill-rose-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1831,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1830,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-3xl font-extrabold text-gray-900\",\n              children: \"Saved Listings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1834,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: favoriteListings.length === 0 ? 'Your favorites will appear here' : `${favoriteListings.length} saved ${favoriteListings.length === 1 ? 'listing' : 'listings'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1835,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1833,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1829,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1828,\n        columnNumber: 9\n      }, this), favoriteListings.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-24 h-24 bg-gradient-to-br from-rose-50 to-pink-50 rounded-full flex items-center justify-center mx-auto mb-6\",\n          children: /*#__PURE__*/_jsxDEV(Heart, {\n            className: \"w-12 h-12 text-rose-300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1847,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1846,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-gray-800 mb-2\",\n          children: \"No saved listings yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1849,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-sm mb-6 max-w-md mx-auto\",\n          children: \"Browse rooms and tap the heart icon to save your favorites. They'll appear here for easy access.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1850,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1845,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\n        children: favoriteListings.map(listing => {\n          const ListingCard = require('./components/ListingCard').default;\n          return /*#__PURE__*/_jsxDEV(ListingCard, {\n            listing: listing,\n            onClick: () => onSelectListing(listing),\n            isFavorite: true,\n            onToggleFavorite: toggleFavorite\n          }, listing.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1859,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1855,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1827,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1826,\n    columnNumber: 5\n  }, this);\n}\n_s6(FavoritesView, \"gYNGUuNbE7AW8shO5JZPpsJJ/gw=\");\n_c6 = FavoritesView;\nconst createDefaultListingForm = () => ({\n  title: '',\n  price: '',\n  location: '',\n  streetAddress: '',\n  description: '',\n  photos: [],\n  status: 'available',\n  availableDate: new Date().toISOString().split('T')[0],\n  amenities: [],\n  latitude: null,\n  longitude: null,\n  paymentMethod: 'Bank and Cash',\n  roomType: 'private',\n  leaseDuration: '7-12',\n  petFriendly: false,\n  genderPreference: 'any',\n  premium: false\n});\nfunction AddListingView({\n  onSubmit,\n  onCancel,\n  currentUser,\n  userType,\n  onRequireAuth,\n  onRequireOnboarding\n}) {\n  _s7();\n  const GEOCODER_KEY = process.env.REACT_APP_GEOCODER_API_KEY;\n  const GEOCODER_PROVIDER = (process.env.REACT_APP_GEOCODER_PROVIDER || '').toLowerCase();\n  const landlordId = currentUser === null || currentUser === void 0 ? void 0 : currentUser.id;\n  const [formData, setFormData] = useState(() => {\n    const base = createDefaultListingForm();\n    if (landlordId) {\n      const saved = loadListingTemplate(landlordId);\n      if (saved) {\n        var _saved$petFriendly, _saved$premium;\n        return {\n          ...base,\n          ...saved,\n          amenities: Array.isArray(saved.amenities) ? saved.amenities : base.amenities,\n          petFriendly: (_saved$petFriendly = saved.petFriendly) !== null && _saved$petFriendly !== void 0 ? _saved$petFriendly : base.petFriendly,\n          premium: (_saved$premium = saved.premium) !== null && _saved$premium !== void 0 ? _saved$premium : base.premium,\n          photos: []\n        };\n      }\n    }\n    return base;\n  });\n  const [geocodingStatus, setGecodingStatus] = useState('');\n  const [errors, setErrors] = useState({});\n  const [showPhotoEditor, setShowPhotoEditor] = useState(false);\n  const reverseGeocodeCacheRef = React.useRef({});\n  const [lastGeocodeSource, setLastGeocodeSource] = useState(null); // 'cached' | 'mapbox' | 'proxy' | 'direct' | 'coords-only' | 'manual-geocode'\n  const [fullAddressInput, setFullAddressInput] = useState('');\n  const [isFullAddressEditing, setIsFullAddressEditing] = useState(false);\n  useEffect(() => {\n    if (!landlordId) return;\n    const saved = loadListingTemplate(landlordId);\n    if (saved) {\n      setFormData(prev => {\n        var _saved$petFriendly2, _saved$premium2;\n        return {\n          ...prev,\n          ...saved,\n          amenities: Array.isArray(saved.amenities) ? saved.amenities : [],\n          petFriendly: (_saved$petFriendly2 = saved.petFriendly) !== null && _saved$petFriendly2 !== void 0 ? _saved$petFriendly2 : false,\n          premium: (_saved$premium2 = saved.premium) !== null && _saved$premium2 !== void 0 ? _saved$premium2 : false,\n          photos: []\n        };\n      });\n    } else {\n      setFormData(createDefaultListingForm());\n    }\n  }, [landlordId]);\n  useEffect(() => {\n    if (!landlordId || userType !== 'landlord') return;\n    saveListingTemplate(landlordId, formData);\n  }, [formData, landlordId, userType]);\n\n  // Warn user before leaving if form has unsaved data\n  useEffect(() => {\n    var _formData$photos;\n    const hasFormData = formData.title || formData.description || ((_formData$photos = formData.photos) === null || _formData$photos === void 0 ? void 0 : _formData$photos.length) > 0;\n    const handleBeforeUnload = e => {\n      if (hasFormData) {\n        e.preventDefault();\n        e.returnValue = '';\n        return '';\n      }\n    };\n    if (hasFormData) {\n      window.addEventListener('beforeunload', handleBeforeUnload);\n    }\n    return () => {\n      window.removeEventListener('beforeunload', handleBeforeUnload);\n    };\n  }, [formData.title, formData.description, formData.photos]);\n\n  // Helper: fetch with graceful fallbacks when third-party APIs lack CORS headers\n  const corsFallbackTransforms = useMemo(() => [url => url.startsWith('https://cors.isomorphic-git.org/') ? url : `https://cors.isomorphic-git.org/${url}`, url => url.startsWith('https://corsproxy.io/?') ? url : `https://corsproxy.io/?${encodeURIComponent(url)}`], []);\n  const fetchWithCorsFallback = useCallback(async (url, options = {}) => {\n    const cloneOptions = () => {\n      const base = {\n        ...options\n      };\n      if (options.headers) base.headers = {\n        ...options.headers\n      };\n      return base;\n    };\n    const attempt = async targetUrl => {\n      const resp = await fetch(targetUrl, cloneOptions());\n      if (!resp.ok) throw new Error(`Request failed with status ${resp.status}`);\n      return resp;\n    };\n    try {\n      return await attempt(url);\n    } catch (err) {\n      var _options$signal;\n      if ((_options$signal = options.signal) !== null && _options$signal !== void 0 && _options$signal.aborted) throw err;\n      let lastError = err;\n      for (const transform of corsFallbackTransforms) {\n        try {\n          const proxiedUrl = transform(url);\n          return await attempt(proxiedUrl);\n        } catch (proxyErr) {\n          var _options$signal2;\n          lastError = proxyErr;\n          if ((_options$signal2 = options.signal) !== null && _options$signal2 !== void 0 && _options$signal2.aborted) break;\n        }\n      }\n      throw lastError;\n    }\n  }, [corsFallbackTransforms]);\n\n  // Forward geocode helper for manual address lookups\n  const forwardGeocodeAddress = async query => {\n    if (!query || query.trim().length < 3) return [];\n\n    // 1. Mapbox (if configured)\n    if (GEOCODER_PROVIDER === 'mapbox' && GEOCODER_KEY) {\n      try {\n        var _data$features;\n        const resp = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(query)}.json?access_token=${GEOCODER_KEY}&limit=3&country=za&types=address,place,locality`);\n        const data = await resp.json();\n        if (data !== null && data !== void 0 && (_data$features = data.features) !== null && _data$features !== void 0 && _data$features.length) {\n          return data.features.map(f => {\n            var _f$geometry, _f$geometry$coordinat, _f$geometry2, _f$geometry2$coordina;\n            return {\n              lat: f.center ? f.center[1] : (_f$geometry = f.geometry) === null || _f$geometry === void 0 ? void 0 : (_f$geometry$coordinat = _f$geometry.coordinates) === null || _f$geometry$coordinat === void 0 ? void 0 : _f$geometry$coordinat[1],\n              lon: f.center ? f.center[0] : (_f$geometry2 = f.geometry) === null || _f$geometry2 === void 0 ? void 0 : (_f$geometry2$coordina = _f$geometry2.coordinates) === null || _f$geometry2$coordina === void 0 ? void 0 : _f$geometry2$coordina[0],\n              label: f.place_name || f.text,\n              source: 'mapbox'\n            };\n          }).filter(entry => typeof entry.lat === 'number' && typeof entry.lon === 'number');\n        }\n      } catch (err) {\n        console.warn('Mapbox forward geocode failed', err);\n      }\n    }\n\n    // 2. maps.co (CORS-friendly)\n    try {\n      const mapsResp = await fetch(`https://geocode.maps.co/search?q=${encodeURIComponent(query)}&limit=3`);\n      if (mapsResp.ok) {\n        const mapsData = await mapsResp.json();\n        if (Array.isArray(mapsData) && mapsData.length) {\n          return mapsData.slice(0, 3).map(entry => ({\n            lat: parseFloat(entry.lat),\n            lon: parseFloat(entry.lon),\n            label: entry.display_name || entry.name,\n            source: 'maps.co'\n          }));\n        }\n      }\n    } catch (mapsErr) {\n      console.warn('maps.co forward geocode failed', mapsErr);\n    }\n\n    // 3. Local proxy (if running)\n    const API_BASE = process.env.REACT_APP_PROXY_BASE || (window.location && window.location.port === '8443' ? 'https://localhost:4443' : '');\n    if (API_BASE) {\n      try {\n        const proxyResp = await fetch(`${API_BASE}/api/search?q=${encodeURIComponent(query)}`);\n        if (proxyResp.ok) {\n          const proxyData = await proxyResp.json();\n          if (Array.isArray(proxyData) && proxyData.length) {\n            return proxyData.slice(0, 3).map(entry => ({\n              lat: parseFloat(entry.lat),\n              lon: parseFloat(entry.lon),\n              label: entry.display_name,\n              source: API_BASE.includes('localhost') ? 'local-proxy' : 'proxy'\n            }));\n          }\n        }\n      } catch (proxyErr) {\n        console.warn('Local proxy forward geocode failed', proxyErr);\n      }\n    }\n\n    // 4. Direct Nominatim fallback (may still be blocked, but last resort)\n    try {\n      const directResp = await fetchWithCorsFallback(`https://nominatim.openstreetmap.org/search?format=json&addressdetails=1&q=${encodeURIComponent(query)}`, {\n        headers: {\n          'User-Agent': 'room-rental-platform/1.0 (direct fallback)',\n          'Accept': 'application/json'\n        }\n      });\n      if (directResp.ok) {\n        const directData = await directResp.json();\n        if (Array.isArray(directData) && directData.length) {\n          return directData.slice(0, 3).map(entry => ({\n            lat: parseFloat(entry.lat),\n            lon: parseFloat(entry.lon),\n            label: entry.display_name,\n            source: 'direct'\n          }));\n        }\n      }\n    } catch (directErr) {\n      console.warn('Direct nominatim forward geocode failed', directErr);\n    }\n    return [];\n  };\n  const availableAmenities = ['WiFi', 'Parking', 'Kitchen', 'Laundry', 'Air Conditioning', 'Heating', 'TV', 'Furnished', 'Pet Friendly', 'Garden'];\n  const validateField = (name, value, extras = {}) => {\n    const newErrors = {\n      ...errors\n    };\n    switch (name) {\n      case 'title':\n        if (!value || value.trim().length < 5) {\n          newErrors.title = 'Title must be at least 5 characters';\n        } else {\n          delete newErrors.title;\n        }\n        break;\n      case 'price':\n        if (!value || parseFloat(value) <= 0) {\n          newErrors.price = 'Price must be greater than 0';\n        } else if (parseFloat(value) < 500) {\n          newErrors.price = 'Price seems too low (minimum R500)';\n        } else if (parseFloat(value) > 50000) {\n          newErrors.price = 'Price seems too high (maximum R50,000)';\n        } else {\n          delete newErrors.price;\n        }\n        break;\n      case 'location':\n        {\n          var _ref, _extras$streetAddress, _ref2, _extras$location;\n          const streetText = ((_ref = (_extras$streetAddress = extras.streetAddress) !== null && _extras$streetAddress !== void 0 ? _extras$streetAddress : formData.streetAddress) !== null && _ref !== void 0 ? _ref : '').trim();\n          const areaText = ((_ref2 = (_extras$location = extras.location) !== null && _extras$location !== void 0 ? _extras$location : value) !== null && _ref2 !== void 0 ? _ref2 : '').trim();\n          if (!streetText || streetText.length < 3) {\n            newErrors.location = 'Add the street or stand number (e.g., 5170 Molefe St)';\n          } else if (!areaText || areaText.length < 3) {\n            newErrors.location = 'Add the suburb, city, and postal code (e.g., Ivory Park, Midrand, 1693)';\n          } else {\n            delete newErrors.location;\n          }\n          break;\n        }\n      case 'description':\n        if (value && value.length > 500) {\n          newErrors.description = 'Description is too long (max 500 characters)';\n        } else {\n          delete newErrors.description;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n\n  // Load persisted reverse geocode cache\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem('reverse-geocode-cache');\n      if (raw) {\n        const parsed = JSON.parse(raw);\n        if (parsed && typeof parsed === 'object') {\n          reverseGeocodeCacheRef.current = parsed;\n        }\n      }\n    } catch (e) {/* ignore */}\n  }, []);\n\n  // Geocode address using Nominatim (OpenStreetMap)\n  const geocodeAddress = async () => {\n    if (!formData.streetAddress) {\n      setGecodingStatus('Please enter a street address');\n      return;\n    }\n    setGecodingStatus('Finding coordinates...');\n    try {\n      const fullAddress = `${formData.streetAddress}, ${formData.location}, South Africa`;\n      const results = await forwardGeocodeAddress(fullAddress);\n      if (results.length > 0) {\n        const best = results[0];\n        setFormData({\n          ...formData,\n          latitude: parseFloat(best.lat),\n          longitude: parseFloat(best.lon)\n        });\n        setGecodingStatus(` Address found!`);\n        setTimeout(() => setGecodingStatus(''), 2000);\n        setLastGeocodeSource(best.source || 'manual-geocode');\n        return;\n      }\n      setGecodingStatus('Address not found. Trying with area only...');\n      const areaResults = await forwardGeocodeAddress(`${formData.location}, South Africa`);\n      if (areaResults.length > 0) {\n        const bestArea = areaResults[0];\n        setFormData({\n          ...formData,\n          latitude: parseFloat(bestArea.lat),\n          longitude: parseFloat(bestArea.lon)\n        });\n        setGecodingStatus(' Area found!');\n        setTimeout(() => setGecodingStatus(''), 2000);\n        setLastGeocodeSource(bestArea.source || 'manual-geocode');\n      } else {\n        setGecodingStatus('Could not find location');\n      }\n    } catch (error) {\n      console.error('Geocoding error:', error);\n      setGecodingStatus('Error finding address. Check your connection.');\n      setLastGeocodeSource(null);\n    }\n  };\n  const toggleAmenity = amenity => {\n    if (formData.amenities.includes(amenity)) {\n      setFormData({\n        ...formData,\n        amenities: formData.amenities.filter(a => a !== amenity)\n      });\n    } else {\n      setFormData({\n        ...formData,\n        amenities: [...formData.amenities, amenity]\n      });\n    }\n  };\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const handleSubmit = async () => {\n    // Enforce auth and onboarding checks before allowing submission\n    if (!currentUser) {\n      onRequireAuth && onRequireAuth('landlord');\n      return;\n    }\n    if (userType !== 'landlord') {\n      // prompt to become landlord\n      onRequireAuth && onRequireAuth('landlord');\n      return;\n    }\n    if (!currentUser.landlordComplete) {\n      // send to onboarding\n      onRequireOnboarding && onRequireOnboarding();\n      return;\n    }\n\n    // Validate all fields\n    validateField('title', formData.title);\n    validateField('price', formData.price);\n    validateField('location', formData.location, {\n      location: formData.location,\n      streetAddress: formData.streetAddress\n    });\n    validateField('description', formData.description);\n    if (!formData.title || formData.title.trim().length < 5) {\n      setErrors(prev => ({\n        ...prev,\n        title: 'Title must be at least 5 characters'\n      }));\n      return;\n    }\n    if (!formData.price || parseFloat(formData.price) <= 0) {\n      setErrors(prev => ({\n        ...prev,\n        price: 'Price must be greater than 0'\n      }));\n      return;\n    }\n    if (!formData.location || formData.location.trim().length < 3) {\n      setErrors(prev => ({\n        ...prev,\n        location: 'Location is required'\n      }));\n      return;\n    }\n    if (Object.keys(errors).length > 0) {\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      await onSubmit(formData);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const googleMapsQuery = [formData.streetAddress, formData.location, 'South Africa'].filter(Boolean).join(', ');\n  const googleMapsUrl = googleMapsQuery ? `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(googleMapsQuery)}` : '';\n  const combinedFormAddress = [formData.streetAddress, formData.location].map(part => (part || '').trim()).filter(Boolean).join(', ');\n  useEffect(() => {\n    if (isFullAddressEditing) return;\n    setFullAddressInput(prev => prev === combinedFormAddress ? prev : combinedFormAddress);\n  }, [combinedFormAddress, isFullAddressEditing]);\n  const handleFullAddressChange = value => {\n    setFullAddressInput(value);\n    if (!value || value.length < 3) {\n      setFormData(prev => ({\n        ...prev,\n        streetAddress: '',\n        location: ''\n      }));\n      validateField('location', '');\n      return;\n    }\n    const parts = value.split(',').map(part => part.trim()).filter(Boolean);\n    if (parts.length === 0) {\n      setFormData(prev => ({\n        ...prev,\n        streetAddress: '',\n        location: ''\n      }));\n      validateField('location', '');\n      return;\n    }\n    let street = parts[0] || '';\n    let derivedLocation = parts.slice(1).join(', ');\n    if (!derivedLocation) {\n      const words = street.split(/\\s+/).filter(Boolean);\n      if (words.length >= 4) {\n        // Guess that the last few tokens describe the suburb/city/postal portion.\n        const locationWordCount = Math.min(4, Math.ceil(words.length / 2));\n        derivedLocation = words.slice(-locationWordCount).join(' ');\n        street = words.slice(0, words.length - locationWordCount).join(' ');\n      } else {\n        derivedLocation = street;\n      }\n    }\n    setFormData(prev => ({\n      ...prev,\n      streetAddress: street,\n      location: derivedLocation\n    }));\n    validateField('location', derivedLocation || street, {\n      location: derivedLocation,\n      streetAddress: street\n    });\n  };\n  const handleResetSavedTemplate = () => {\n    if (!landlordId) return;\n    clearListingTemplate(landlordId);\n    const blank = createDefaultListingForm();\n    setFormData(blank);\n    setFullAddressInput('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 bg-gradient-to-b from-slate-50 to-gray-100 min-h-screen pb-24\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl mx-auto mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-lg border border-gray-100 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-extrabold text-gray-900\",\n            children: \"Post a Room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2341,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onCancel,\n            className: \"text-gray-400 hover:text-gray-600 transition-colors p-2 rounded-full hover:bg-gray-100\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2343,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2342,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2340,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Form Progress\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2350,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-semibold text-teal-600\",\n              children: (() => {\n                let completed = 0;\n                const total = 5;\n                if (formData.title && formData.title.trim().length >= 5) completed++;\n                if (formData.price && parseFloat(formData.price) >= 500) completed++;\n                if (formData.streetAddress && formData.location) completed++;\n                if (formData.description && formData.description.length >= 10) completed++;\n                if (formData.photos && formData.photos.length > 0) completed++;\n                return `${completed}/${total} completed`;\n              })()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2351,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-2 bg-gray-100 rounded-full overflow-hidden\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-full bg-gradient-to-r from-teal-500 to-cyan-500 rounded-full transition-all duration-500\",\n              style: {\n                width: `${(() => {\n                  let completed = 0;\n                  if (formData.title && formData.title.trim().length >= 5) completed++;\n                  if (formData.price && parseFloat(formData.price) >= 500) completed++;\n                  if (formData.streetAddress && formData.location) completed++;\n                  if (formData.description && formData.description.length >= 10) completed++;\n                  if (formData.photos && formData.photos.length > 0) completed++;\n                  return completed / 5 * 100;\n                })()}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2365,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2364,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2348,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [(currentUser === null || currentUser === void 0 ? void 0 : currentUser.type) === 'landlord' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-teal-50 to-cyan-50 border border-teal-200 text-teal-800 text-sm rounded-xl p-4 flex items-start gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n              className: \"w-5 h-5 text-teal-600 mt-0.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2385,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"We remember your latest listing details (address, price, and more) so you only need to upload fresh photos next time. Update any field below and we'll save it automatically.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2387,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: handleResetSavedTemplate,\n                className: \"text-xs font-semibold text-teal-700 underline hover:text-teal-900 transition-colors\",\n                children: \"Reset saved info\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2391,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2386,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2384,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: [\"Room Title *\", formData.title && formData.title.trim().length >= 5 && !errors.title && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2 text-green-600 text-xs\",\n                children: \"\\u2713 Looks good\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2406,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2403,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                required: true,\n                value: formData.title,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    title: e.target.value\n                  });\n                  validateField('title', e.target.value);\n                },\n                onBlur: e => validateField('title', e.target.value),\n                placeholder: \"e.g., Cozy backroom with private bathroom\",\n                className: `w-full px-4 py-3 pr-10 border-2 ${errors.title ? 'border-red-400 bg-red-50' : formData.title && formData.title.trim().length >= 5 ? 'border-teal-400 bg-teal-50/30' : 'border-gray-200'} text-gray-800 rounded-xl focus:ring-2 ${errors.title ? 'focus:ring-red-400' : 'focus:ring-teal-400'} focus:border-transparent transition-all placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2410,\n                columnNumber: 17\n              }, this), formData.title && formData.title.trim().length >= 5 && !errors.title && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-teal-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2429,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2409,\n              columnNumber: 15\n            }, this), errors.title && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-1 flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u26A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2432,\n                columnNumber: 97\n              }, this), \" \", errors.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2432,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2402,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: [\"Monthly Price (R) *\", formData.price && parseFloat(formData.price) >= 500 && parseFloat(formData.price) <= 50000 && !errors.price && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2 text-green-600 text-xs\",\n                children: \"\\u2713 Valid price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2440,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2437,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium\",\n                children: \"R\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2444,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                required: true,\n                value: formData.price,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    price: e.target.value\n                  });\n                  validateField('price', e.target.value);\n                },\n                onBlur: e => validateField('price', e.target.value),\n                placeholder: \"2500\",\n                min: \"500\",\n                max: \"50000\",\n                className: `w-full pl-10 pr-4 py-3 border-2 ${errors.price ? 'border-red-400 bg-red-50' : formData.price && parseFloat(formData.price) >= 500 && parseFloat(formData.price) <= 50000 ? 'border-teal-400 bg-teal-50/30' : 'border-gray-200'} text-gray-800 rounded-xl focus:ring-2 ${errors.price ? 'focus:ring-red-400' : 'focus:ring-teal-400'} focus:border-transparent transition-all placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2445,\n                columnNumber: 17\n              }, this), formData.price && parseFloat(formData.price) >= 500 && parseFloat(formData.price) <= 50000 && !errors.price && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-teal-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2466,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2443,\n              columnNumber: 15\n            }, this), errors.price && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-1 flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u26A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2469,\n                columnNumber: 97\n              }, this), \" \", errors.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2469,\n              columnNumber: 32\n            }, this), !errors.price && formData.price && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-xs mt-1\",\n              children: \"Suggested range: R500 - R50,000 per month\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2471,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2436,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-1\",\n              children: \"Full South African Address *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2477,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mb-2\",\n              children: \"Example: 5170 Molefe St, Ivory Park, Midrand, 1693\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2478,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              required: true,\n              rows: \"2\",\n              value: fullAddressInput,\n              onChange: e => handleFullAddressChange(e.target.value),\n              onFocus: () => setIsFullAddressEditing(true),\n              onBlur: e => {\n                setIsFullAddressEditing(false);\n                handleFullAddressChange(e.target.value);\n              },\n              placeholder: \"Type the full street + suburb + city + postal code\",\n              className: `w-full px-4 py-3 border-2 ${errors.location ? 'border-red-400' : 'border-gray-200'} bg-white text-gray-800 rounded-xl focus:ring-2 ${errors.location ? 'focus:ring-red-400' : 'focus:ring-teal-400'} focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2479,\n              columnNumber: 15\n            }, this), errors.location && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-1\",\n              \"aria-live\": \"assertive\",\n              children: errors.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2489,\n              columnNumber: 35\n            }, this), !errors.location && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-xs mt-1\",\n              children: \"Include the street/stand number plus suburb, city, and postal code. Commas are optional; we will split it for you.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2491,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2476,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-br from-teal-50 to-cyan-50 border-2 border-teal-200 rounded-xl p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start gap-3 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                className: \"w-6 h-6 text-teal-600 flex-shrink-0 mt-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2500,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-1\",\n                  children: \"Confirm Your Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2502,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: [\"Type the exact street + suburb above, then tap \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Look Up Address\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2504,\n                    columnNumber: 68\n                  }, this), \" if you\\x110d like us to fetch coordinates for your Google Maps preview.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2503,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2501,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2499,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-3 items-start\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: geocodeAddress,\n                className: \"w-full md:w-auto bg-white hover:bg-gray-50 text-gray-700 border-2 border-gray-300 px-6 py-3 rounded-lg text-sm font-semibold transition flex items-center justify-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2515,\n                  columnNumber: 19\n                }, this), \"Look Up Address\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2510,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm flex-1 min-w-[220px]\",\n                children: [geocodingStatus && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `${geocodingStatus.startsWith('') ? 'text-green-600 font-semibold' : geocodingStatus.startsWith('') ? 'text-amber-600' : 'text-gray-700'} flex items-center gap-1`,\n                  children: [geocodingStatus.startsWith('') && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2522,\n                    columnNumber: 59\n                  }, this), geocodingStatus, lastGeocodeSource === 'cached' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-purple-100 text-purple-600 font-semibold\",\n                    children: \"CACHED\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2525,\n                    columnNumber: 25\n                  }, this), lastGeocodeSource === 'mapbox' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-blue-100 text-blue-600 font-semibold\",\n                    children: \"MAPBOX\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2528,\n                    columnNumber: 25\n                  }, this), lastGeocodeSource === 'maps.co' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-indigo-100 text-indigo-600 font-semibold\",\n                    children: \"MAPS.CO\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2531,\n                    columnNumber: 25\n                  }, this), lastGeocodeSource === 'proxy' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-green-100 text-green-600 font-semibold\",\n                    children: \"PROXY\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2534,\n                    columnNumber: 25\n                  }, this), lastGeocodeSource === 'direct' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-yellow-100 text-yellow-700 font-semibold\",\n                    children: \"FALLBACK\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2537,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2521,\n                  columnNumber: 21\n                }, this), formData.latitude && formData.longitude && !geocodingStatus && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-600 font-semibold flex items-center gap-1\",\n                  children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2543,\n                    columnNumber: 23\n                  }, this), \"Coordinates saved: \", formData.latitude.toFixed(4), \", \", formData.longitude.toFixed(4), lastGeocodeSource === 'cached' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-purple-100 text-purple-600 font-semibold\",\n                    children: \"CACHED\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2546,\n                    columnNumber: 25\n                  }, this), lastGeocodeSource === 'maps.co' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-indigo-100 text-indigo-600 font-semibold\",\n                    children: \"MAPS.CO\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2549,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2542,\n                  columnNumber: 21\n                }, this), googleMapsUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3 bg-white border border-gray-200 rounded-lg p-3 text-xs text-gray-600\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"block text-gray-800 font-semibold mb-1\",\n                    children: \"Preview this address\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2555,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: googleMapsUrl,\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\",\n                    className: \"inline-flex items-center gap-2 text-teal-700 font-semibold hover:text-teal-900 underline\",\n                    children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                      className: \"w-3 h-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2562,\n                      columnNumber: 25\n                    }, this), \" Open in Google Maps\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2556,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"block mt-2 text-[11px] text-gray-500\",\n                    children: \"Renters will see the same button under your listing.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2564,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2554,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2519,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2509,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 text-sm text-gray-600 bg-white border border-dashed border-gray-300 rounded-lg p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800 mb-1\",\n                children: \"Manual address confirmed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2570,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"We now rely on the address you type here. Use Google Maps above if you want to double-check directions.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2571,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2569,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2498,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2578,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: formData.status,\n                onChange: e => setFormData({\n                  ...formData,\n                  status: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border-2 border-gray-200 bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"available\",\n                  children: \"Available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2584,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"rented\",\n                  children: \"Rented\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2585,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2579,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2577,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Available Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2590,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: formData.availableDate,\n                onChange: e => setFormData({\n                  ...formData,\n                  availableDate: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border-2 border-gray-200 bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2591,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2589,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2576,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Payment Method\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2602,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: formData.paymentMethod,\n              onChange: e => setFormData({\n                ...formData,\n                paymentMethod: e.target.value\n              }),\n              className: \"w-full px-4 py-3 border-2 border-gray-200 bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Bank and Cash\",\n                children: \"Bank and Cash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2608,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Cash Only\",\n                children: \"Cash Only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2609,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Bank Only\",\n                children: \"Bank Only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2610,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2603,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2601,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Room Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2617,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: formData.roomType,\n                onChange: e => setFormData({\n                  ...formData,\n                  roomType: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border-2 border-gray-200 bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"private\",\n                  children: \"Private Room\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2623,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"shared\",\n                  children: \"Shared Room\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2624,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2618,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2616,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Lease Duration (months)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2629,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: formData.leaseDuration,\n                onChange: e => setFormData({\n                  ...formData,\n                  leaseDuration: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border-2 border-gray-200 bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"1-3\",\n                  children: \"1-3 months\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2635,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"4-6\",\n                  children: \"4-6 months\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2636,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"7-12\",\n                  children: \"7-12 months\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2637,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"12+\",\n                  children: \"12+ months\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2638,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2630,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2628,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2615,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: formData.petFriendly,\n                onChange: e => setFormData({\n                  ...formData,\n                  petFriendly: e.target.checked\n                }),\n                id: \"petFriendly\",\n                className: \"w-5 h-5 text-teal-600 border-gray-300 rounded focus:ring-teal-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2646,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"petFriendly\",\n                className: \"text-sm font-medium text-gray-700\",\n                children: \"\\uD83D\\uDC3E Pet Friendly\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2653,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2645,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Gender Preference\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2659,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: formData.genderPreference,\n                onChange: e => setFormData({\n                  ...formData,\n                  genderPreference: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border-2 border-gray-200 bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"any\",\n                  children: \"Any\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2665,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"male\",\n                  children: \"Male Only\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2666,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"female\",\n                  children: \"Female Only\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2667,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2660,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2658,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2644,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: !!formData.premium,\n              onChange: e => setFormData({\n                ...formData,\n                premium: e.target.checked\n              }),\n              id: \"premiumFlag\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2674,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"premiumFlag\",\n              className: \"text-sm font-medium text-gray-700\",\n              children: \"Premium listing (highlight & priority sorting)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2680,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2673,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: [\"Description\", formData.description && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `ml-2 text-xs ${formData.description.length > 500 ? 'text-red-500' : 'text-gray-500'}`,\n                children: [\"(\", formData.description.length, \"/500 characters)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2690,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2687,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: formData.description,\n              onChange: e => {\n                setFormData({\n                  ...formData,\n                  description: e.target.value\n                });\n                validateField('description', e.target.value);\n              },\n              onBlur: e => validateField('description', e.target.value),\n              placeholder: \"Describe the room, amenities, rules, and any other details...\",\n              rows: \"4\",\n              className: `w-full px-4 py-3 border-2 ${errors.description ? 'border-red-400' : 'border-gray-200'} bg-white text-gray-800 rounded-xl focus:ring-2 ${errors.description ? 'focus:ring-red-400' : 'focus:ring-teal-400'} focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2695,\n              columnNumber: 15\n            }, this), errors.description && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-1\",\n              children: errors.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2706,\n              columnNumber: 38\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2686,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-3\",\n              children: \"Amenities\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2711,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-3 gap-2\",\n              children: availableAmenities.map(amenity => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => toggleAmenity(amenity),\n                className: `px-4 py-2.5 rounded-xl text-sm font-medium transition-all ${formData.amenities.includes(amenity) ? 'bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-md' : 'bg-gray-100 text-gray-700 border-2 border-gray-200 hover:border-teal-300 hover:bg-teal-50'}`,\n                children: amenity\n              }, amenity, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2714,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2712,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2710,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Photos (Max 5)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2732,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative border-2 border-dashed border-gray-300 bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl p-6 hover:border-teal-400 hover:bg-teal-50/30 transition-all duration-300 cursor-pointer group\",\n              onClick: () => setShowPhotoEditor(true),\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-16 h-16 bg-gradient-to-br from-teal-100 to-cyan-100 rounded-2xl flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform duration-300\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-3xl\",\n                    children: \"\\uD83D\\uDCF7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2739,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2738,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 font-semibold mb-1\",\n                  children: formData.photos.length === 0 ? 'Add Photos' : `${formData.photos.length}/5 Photos Added`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2741,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Click to upload \\u2022 JPG, PNG up to 5MB each\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2744,\n                  columnNumber: 19\n                }, this), formData.photos.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-teal-600 mt-2 font-medium\",\n                  children: \"Tip: Listings with photos get 3x more views!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2748,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2737,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2733,\n              columnNumber: 15\n            }, this), formData.photos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 grid grid-cols-2 md:grid-cols-3 gap-3\",\n              children: formData.photos.map((photo, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative group\",\n                children: [index === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute top-2 left-2 bg-gradient-to-r from-teal-500 to-cyan-500 text-white text-xs px-2 py-1 rounded-full font-semibold z-10\",\n                  children: \"Cover\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2759,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: photo,\n                  alt: `Preview ${index + 1}`,\n                  className: \"w-full h-32 object-cover rounded-xl border-2 border-gray-200 shadow-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2763,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2757,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2755,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowPhotoEditor(true),\n              className: \"mt-3 text-sm text-teal-600 hover:text-teal-700 font-medium\",\n              children: formData.photos.length > 0 ? ' Edit Photos' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2772,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2731,\n            columnNumber: 13\n          }, this), showPhotoEditor && /*#__PURE__*/_jsxDEV(PhotoEditor, {\n            photos: formData.photos,\n            onPhotosChange: newPhotos => setFormData({\n              ...formData,\n              photos: newPhotos\n            }),\n            onClose: () => setShowPhotoEditor(false),\n            maxPhotos: 5\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2782,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t border-gray-200 pt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubmit,\n              disabled: isSubmitting || Object.keys(errors).length > 0,\n              className: `w-full font-semibold py-3.5 rounded-xl transition-all shadow-lg relative ${isSubmitting || Object.keys(errors).length > 0 ? 'bg-gray-400 cursor-not-allowed' : 'bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white hover:shadow-xl hover:shadow-teal-500/25'}`,\n              children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"opacity-0\",\n                  children: \"Post Room\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2803,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute inset-0 flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2805,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2804,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true) : 'Post Room'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2792,\n              columnNumber: 15\n            }, this), Object.keys(errors).length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-2 text-center\",\n              children: \"Please fix the errors above before submitting\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2813,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2791,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2382,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2339,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2338,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2337,\n    columnNumber: 5\n  }, this);\n}\n\n// MessagesView removed - using direct contact instead\n_s7(AddListingView, \"OvNuMupEWrQbdm8hkF4Aa+HLkrw=\");\n_c7 = AddListingView;\nfunction MyListingsView({\n  listings,\n  onDelete\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 min-h-screen bg-gradient-to-b from-slate-50 to-gray-100 pb-24\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto mt-8\",\n      children: [listings.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-2xl p-4 shadow-sm\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n              className: \"w-5 h-5 text-amber-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2834,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2833,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-amber-800 mb-1\",\n              children: \"Found a tenant?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2837,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-amber-700 text-sm leading-relaxed\",\n              children: [\"Remember to \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"delete your listing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2839,\n                columnNumber: 31\n              }, this), \" once you've found a tenant. This will stop new calls and messages from other renters looking at your ad.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2838,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2836,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2832,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2831,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-14 h-14 bg-gradient-to-br from-teal-100 to-cyan-100 rounded-2xl flex items-center justify-center shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(Home, {\n              className: \"w-7 h-7 text-teal-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2850,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2849,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-3xl font-extrabold text-gray-900\",\n              children: \"My Listings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2853,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: listings.length === 0 ? 'Your properties will appear here' : `${listings.length} active ${listings.length === 1 ? 'listing' : 'listings'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2854,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2852,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2848,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2847,\n        columnNumber: 9\n      }, this), listings.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-24 h-24 bg-gradient-to-br from-teal-50 to-cyan-50 rounded-full flex items-center justify-center mx-auto mb-6\",\n          children: /*#__PURE__*/_jsxDEV(Home, {\n            className: \"w-12 h-12 text-teal-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2866,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2865,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-gray-800 mb-2\",\n          children: \"No Listings Yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2868,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-sm mb-6 max-w-md mx-auto\",\n          children: \"Start earning by posting your first room. It only takes a few minutes!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2869,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.hash = '#add',\n          className: \"inline-flex items-center gap-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-semibold px-6 py-3 rounded-xl transition-all shadow-md hover:shadow-lg\",\n          children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2876,\n            columnNumber: 15\n          }, this), \"Post Your First Room\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2872,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2864,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",\n        children: listings.map(listing => {\n          var _listing$price;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow\",\n            children: [listing.photos && listing.photos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: listing.photos[0],\n                alt: \"Room\",\n                className: \"w-full h-48 object-cover\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2886,\n                columnNumber: 21\n              }, this), listing.photos.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute top-3 right-3 bg-black/60 backdrop-blur-sm text-white px-2.5 py-1 rounded-full text-xs font-medium\",\n                children: [listing.photos.length, \" photos\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2888,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `absolute top-3 left-3 px-2.5 py-1 rounded-full text-xs font-semibold ${listing.status === 'available' ? 'bg-emerald-500 text-white' : 'bg-gray-500 text-white'}`,\n                children: listing.status === 'available' ? 'Active' : 'Rented'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2892,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2885,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-bold text-lg text-gray-900 mb-1 line-clamp-1\",\n                children: listing.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2902,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-teal-600 font-bold text-xl mb-2\",\n                children: [\"R\", (_listing$price = listing.price) === null || _listing$price === void 0 ? void 0 : _listing$price.toLocaleString(), \"/month\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2903,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center text-gray-500 text-sm mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  className: \"w-4 h-4 mr-1.5 text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2905,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"line-clamp-1\",\n                  children: listing.location\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2906,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2904,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => onDelete(listing.id),\n                  className: \"flex-1 bg-red-50 hover:bg-red-100 text-red-600 font-medium py-2.5 rounded-xl transition-colors text-sm\",\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2909,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2908,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2901,\n              columnNumber: 17\n            }, this)]\n          }, listing.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2883,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2881,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2828,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2827,\n    columnNumber: 5\n  }, this);\n}\n\n// Inline message box component with validation for listing detail view\n// ListingInlineMessageBox removed\n\n// ConversationModal removed\n_c8 = MyListingsView;\nfunction AuthModal({\n  defaultType = 'renter',\n  onClose,\n  onSuccess,\n  authFunctions\n}) {\n  _s8();\n  const [mode, setMode] = useState('signin'); // 'signin', 'signup', 'reset', 'phone', 'phone-verify'\n  const [form, setForm] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n    otp: '',\n    type: defaultType\n  });\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [authError, setAuthError] = useState('');\n  const [resetSent, setResetSent] = useState(false);\n  const [otpSent, setOtpSent] = useState(false);\n  const [phoneFormatted, setPhoneFormatted] = useState('');\n  const validateForm = () => {\n    const newErrors = {};\n    if (mode === 'phone') {\n      if (!form.phone || form.phone.trim().length < 9) {\n        newErrors.phone = 'Please enter a valid phone number';\n      }\n    } else if (mode === 'phone-verify') {\n      if (!form.otp || form.otp.length !== 6) {\n        newErrors.otp = 'Please enter the 6-digit code';\n      }\n    } else {\n      if (mode === 'signup') {\n        if (!form.name || form.name.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        }\n      }\n      if (!form.email || !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.email)) {\n        newErrors.email = 'Please enter a valid email address';\n      }\n      if (mode !== 'reset') {\n        if (!form.password || form.password.length < 6) {\n          newErrors.password = 'Password must be at least 6 characters';\n        }\n      }\n      if (mode === 'signup' && form.password !== form.confirmPassword) {\n        newErrors.confirmPassword = 'Passwords do not match';\n      }\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = async () => {\n    if (!validateForm()) return;\n    setIsSubmitting(true);\n    setAuthError('');\n    try {\n      if (mode === 'signup') {\n        await authFunctions.signUp(form.email, form.password, form.name, form.type, form.phone);\n        onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n        onClose();\n      } else if (mode === 'signin') {\n        await authFunctions.signIn(form.email, form.password);\n        onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n        onClose();\n      } else if (mode === 'reset') {\n        await authFunctions.sendPasswordReset(form.email);\n        setResetSent(true);\n      } else if (mode === 'phone') {\n        // Send OTP\n        const result = await authFunctions.sendPhoneOTP(form.phone);\n        setPhoneFormatted(result.formattedNumber);\n        setOtpSent(true);\n        setMode('phone-verify');\n      } else if (mode === 'phone-verify') {\n        // Verify OTP\n        await authFunctions.verifyPhoneOTP(form.otp, form.type, form.name);\n        onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n        onClose();\n      }\n    } catch (err) {\n      console.error('Auth error:', err);\n      let errorMessage = 'An error occurred. Please try again.';\n      if (err.code === 'auth/invalid-phone-number') {\n        errorMessage = 'Invalid phone number format. Please use format: 0XX XXX XXXX';\n      } else if (err.code === 'auth/too-many-requests') {\n        errorMessage = 'Too many attempts. Please try again later.';\n      } else if (err.code === 'auth/invalid-verification-code') {\n        errorMessage = 'Invalid code. Please check and try again.';\n      } else if (err.code === 'auth/code-expired') {\n        errorMessage = 'Code expired. Please request a new one.';\n      } else if (err.message) {\n        errorMessage = err.message;\n      }\n      setAuthError(errorMessage);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const handleGoogleSignIn = async () => {\n    setIsSubmitting(true);\n    setAuthError('');\n    try {\n      await authFunctions.signInGoogle(form.type);\n      onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n      onClose();\n    } catch (err) {\n      setAuthError(err.message || 'Google sign-in failed. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const startPhoneAuth = () => {\n    setMode('phone');\n    setAuthError('');\n    setOtpSent(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-gray-900/60 backdrop-blur-sm flex items-start sm:items-center justify-center p-4 pt-16 sm:pt-4 z-50 overflow-y-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl w-full max-w-md p-8 my-auto shadow-2xl fade-in border border-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 bg-gradient-to-br from-teal-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg\",\n              children: /*#__PURE__*/_jsxDEV(Home, {\n                className: \"w-5 h-5 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3065,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3064,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xl font-extrabold\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent\",\n                children: \"Room\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3068,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-rose-500\",\n                children: \"24\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3069,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3067,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3063,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold text-gray-900 mt-4\",\n            children: [mode === 'signin' && 'Welcome back!', mode === 'signup' && 'Create your account', mode === 'reset' && 'Reset password', mode === 'phone' && 'Sign in with phone', mode === 'phone-verify' && 'Enter verification code']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3072,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-1\",\n            children: [mode === 'signin' && 'Sign in to continue', mode === 'signup' && 'Join Room24 today', mode === 'reset' && \"We'll send you a reset link\", mode === 'phone' && \"We'll send you a verification code\", mode === 'phone-verify' && `Code sent to ${phoneFormatted}`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3079,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3062,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3091,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3087,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3061,\n        columnNumber: 9\n      }, this), authError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 p-3 bg-rose-50 border border-rose-200 rounded-xl text-rose-700 text-sm flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"w-4 h-4 flex-shrink-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3098,\n          columnNumber: 13\n        }, this), authError]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3097,\n        columnNumber: 11\n      }, this), resetSent && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 p-3 bg-green-50 border border-green-200 rounded-xl text-green-700 text-sm flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"w-4 h-4 flex-shrink-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3106,\n          columnNumber: 13\n        }, this), \"Password reset email sent! Check your inbox.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3105,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [mode === 'phone-verify' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"Verification Code *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3116,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              inputMode: \"numeric\",\n              maxLength: 6,\n              value: form.otp,\n              onChange: e => {\n                const val = e.target.value.replace(/\\D/g, '').slice(0, 6);\n                setForm({\n                  ...form,\n                  otp: val\n                });\n                setErrors({\n                  ...errors,\n                  otp: ''\n                });\n                setAuthError('');\n              },\n              className: `w-full px-4 py-4 border-2 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500 text-center text-2xl font-bold tracking-[0.5em] ${errors.otp ? 'border-rose-400 bg-rose-50' : 'border-gray-200 hover:border-gray-300'}`,\n              placeholder: \"000000\",\n              autoFocus: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3117,\n              columnNumber: 17\n            }, this), errors.otp && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-rose-500 text-xs mt-1.5 flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u26A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3134,\n                columnNumber: 100\n              }, this), errors.otp]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3134,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3115,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"Your Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3139,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: form.name,\n              onChange: e => {\n                setForm({\n                  ...form,\n                  name: e.target.value\n                });\n                setErrors({\n                  ...errors,\n                  name: ''\n                });\n              },\n              className: \"w-full px-4 py-3 border-2 border-gray-200 hover:border-gray-300 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500\",\n              placeholder: \"John Doe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3140,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3138,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"I am a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3151,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setForm({\n                  ...form,\n                  type: 'renter'\n                }),\n                className: `p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1 ${form.type === 'renter' ? 'border-teal-500 bg-gradient-to-br from-teal-50 to-cyan-50 text-teal-700 shadow-md' : 'border-gray-200 hover:border-gray-300 text-gray-600 hover:bg-gray-50'}`,\n                children: [/*#__PURE__*/_jsxDEV(Search, {\n                  className: `w-5 h-5 ${form.type === 'renter' ? 'text-teal-500' : ''}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3162,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs font-semibold\",\n                  children: \"Looking for a room\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3163,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3153,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setForm({\n                  ...form,\n                  type: 'landlord'\n                }),\n                className: `p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1 ${form.type === 'landlord' ? 'border-rose-500 bg-gradient-to-br from-rose-50 to-pink-50 text-rose-700 shadow-md' : 'border-gray-200 hover:border-gray-300 text-gray-600 hover:bg-gray-50'}`,\n                children: [/*#__PURE__*/_jsxDEV(Home, {\n                  className: `w-5 h-5 ${form.type === 'landlord' ? 'text-rose-500' : ''}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3174,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs font-semibold\",\n                  children: \"Listing rooms\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3175,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3165,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3152,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3150,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              setMode('phone');\n              setOtpSent(false);\n              setForm({\n                ...form,\n                otp: ''\n              });\n            },\n            className: \"text-sm text-teal-600 hover:text-teal-700 font-medium\",\n            children: \"\\u2190 Change phone number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3180,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), mode === 'phone' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"Phone Number *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3194,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center px-3 bg-gray-100 border-2 border-gray-200 rounded-xl text-gray-600 font-medium\",\n                children: \"\\uD83C\\uDDFF\\uD83C\\uDDE6 +27\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3196,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                value: form.phone,\n                onChange: e => {\n                  setForm({\n                    ...form,\n                    phone: e.target.value\n                  });\n                  setErrors({\n                    ...errors,\n                    phone: ''\n                  });\n                  setAuthError('');\n                },\n                className: `flex-1 px-4 py-3 border-2 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500 ${errors.phone ? 'border-rose-400 bg-rose-50' : 'border-gray-200 hover:border-gray-300'}`,\n                placeholder: \"72 123 4567\",\n                autoFocus: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3199,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3195,\n              columnNumber: 17\n            }, this), errors.phone && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-rose-500 text-xs mt-1.5 flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u26A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3214,\n                columnNumber: 102\n              }, this), errors.phone]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3214,\n              columnNumber: 34\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-2\",\n              children: \"We'll send you an SMS with a verification code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3215,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3193,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              setMode('signin');\n              setAuthError('');\n            },\n            className: \"text-sm text-teal-600 hover:text-teal-700 font-medium\",\n            children: \"\\u2190 Use email instead\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3218,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), (mode === 'signin' || mode === 'signup') && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleGoogleSignIn,\n              disabled: isSubmitting,\n              className: \"flex items-center justify-center gap-2 px-4 py-3 border-2 border-gray-200 hover:border-gray-300 rounded-xl transition-all hover:bg-gray-50 font-medium text-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-5 h-5\",\n                viewBox: \"0 0 24 24\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  fill: \"#4285F4\",\n                  d: \"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3239,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  fill: \"#34A853\",\n                  d: \"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3240,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  fill: \"#FBBC05\",\n                  d: \"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3241,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  fill: \"#EA4335\",\n                  d: \"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3242,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3238,\n                columnNumber: 19\n              }, this), \"Google\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3232,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: startPhoneAuth,\n              disabled: isSubmitting,\n              className: \"flex items-center justify-center gap-2 px-4 py-3 border-2 border-gray-200 hover:border-gray-300 rounded-xl transition-all hover:bg-gray-50 font-medium text-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"w-5 h-5 text-green-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3253,\n                columnNumber: 19\n              }, this), \"Phone\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3247,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3231,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 flex items-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full border-t border-gray-200\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3260,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3259,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative flex justify-center text-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-4 bg-white text-gray-500\",\n                children: \"or use email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3263,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3262,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3258,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), mode === 'reset' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-2\",\n            children: \"Email *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3272,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: form.email,\n            onChange: e => {\n              setForm({\n                ...form,\n                email: e.target.value\n              });\n              setErrors({\n                ...errors,\n                email: ''\n              });\n              setAuthError('');\n            },\n            className: `w-full px-4 py-3 border-2 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500 ${errors.email ? 'border-rose-400 bg-rose-50' : 'border-gray-200 hover:border-gray-300'}`,\n            placeholder: \"john@example.com\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3273,\n            columnNumber: 15\n          }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-rose-500 text-xs mt-1.5 flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u26A0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3282,\n              columnNumber: 100\n            }, this), errors.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3282,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3271,\n          columnNumber: 13\n        }, this), (mode === 'signin' || mode === 'signup') && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [mode === 'signup' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"Full name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3292,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: form.name,\n              onChange: e => {\n                setForm({\n                  ...form,\n                  name: e.target.value\n                });\n                setErrors({\n                  ...errors,\n                  name: ''\n                });\n              },\n              className: `w-full px-4 py-3 border-2 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500 ${errors.name ? 'border-rose-400 bg-rose-50' : 'border-gray-200 hover:border-gray-300'}`,\n              placeholder: \"John Doe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3293,\n              columnNumber: 19\n            }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-rose-500 text-xs mt-1.5 flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u26A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3302,\n                columnNumber: 103\n              }, this), errors.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3302,\n              columnNumber: 35\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3291,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"Email *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3308,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              value: form.email,\n              onChange: e => {\n                setForm({\n                  ...form,\n                  email: e.target.value\n                });\n                setErrors({\n                  ...errors,\n                  email: ''\n                });\n                setAuthError('');\n              },\n              className: `w-full px-4 py-3 border-2 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500 ${errors.email ? 'border-rose-400 bg-rose-50' : 'border-gray-200 hover:border-gray-300'}`,\n              placeholder: \"john@example.com\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3309,\n              columnNumber: 17\n            }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-rose-500 text-xs mt-1.5 flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u26A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3318,\n                columnNumber: 102\n              }, this), errors.email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3318,\n              columnNumber: 34\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3307,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"Password *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3323,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: form.password,\n              onChange: e => {\n                setForm({\n                  ...form,\n                  password: e.target.value\n                });\n                setErrors({\n                  ...errors,\n                  password: ''\n                });\n                setAuthError('');\n              },\n              className: `w-full px-4 py-3 border-2 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500 ${errors.password ? 'border-rose-400 bg-rose-50' : 'border-gray-200 hover:border-gray-300'}`,\n              placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3324,\n              columnNumber: 17\n            }, this), errors.password && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-rose-500 text-xs mt-1.5 flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u26A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3333,\n                columnNumber: 105\n              }, this), errors.password]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3333,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3322,\n            columnNumber: 15\n          }, this), mode === 'signup' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"Confirm Password *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3339,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: form.confirmPassword,\n              onChange: e => {\n                setForm({\n                  ...form,\n                  confirmPassword: e.target.value\n                });\n                setErrors({\n                  ...errors,\n                  confirmPassword: ''\n                });\n              },\n              className: `w-full px-4 py-3 border-2 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500 ${errors.confirmPassword ? 'border-rose-400 bg-rose-50' : 'border-gray-200 hover:border-gray-300'}`,\n              placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3340,\n              columnNumber: 19\n            }, this), errors.confirmPassword && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-rose-500 text-xs mt-1.5 flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u26A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3349,\n                columnNumber: 114\n              }, this), errors.confirmPassword]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3349,\n              columnNumber: 46\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3338,\n            columnNumber: 17\n          }, this), mode === 'signup' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: [\"Phone \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-400 font-normal\",\n                children: \"(optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3357,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3356,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              value: form.phone,\n              onChange: e => setForm({\n                ...form,\n                phone: e.target.value\n              }),\n              className: \"w-full px-4 py-3 border-2 border-gray-200 hover:border-gray-300 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500\",\n              placeholder: \"+27 12 345 6789\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3359,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3355,\n            columnNumber: 17\n          }, this), mode === 'signup' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"I am a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3372,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setForm({\n                  ...form,\n                  type: 'renter'\n                }),\n                className: `p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1 ${form.type === 'renter' ? 'border-teal-500 bg-gradient-to-br from-teal-50 to-cyan-50 text-teal-700 shadow-md' : 'border-gray-200 hover:border-gray-300 text-gray-600 hover:bg-gray-50'}`,\n                children: [/*#__PURE__*/_jsxDEV(Search, {\n                  className: `w-5 h-5 ${form.type === 'renter' ? 'text-teal-500' : ''}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3383,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs font-semibold\",\n                  children: \"Looking for a room\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3384,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3374,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setForm({\n                  ...form,\n                  type: 'landlord'\n                }),\n                className: `p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1 ${form.type === 'landlord' ? 'border-rose-500 bg-gradient-to-br from-rose-50 to-pink-50 text-rose-700 shadow-md' : 'border-gray-200 hover:border-gray-300 text-gray-600 hover:bg-gray-50'}`,\n                children: [/*#__PURE__*/_jsxDEV(Home, {\n                  className: `w-5 h-5 ${form.type === 'landlord' ? 'text-rose-500' : ''}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3395,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs font-semibold\",\n                  children: \"Listing rooms\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3396,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3386,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3373,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3371,\n            columnNumber: 17\n          }, this), mode === 'signin' && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              setMode('reset');\n              setAuthError('');\n              setResetSent(false);\n            },\n            className: \"text-sm text-teal-600 hover:text-teal-700 font-medium\",\n            children: \"Forgot your password?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3404,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"phone-sign-in-button\",\n          onClick: handleSubmit,\n          disabled: isSubmitting,\n          className: `w-full font-bold py-3 rounded-xl transition-all relative ${isSubmitting ? 'bg-teal-400 cursor-not-allowed' : 'bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white shadow-lg hover:shadow-xl hover:shadow-teal-500/25'}`,\n          children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"opacity-0\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3428,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3430,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3429,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [mode === 'signin' && 'Sign In', mode === 'signup' && 'Create Account', mode === 'reset' && 'Send Reset Link', mode === 'phone' && 'Send Verification Code', mode === 'phone-verify' && 'Verify & Sign In']\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3416,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"recaptcha-container\",\n          className: \"flex justify-center\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3445,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-sm text-gray-600\",\n          children: [mode === 'signin' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"Don't have an account?\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setMode('signup');\n                setAuthError('');\n              },\n              className: \"text-teal-600 hover:text-teal-700 font-semibold\",\n              children: \"Sign up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3452,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), mode === 'signup' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"Already have an account?\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setMode('signin');\n                setAuthError('');\n              },\n              className: \"text-teal-600 hover:text-teal-700 font-semibold\",\n              children: \"Sign in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3463,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), mode === 'reset' && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setMode('signin');\n              setAuthError('');\n              setResetSent(false);\n            },\n            className: \"text-teal-600 hover:text-teal-700 font-semibold\",\n            children: \"\\u2190 Back to sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3472,\n            columnNumber: 15\n          }, this), (mode === 'phone' || mode === 'phone-verify') && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setMode('signin');\n              setAuthError('');\n              setOtpSent(false);\n            },\n            className: \"text-teal-600 hover:text-teal-700 font-semibold\",\n            children: \"\\u2190 Back to sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3480,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3448,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-400 text-center mt-6\",\n        children: [\"By continuing, you agree to our \", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-teal-600 hover:underline\",\n          children: \"Terms of Service\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3492,\n          columnNumber: 43\n        }, this), \" and \", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-teal-600 hover:underline\",\n          children: \"Privacy Policy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3492,\n          columnNumber: 123\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3491,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3059,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 3058,\n    columnNumber: 5\n  }, this);\n}\n_s8(AuthModal, \"w5scLuJ9rCiNhlswgGLa8WqFROo=\");\n_c9 = AuthModal;\nfunction BottomNav({\n  currentView,\n  setCurrentView,\n  userType\n}) {\n  const navItems = [{\n    id: 'browse',\n    label: 'Browse',\n    icon: /*#__PURE__*/_jsxDEV(Search, {\n      className: \"w-5 h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3501,\n      columnNumber: 44\n    }, this),\n    activeColor: 'teal'\n  }, {\n    id: 'add',\n    label: 'List',\n    icon: /*#__PURE__*/_jsxDEV(PlusCircle, {\n      className: \"w-5 h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3502,\n      columnNumber: 39\n    }, this),\n    requiresLandlord: true,\n    activeColor: 'rose'\n  }, {\n    id: 'favorites',\n    label: 'Saved',\n    icon: /*#__PURE__*/_jsxDEV(Heart, {\n      className: \"w-5 h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3503,\n      columnNumber: 46\n    }, this),\n    activeColor: 'rose'\n  }, {\n    id: 'profile',\n    label: 'Profile',\n    icon: /*#__PURE__*/_jsxDEV(User, {\n      className: \"w-5 h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3504,\n      columnNumber: 46\n    }, this),\n    activeColor: 'blue'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md border-t border-gray-100 px-4 py-2 z-20 md:hidden safe-area-bottom\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-4 gap-1 max-w-md mx-auto\",\n      children: navItems.map(item => {\n        const disabled = item.requiresLandlord && userType !== 'landlord';\n        const isActive = currentView === item.id;\n        const colorClasses = {\n          teal: 'text-teal-600 bg-teal-50',\n          rose: 'text-rose-600 bg-rose-50',\n          blue: 'text-blue-600 bg-blue-50'\n        };\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          disabled: disabled,\n          onClick: () => !disabled && setCurrentView(item.id),\n          className: `flex flex-col items-center gap-0.5 py-2 px-1 rounded-xl transition-all duration-200 ${disabled ? 'opacity-40 cursor-not-allowed' : 'active:scale-95'} ${isActive ? `${colorClasses[item.activeColor]} font-semibold` : 'text-gray-400 hover:text-gray-600 hover:bg-gray-50'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `transition-transform duration-200 ${isActive ? 'scale-110' : ''}`,\n            children: item.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3534,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-[10px] font-medium\",\n            children: item.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3537,\n            columnNumber: 15\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3519,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3509,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 3508,\n    columnNumber: 5\n  }, this);\n}\n_c0 = BottomNav;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0;\n$RefreshReg$(_c, \"RentalPlatform\");\n$RefreshReg$(_c2, \"ProfileSetupView\");\n$RefreshReg$(_c3, \"ProfileView\");\n$RefreshReg$(_c4, \"LandlordOnboardingView\");\n$RefreshReg$(_c5, \"EditProfileView\");\n$RefreshReg$(_c6, \"FavoritesView\");\n$RefreshReg$(_c7, \"AddListingView\");\n$RefreshReg$(_c8, \"MyListingsView\");\n$RefreshReg$(_c9, \"AuthModal\");\n$RefreshReg$(_c0, \"BottomNav\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","initFirebase","initAnalytics","requestFcmToken","listenForegroundMessages","trackEvent","fetchListings","addListing","deleteListing","subscribeToListings","isFirestoreEnabled","subscribeToAuthState","getUserProfile","saveUserProfile","initRecaptcha","sendPhoneOTP","verifyPhoneOTP","clearRecaptcha","getLinkedProviders","linkGoogleAccount","Home","PlusCircle","Search","MapPin","X","User","Phone","Mail","Edit","CheckCircle","Heart","Calendar","Bell","AlertTriangle","LogOut","Link2","Download","Smartphone","Header","ListingDetailModal","Footer","BrowseView","PrivacyPolicyModal","NotificationBanner","AnalyticsConsentModal","NotificationsPanel","PhotoEditor","OfflineIndicator","BackToTop","getNotifications","loadListingTemplate","saveListingTemplate","clearListingTemplate","signUpWithEmail","signInWithEmail","signInWithGoogle","signOut","firebaseSignOut","resetPassword","jsxDEV","_jsxDEV","Fragment","_Fragment","RentalPlatform","_s","currentView","setCurrentView","userType","setUserType","previewAsRenter","setPreviewAsRenter","listings","setListings","selectedListing","setSelectedListing","users","setUsers","searchLocation","setSearchLocation","priceRange","setPriceRange","selectedAmenities","setSelectedAmenities","sortBy","setSortBy","currentUser","setCurrentUser","userProfile","setUserProfile","authLoading","setAuthLoading","showAuthModal","setShowAuthModal","authDefaultType","setAuthDefaultType","toast","setToast","showPrivacyPolicy","setShowPrivacyPolicy","notificationBanner","setNotificationBanner","showAnalyticsConsent","setShowAnalyticsConsent","showNotificationsPanel","setShowNotificationsPanel","unreadCount","setUnreadCount","showInstallBanner","setShowInstallBanner","deferredPrompt","setDeferredPrompt","openAuthModal","type","authFunctions","signUp","email","password","displayName","userTypeParam","phone","firebaseUser","profileData","photoURL","createdAt","Date","toISOString","landlordComplete","uid","signIn","signInGoogle","profile","phoneNumber","sendPasswordReset","otpCode","clearPhoneAuth","updateUnreadCount","notifications","filter","n","read","length","interval","setInterval","clearInterval","isInstalled","window","matchMedia","matches","navigator","standalone","wasDismissed","localStorage","getItem","dismissedTime","parseInt","daysSinceDismissed","now","handleBeforeInstallPrompt","e","preventDefault","setTimeout","addEventListener","isIOS","test","userAgent","removeEventListener","handleInstallClick","prompt","outcome","userChoice","showToast","dismissInstallBanner","setItem","toString","loadData","app","unsubscribeAuth","err","console","error","unsubscribeListings","firestoreListings","JSON","stringify","analyticsConsent","process","env","REACT_APP_ENABLE_ANALYTICS","token","log","warn","payload","notification","title","body","listingsResult","parse","userResult","usersResult","user","parsed","Array","isArray","sampleListings","id","price","location","description","photos","status","availableDate","amenities","landlordId","landlordName","landlordPhone","landlordEmail","landlordPhoto","isDuplicateContact","ignoreId","normalizedPhone","trim","normalizedEmail","toLowerCase","some","u","uPhone","uEmail","phoneMatch","emailMatch","message","handleAnalyticsConsentAccept","handleAnalyticsConsentDecline","saveListings","newListings","serviceWorker","controller","postMessage","saveSubscriptions","subscriptions","getSubscriptions","res","subscribeToArea","userId","area","alert","subs","includes","push","handleProfileSetup","whatsapp","notificationPrefs","updates","marketing","existingUsersRaw","existingUsers","handleUpdateProfile","updatedUser","idx","findIndex","handleSignOut","handleCompleteOnboarding","onboardData","landlordInfo","prev","handleAddListing","listingData","_listingData$latitude","_listingData$longitud","fullAddress","streetAddress","Boolean","join","newListingData","latitude","longitude","paymentMethod","premium","firestoreId","newListing","updatedListings","scrollTo","top","behavior","filteredListings","listing","matchesLocation","parseFloat","matchesPrice","matchesAmenities","every","amenity","_listing$amenities","sort","a","b","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onOpenNotifications","onClose","role","ProfileSetupView","onSubmit","ProfileView","name","photo","onEdit","onSignOut","linkedProviders","onLinkGoogle","reload","onLinkPhone","onUpdatePrefs","prefs","EditProfileView","onCancel","LandlordOnboardingView","onComplete","onSelectListing","onRequireAuth","previewMode","AddListingView","onRequireOnboarding","MyListingsView","l","onDelete","deleted","updated","FavoritesView","landlord","AuthModal","defaultType","onSuccess","BottomNav","onAccept","onDecline","listingId","find","onOpenPrivacy","onInstallApp","_c","_s2","formData","setFormData","errors","setErrors","touched","setTouched","validateField","value","extras","newErrors","handlePhotoUpload","file","target","files","size","reader","FileReader","onloadend","result","readAsDataURL","handleSubmit","allTouched","Object","keys","src","alt","accept","onChange","required","onBlur","placeholder","undefined","_c2","_s3","_user$name","_user$name$charAt","localPrefs","setLocalPrefs","linkingInProgress","setLinkingInProgress","linkError","setLinkError","linkSuccess","setLinkSuccess","togglePref","key","next","handleLinkGoogle","handleLinkPhone","hasGoogle","hasPhone","hasPassword","charAt","toUpperCase","toLocaleDateString","year","month","day","checked","viewBox","fill","d","disabled","_c3","_s4","_currentUser$name","_currentUser$name$cha","form","setForm","businessName","bankDetails","idNumber","agree","_c4","_s5","_c5","_s6","favorites","setFavorites","rawFavorites","arr","toggleFavorite","favoriteListings","map","ListingCard","require","default","isFavorite","onToggleFavorite","_c6","createDefaultListingForm","split","roomType","leaseDuration","petFriendly","genderPreference","_s7","GEOCODER_KEY","REACT_APP_GEOCODER_API_KEY","GEOCODER_PROVIDER","REACT_APP_GEOCODER_PROVIDER","base","saved","_saved$petFriendly","_saved$premium","geocodingStatus","setGecodingStatus","showPhotoEditor","setShowPhotoEditor","reverseGeocodeCacheRef","useRef","lastGeocodeSource","setLastGeocodeSource","fullAddressInput","setFullAddressInput","isFullAddressEditing","setIsFullAddressEditing","_saved$petFriendly2","_saved$premium2","_formData$photos","hasFormData","handleBeforeUnload","returnValue","corsFallbackTransforms","url","startsWith","encodeURIComponent","fetchWithCorsFallback","options","cloneOptions","headers","attempt","targetUrl","resp","fetch","ok","Error","_options$signal","signal","aborted","lastError","transform","proxiedUrl","proxyErr","_options$signal2","forwardGeocodeAddress","query","_data$features","data","json","features","f","_f$geometry","_f$geometry$coordinat","_f$geometry2","_f$geometry2$coordina","lat","center","geometry","coordinates","lon","label","place_name","text","source","entry","mapsResp","mapsData","slice","display_name","mapsErr","API_BASE","REACT_APP_PROXY_BASE","port","proxyResp","proxyData","directResp","directData","directErr","availableAmenities","_ref","_extras$streetAddress","_ref2","_extras$location","streetText","areaText","raw","current","geocodeAddress","results","best","areaResults","bestArea","toggleAmenity","isSubmitting","setIsSubmitting","googleMapsQuery","googleMapsUrl","combinedFormAddress","part","handleFullAddressChange","parts","street","derivedLocation","words","locationWordCount","Math","min","ceil","handleResetSavedTemplate","blank","completed","total","style","width","max","rows","onFocus","toFixed","href","rel","htmlFor","index","onPhotosChange","newPhotos","maxPhotos","_c7","hash","_listing$price","toLocaleString","_c8","_s8","mode","setMode","confirmPassword","otp","authError","setAuthError","resetSent","setResetSent","otpSent","setOtpSent","phoneFormatted","setPhoneFormatted","validateForm","formattedNumber","errorMessage","code","handleGoogleSignIn","startPhoneAuth","inputMode","maxLength","val","replace","autoFocus","_c9","navItems","icon","activeColor","requiresLandlord","item","isActive","colorClasses","teal","rose","blue","_c0","$RefreshReg$"],"sources":["C:/Users/kutum/Documents/room-rental-platform/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { initFirebase, initAnalytics, requestFcmToken, listenForegroundMessages, trackEvent, fetchListings, addListing, deleteListing, subscribeToListings, isFirestoreEnabled, subscribeToAuthState, getUserProfile, saveUserProfile, initRecaptcha, sendPhoneOTP, verifyPhoneOTP, clearRecaptcha, getLinkedProviders, linkGoogleAccount } from './firebase';\nimport { Home, PlusCircle, Search, MapPin, X, User, Phone, Mail, Edit, CheckCircle, Heart, Calendar, Bell, AlertTriangle, LogOut, Link2, Download, Smartphone } from 'lucide-react';\nimport Header from './components/Header';\nimport ListingDetailModal from './components/ListingDetailModal';\nimport Footer from './components/Footer';\nimport BrowseView from './components/BrowseView';\nimport PrivacyPolicyModal from './components/PrivacyPolicyModal';\nimport NotificationBanner from './components/NotificationBanner';\nimport AnalyticsConsentModal from './components/AnalyticsConsentModal';\nimport NotificationsPanel from './components/NotificationsPanel';\nimport PhotoEditor from './components/PhotoEditor';\nimport OfflineIndicator from './components/OfflineIndicator';\nimport BackToTop from './components/BackToTop';\nimport { getNotifications } from './utils/notificationEngine';\nimport { loadListingTemplate, saveListingTemplate, clearListingTemplate } from './utils/listingTemplateStorage';\nimport { \n  signUpWithEmail, \n  signInWithEmail, \n  signInWithGoogle, \n  signOut as firebaseSignOut, \n  resetPassword \n} from './firebase';\n\nexport default function RentalPlatform() {\n  const [currentView, setCurrentView] = useState('browse');\n  const [userType, setUserType] = useState(null);\n  const [previewAsRenter, setPreviewAsRenter] = useState(false); // landlord UI preview toggle\n  const [listings, setListings] = useState([]);\n  const [selectedListing, setSelectedListing] = useState(null);\n  const [users, setUsers] = useState([]); // registry of all users (localStorage 'users')\n  const [searchLocation, setSearchLocation] = useState('');\n  const [priceRange, setPriceRange] = useState([0, 10000]);\n  const [selectedAmenities, setSelectedAmenities] = useState([]);\n  const [sortBy, setSortBy] = useState('newest');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [userProfile, setUserProfile] = useState(null); // Extended profile from Firestore\n  const [authLoading, setAuthLoading] = useState(true); // Loading state for auth\n  const [showAuthModal, setShowAuthModal] = useState(false);\n  const [authDefaultType, setAuthDefaultType] = useState('renter');\n  // Mobile menu state moved into Header component\n  const [toast, setToast] = useState(null);\n  const [showPrivacyPolicy, setShowPrivacyPolicy] = useState(false);\n  const [notificationBanner, setNotificationBanner] = useState(null);\n  const [showAnalyticsConsent, setShowAnalyticsConsent] = useState(false);\n  const [showNotificationsPanel, setShowNotificationsPanel] = useState(false);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [showInstallBanner, setShowInstallBanner] = useState(false);\n  const [deferredPrompt, setDeferredPrompt] = useState(null);\n\n  const openAuthModal = (type = 'renter') => {\n    setAuthDefaultType(type);\n    setShowAuthModal(true);\n  };\n\n  // Auth functions to pass to AuthModal\n  const authFunctions = {\n    signUp: async (email, password, displayName, userTypeParam = 'renter', phone = '') => {\n      const firebaseUser = await signUpWithEmail(email, password, displayName);\n      \n      // Create user profile in Firestore\n      const profileData = {\n        email: firebaseUser.email,\n        displayName: displayName || firebaseUser.displayName,\n        userType: userTypeParam,\n        phone,\n        photoURL: firebaseUser.photoURL || '',\n        createdAt: new Date().toISOString(),\n        landlordComplete: userTypeParam === 'renter',\n      };\n      \n      await saveUserProfile(firebaseUser.uid, profileData);\n      return firebaseUser;\n    },\n    signIn: async (email, password) => {\n      return await signInWithEmail(email, password);\n    },\n    signInGoogle: async (userTypeParam = 'renter') => {\n      const firebaseUser = await signInWithGoogle();\n      \n      // Check if user profile exists\n      let profile = await getUserProfile(firebaseUser.uid);\n      \n      if (!profile) {\n        // Create new profile for Google user\n        const profileData = {\n          email: firebaseUser.email,\n          displayName: firebaseUser.displayName || '',\n          userType: userTypeParam,\n          phone: firebaseUser.phoneNumber || '',\n          photoURL: firebaseUser.photoURL || '',\n          createdAt: new Date().toISOString(),\n          landlordComplete: userTypeParam === 'renter',\n        };\n        \n        await saveUserProfile(firebaseUser.uid, profileData);\n      }\n      \n      return firebaseUser;\n    },\n    sendPasswordReset: async (email) => {\n      await resetPassword(email);\n    },\n    sendPhoneOTP: async (phoneNumber) => {\n      // Initialize reCAPTCHA if not already done\n      initRecaptcha('phone-sign-in-button');\n      return await sendPhoneOTP(phoneNumber);\n    },\n    verifyPhoneOTP: async (otpCode, userTypeParam = 'renter', displayName = '') => {\n      const firebaseUser = await verifyPhoneOTP(otpCode);\n      \n      // Check if user profile exists\n      let profile = await getUserProfile(firebaseUser.uid);\n      \n      if (!profile) {\n        // Create new profile for phone user\n        const profileData = {\n          email: '',\n          displayName: displayName || firebaseUser.phoneNumber,\n          userType: userTypeParam,\n          phone: firebaseUser.phoneNumber || '',\n          photoURL: '',\n          createdAt: new Date().toISOString(),\n          landlordComplete: userTypeParam === 'renter',\n        };\n        \n        await saveUserProfile(firebaseUser.uid, profileData);\n      }\n      \n      return firebaseUser;\n    },\n    clearPhoneAuth: () => {\n      clearRecaptcha();\n    }\n  };\n\n  // Update unread notification count\n  useEffect(() => {\n    const updateUnreadCount = () => {\n      const notifications = getNotifications();\n      setUnreadCount(notifications.filter(n => !n.read).length);\n    };\n    updateUnreadCount();\n    const interval = setInterval(updateUnreadCount, 5000); // check every 5s\n    return () => clearInterval(interval);\n  }, []);\n\n  // PWA Install Banner Logic\n  useEffect(() => {\n    // Check if already installed or dismissed\n    const isInstalled = window.matchMedia('(display-mode: standalone)').matches \n                     || window.navigator.standalone === true;\n    const wasDismissed = localStorage.getItem('installBannerDismissed');\n    const dismissedTime = wasDismissed ? parseInt(wasDismissed, 10) : 0;\n    const daysSinceDismissed = (Date.now() - dismissedTime) / (1000 * 60 * 60 * 24);\n    \n    if (isInstalled) {\n      setShowInstallBanner(false);\n      return;\n    }\n\n    // Listen for the beforeinstallprompt event\n    const handleBeforeInstallPrompt = (e) => {\n      e.preventDefault();\n      setDeferredPrompt(e);\n      // Show banner if not dismissed recently (within 7 days)\n      if (!wasDismissed || daysSinceDismissed > 7) {\n        setTimeout(() => setShowInstallBanner(true), 3000); // Show after 3 seconds\n      }\n    };\n\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n\n    // For iOS (no beforeinstallprompt), show manual instructions after delay\n    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);\n    if (isIOS && !isInstalled && (!wasDismissed || daysSinceDismissed > 7)) {\n      setTimeout(() => setShowInstallBanner(true), 5000);\n    }\n\n    return () => {\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n    };\n  }, []);\n\n  const handleInstallClick = async () => {\n    if (deferredPrompt) {\n      deferredPrompt.prompt();\n      const { outcome } = await deferredPrompt.userChoice;\n      if (outcome === 'accepted') {\n        setShowInstallBanner(false);\n      }\n      setDeferredPrompt(null);\n    } else {\n      // iOS - show instructions\n      showToast('Tap the Share button, then \"Add to Home Screen\"', 'info', 'Install Room24');\n    }\n  };\n\n  const dismissInstallBanner = () => {\n    setShowInstallBanner(false);\n    localStorage.setItem('installBannerDismissed', Date.now().toString());\n  };\n  \n\n  useEffect(() => {\n    loadData();\n    // Initialize Firebase + FCM token fetch (deferred until user interaction if desired)\n    const app = initFirebase();\n    \n    // Set up Firebase Auth listener\n    const unsubscribeAuth = subscribeToAuthState(async (firebaseUser) => {\n      if (firebaseUser) {\n        setCurrentUser(firebaseUser);\n        // Fetch extended profile from Firestore\n        try {\n          const profile = await getUserProfile(firebaseUser.uid);\n          if (profile) {\n            setUserProfile(profile);\n            setUserType(profile.userType || 'renter');\n          }\n        } catch (err) {\n          console.error('Error fetching user profile:', err);\n        }\n      } else {\n        setCurrentUser(null);\n        setUserProfile(null);\n        setUserType(null);\n      }\n      setAuthLoading(false);\n    });\n    \n    // Set up real-time listener for Firestore listings\n    let unsubscribeListings = null;\n    if (isFirestoreEnabled()) {\n      unsubscribeListings = subscribeToListings((firestoreListings) => {\n        if (firestoreListings && firestoreListings.length >= 0) {\n          setListings(firestoreListings);\n          // Cache locally for offline access\n          localStorage.setItem('listings', JSON.stringify(firestoreListings));\n        }\n      });\n    }\n    \n    // Check analytics consent and show modal if not set\n    const analyticsConsent = localStorage.getItem('analytics-consent');\n    if (!analyticsConsent && process.env.REACT_APP_ENABLE_ANALYTICS === 'true') {\n      // Delay modal slightly so UI loads first\n      setTimeout(() => setShowAnalyticsConsent(true), 2000);\n    } else if (analyticsConsent === 'yes') {\n      initAnalytics(app);\n    }\n\n    (async () => {\n      try {\n        const token = await requestFcmToken();\n        if (token) {\n          console.log('Obtained FCM token:', token);\n          trackEvent('fcm_token_obtained');\n        }\n      } catch (e) {\n        console.warn('FCM token request failed', e);\n      }\n    })();\n    \n    listenForegroundMessages((payload) => {\n      // Display notification banner instead of toast\n      const notification = payload?.notification || {};\n      if (notification.title || notification.body) {\n        setNotificationBanner({\n          title: notification.title,\n          body: notification.body\n        });\n        // Auto-dismiss after 8 seconds\n        setTimeout(() => setNotificationBanner(null), 8000);\n      }\n    });\n    \n    // Cleanup: unsubscribe from listeners on unmount\n    return () => {\n      if (unsubscribeAuth) {\n        unsubscribeAuth();\n      }\n      if (unsubscribeListings) {\n        unsubscribeListings();\n      }\n    };\n  }, []);\n\n  // Guard: if someone navigates to 'add' without landlord auth, prompt to sign in\n  useEffect(() => {\n    if (authLoading) return; // Wait for auth to load\n    \n    if (currentView === 'add') {\n      if (!currentUser) {\n        openAuthModal('landlord');\n        setCurrentView('browse');\n      } else if (userType !== 'landlord') {\n        // Not a landlord - prompt to become one\n        openAuthModal('landlord');\n        setCurrentView('browse');\n      } else if (!userProfile?.landlordComplete) {\n        // Landlord but hasn't completed onboarding\n        setCurrentView('landlord-onboarding');\n      }\n    }\n  }, [currentView, currentUser, userType, userProfile, authLoading]);\n\n  const loadData = async () => {\n    try {\n      // Try to load from Firestore first\n      const firestoreListings = await fetchListings();\n      if (firestoreListings && firestoreListings.length > 0) {\n        console.log('Loaded listings from Firestore');\n        setListings(firestoreListings);\n        // Also cache to localStorage for offline access\n        localStorage.setItem('listings', JSON.stringify(firestoreListings));\n      } else {\n        // Fall back to localStorage\n        const listingsResult = localStorage.getItem('listings');\n        if (listingsResult) {\n          console.log('Loaded listings from localStorage (Firestore empty or unavailable)');\n          setListings(JSON.parse(listingsResult));\n        }\n      }\n      \n      const userResult = localStorage.getItem('current-user');\n      const usersResult = localStorage.getItem('users');\n      if (userResult) {\n        const user = JSON.parse(userResult);\n        setCurrentUser(user);\n        setUserType(user.type);\n      }\n      if (usersResult) {\n        try {\n          const parsed = JSON.parse(usersResult);\n          setUsers(Array.isArray(parsed) ? parsed : []);\n        } catch (e) {\n          console.warn('Corrupt users array in storage, resetting');\n          setUsers([]);\n        }\n      }\n    } catch (error) {\n      console.log('No existing data found, starting fresh');\n      // Add sample listings for testing the map\n      const sampleListings = [\n        {\n          id: 'listing-1',\n          title: 'Cozy Room in Soweto',\n          price: 2500,\n          location: 'Soweto, Johannesburg',\n          description: 'Comfortable room with bathroom and kitchen access',\n          photos: [],\n          status: 'available',\n          availableDate: new Date().toISOString(),\n          amenities: ['WiFi', 'Kitchen'],\n          landlordId: 'landlord-1',\n          landlordName: 'John Smith',\n          landlordPhone: '+27 123 456 7890',\n          landlordEmail: 'john@example.com',\n          landlordPhoto: '',\n          createdAt: new Date().toISOString()\n        },\n        {\n          id: 'listing-2',\n          title: 'Modern Apartment in Sandton',\n          price: 4500,\n          location: 'Sandton, Johannesburg',\n          description: 'Luxurious apartment with parking and security',\n          photos: [],\n          status: 'available',\n          availableDate: new Date().toISOString(),\n          amenities: ['WiFi', 'Parking', 'Air Conditioning'],\n          landlordId: 'landlord-2',\n          landlordName: 'Jane Doe',\n          landlordPhone: '+27 987 654 3210',\n          landlordEmail: 'jane@example.com',\n          landlordPhoto: '',\n          createdAt: new Date().toISOString()\n        },\n        {\n          id: 'listing-3',\n          title: 'Studio in Midrand',\n          price: 3200,\n          location: 'Midrand, Johannesburg',\n          description: 'Spacious studio flat with laundry facilities',\n          photos: [],\n          status: 'available',\n          availableDate: new Date().toISOString(),\n          amenities: ['Laundry', 'WiFi'],\n          landlordId: 'landlord-3',\n          landlordName: 'Mike Johnson',\n          landlordPhone: '+27 555 555 5555',\n          landlordEmail: 'mike@example.com',\n          landlordPhoto: '',\n          createdAt: new Date().toISOString()\n        }\n      ];\n      setListings(sampleListings);\n    }\n  };\n\n  // Helper: check for duplicate phone or email in registry (exclude an optional user id)\n  const isDuplicateContact = (phone, email, ignoreId = null) => {\n    const normalizedPhone = (phone || '').trim();\n    const normalizedEmail = (email || '').trim().toLowerCase();\n    if (!users || users.length === 0) return false;\n    return users.some(u => {\n      if (ignoreId && u.id === ignoreId) return false;\n      const uPhone = (u.phone || '').trim();\n      const uEmail = (u.email || '').trim().toLowerCase();\n      const phoneMatch = normalizedPhone && uPhone && uPhone === normalizedPhone;\n      const emailMatch = normalizedEmail && uEmail && uEmail === normalizedEmail;\n      return phoneMatch || emailMatch;\n    });\n  };\n\n  // Toast notification helper\n  const showToast = (message, type = 'info', title = '') => {\n    setToast({ message, type, title });\n    setTimeout(() => setToast(null), 5000);\n  };\n\n  const handleAnalyticsConsentAccept = () => {\n    localStorage.setItem('analytics-consent', 'yes');\n    setShowAnalyticsConsent(false);\n    const app = initFirebase();\n    initAnalytics(app);\n    trackEvent('analytics_consent_granted');\n    showToast('Analytics enabled', 'success', 'Thank you!');\n  };\n\n  const handleAnalyticsConsentDecline = () => {\n    localStorage.setItem('analytics-consent', 'no');\n    setShowAnalyticsConsent(false);\n    showToast('Analytics disabled', 'info');\n  };\n\n  const saveListings = async (newListings) => {\n    try {\n      localStorage.setItem('listings', JSON.stringify(newListings));\n      setListings(newListings);\n      // Broadcast to runtime service worker for offline snapshot caching\n      if (navigator.serviceWorker && navigator.serviceWorker.controller) {\n        try { navigator.serviceWorker.controller.postMessage({ type: 'SYNC_LISTINGS', payload: newListings }); } catch {}\n      }\n    } catch (error) {\n      console.error('Error saving listings:', error);\n    }\n  };\n\n  const saveSubscriptions = async (subscriptions) => {\n    try {\n      localStorage.setItem('subscriptions', JSON.stringify(subscriptions));\n    } catch (error) {\n      console.error('Error saving subscriptions:', error);\n    }\n  };\n\n  const getSubscriptions = async () => {\n    try {\n      const res = localStorage.getItem('subscriptions');\n      return res ? JSON.parse(res) : {};\n    } catch (err) {\n      console.error('Error loading subscriptions', err);\n    }\n    return {};\n  };\n\n  const subscribeToArea = async (userId, area) => {\n    if (!userId) {\n      openAuthModal('renter');\n      return;\n    }\n    if (!area || area.trim() === '') {\n      alert('Please enter a location to subscribe to.');\n      return;\n    }\n    try {\n      const subs = await getSubscriptions();\n      subs[userId] = subs[userId] || [];\n      if (!subs[userId].includes(area)) {\n        subs[userId].push(area);\n        await saveSubscriptions(subs);\n        alert(`Subscribed to updates for ${area}`);\n      } else {\n        alert(`You are already subscribed to ${area}`);\n      }\n    } catch (err) {\n      console.error('Subscribe failed', err);\n      alert('Could not subscribe. Please try again.');\n    }\n  };\n\n  \n\nconst handleProfileSetup = async (profileData) => {\n  try {\n    // Duplicate guard\n    if (isDuplicateContact(profileData.phone, profileData.email)) {\n      showToast('Phone or email already registered', 'error', 'Duplicate');\n      return;\n    }\n    const userId = `user-${Date.now()}`;\n    const user = { \n      id: userId, \n      type: userType, \n      ...profileData,\n      whatsapp: profileData.whatsapp || '',\n      notificationPrefs: { updates: true, marketing: false },\n      createdAt: new Date().toISOString()\n    };\n    \n    localStorage.setItem('current-user', JSON.stringify(user));\n    setCurrentUser(user);\n    // Update users registry\n    const existingUsersRaw = localStorage.getItem('users');\n    let existingUsers = [];\n    if (existingUsersRaw) {\n      try { existingUsers = JSON.parse(existingUsersRaw); } catch { existingUsers = []; }\n    }\n    existingUsers.push(user);\n    localStorage.setItem('users', JSON.stringify(existingUsers));\n    setUsers(existingUsers);\n    showToast('Profile created successfully!', 'success', 'Welcome!');\n    setCurrentView('browse');\n  } catch (error) {\n    console.error('Error saving profile:', error);\n    // Still set the user locally even if storage fails\n    const userId = `user-${Date.now()}`;\n    const user = { \n      id: userId, \n      type: userType, \n      ...profileData,\n      whatsapp: profileData.whatsapp || '',\n      createdAt: new Date().toISOString()\n    };\n    setCurrentUser(user);\n    const existingUsersRaw = localStorage.getItem('users');\n    let existingUsers = [];\n    if (existingUsersRaw) {\n      try { existingUsers = JSON.parse(existingUsersRaw); } catch { existingUsers = []; }\n    }\n    existingUsers.push(user);\n    try { localStorage.setItem('users', JSON.stringify(existingUsers)); } catch {}\n    setUsers(existingUsers);\n    showToast('Profile created (data may not be persisted)', 'error');\n    setCurrentView('browse');\n  }\n};\n\nconst handleUpdateProfile = async (profileData) => {\n  try {\n    // Duplicate guard (exclude current user id)\n    if (isDuplicateContact(profileData.phone, profileData.email, currentUser?.id)) {\n      showToast('Phone or email already used by another account', 'error', 'Duplicate');\n      return;\n    }\n    const updatedUser = { ...currentUser, ...profileData };\n    \n    localStorage.setItem('current-user', JSON.stringify(updatedUser));\n    setCurrentUser(updatedUser);\n    // Update registry entry\n    const existingUsersRaw = localStorage.getItem('users');\n    let existingUsers = [];\n    if (existingUsersRaw) {\n      try { existingUsers = JSON.parse(existingUsersRaw); } catch { existingUsers = []; }\n    }\n    const idx = existingUsers.findIndex(u => u.id === updatedUser.id);\n    if (idx !== -1) {\n      existingUsers[idx] = updatedUser;\n    } else {\n      existingUsers.push(updatedUser); // ensure presence\n    }\n    localStorage.setItem('users', JSON.stringify(existingUsers));\n    setUsers(existingUsers);\n    showToast('Profile updated successfully!', 'success');\n    setCurrentView('browse');\n  } catch (error) {\n    console.error('Error updating profile:', error);\n    const updatedUser = { ...currentUser, ...profileData };\n    setCurrentUser(updatedUser);\n    const existingUsersRaw = localStorage.getItem('users');\n    let existingUsers = [];\n    if (existingUsersRaw) {\n      try { existingUsers = JSON.parse(existingUsersRaw); } catch { existingUsers = []; }\n    }\n    const idx = existingUsers.findIndex(u => u.id === updatedUser.id);\n    if (idx !== -1) {\n      existingUsers[idx] = updatedUser;\n    } else {\n      existingUsers.push(updatedUser);\n    }\n    try { localStorage.setItem('users', JSON.stringify(existingUsers)); } catch {}\n    setUsers(existingUsers);\n    showToast('Profile updated (data may not be persisted)', 'error');\n    setCurrentView('browse');\n  }\n};\n\n// Sign out using Firebase\nconst handleSignOut = async () => {\n  try {\n    await firebaseSignOut();\n    setCurrentUser(null);\n    setUserProfile(null);\n    setUserType(null);\n    setCurrentView('browse');\n    showToast('Signed out successfully.', 'info');\n  } catch (e) {\n    console.error('Sign out error:', e);\n    showToast('Error signing out. Please try again.', 'error');\n  }\n};\n\nconst handleCompleteOnboarding = async (onboardData) => {\n  try {\n    if (currentUser?.uid) {\n      await saveUserProfile(currentUser.uid, { \n        landlordComplete: true, \n        landlordInfo: onboardData \n      });\n      setUserProfile(prev => ({ ...prev, landlordComplete: true, landlordInfo: onboardData }));\n    }\n    setCurrentView('browse');\n    showToast('Profile complete! You can now create listings.', 'success');\n  } catch (err) {\n    console.error('Onboarding save failed', err);\n    setCurrentView('browse');\n  }\n};\n\nconst handleAddListing = async (listingData) => {\n  // Combine streetAddress and location into fullAddress for complete address storage\n  const fullAddress = [listingData.streetAddress, listingData.location]\n    .filter(Boolean)\n    .join(', ');\n  \n  const newListingData = {\n    title: listingData.title,\n    price: listingData.price,\n    location: listingData.location,\n    streetAddress: listingData.streetAddress || '',\n    fullAddress: fullAddress || listingData.location || '', // Store complete address\n    description: listingData.description,\n    photos: listingData.photos || [],\n    status: listingData.status || 'available',\n    availableDate: listingData.availableDate || new Date().toISOString(),\n    amenities: listingData.amenities || [],\n    latitude: listingData.latitude ?? null,\n    longitude: listingData.longitude ?? null,\n    paymentMethod: listingData.paymentMethod || 'Bank and Cash',\n    premium: !!listingData.premium,\n    // Use Firebase UID for landlordId\n    landlordId: currentUser?.uid || currentUser?.id,\n    landlordName: userProfile?.displayName || currentUser?.displayName || '',\n    landlordPhone: userProfile?.phone || '',\n    landlordEmail: currentUser?.email || '',\n    landlordPhoto: userProfile?.photoURL || currentUser?.photoURL || '',\n  };\n\n  try {\n    // Try to save to Firestore first\n    const firestoreId = await addListing(newListingData);\n    if (firestoreId) {\n      // Successfully saved to Firestore\n      const newListing = { ...newListingData, id: firestoreId, createdAt: new Date().toISOString() };\n      const updatedListings = [...listings, newListing];\n      setListings(updatedListings);\n      // Also cache locally\n      localStorage.setItem('listings', JSON.stringify(updatedListings));\n      showToast('Listing created and shared online!', 'success', 'Success!');\n    } else {\n      // Firestore not available, save locally only\n      const newListing = { ...newListingData, id: `listing-${Date.now()}`, createdAt: new Date().toISOString() };\n      const updatedListings = [...listings, newListing];\n      await saveListings(updatedListings);\n      showToast('Listing saved locally (offline mode)', 'info', 'Saved');\n    }\n  } catch (error) {\n    console.error('Error adding listing:', error);\n    // Fall back to local save\n    const newListing = { ...newListingData, id: `listing-${Date.now()}`, createdAt: new Date().toISOString() };\n    const updatedListings = [...listings, newListing];\n    await saveListings(updatedListings);\n    showToast('Listing saved locally', 'info', 'Saved');\n  }\n  \n  setCurrentView('browse');\n  // Scroll to top to see new listing\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n};\n\n  // Messaging removed\n\nconst filteredListings = listings\n  .filter(listing => {\n    const matchesLocation = !searchLocation || \n      (listing.location || '').toLowerCase().includes(searchLocation.toLowerCase());\n    const price = parseFloat(listing.price);\n    const matchesPrice = price >= priceRange[0] && price <= priceRange[1];\n    const matchesAmenities = selectedAmenities.length === 0 || \n      selectedAmenities.every(amenity => listing.amenities?.includes(amenity));\n\n    return matchesLocation && matchesPrice && matchesAmenities;\n  })\n  .sort((a, b) => {\n    if (a.premium && !b.premium) return -1;\n    if (!a.premium && b.premium) return 1;\n    if (sortBy === 'newest') {\n      return new Date(b.createdAt) - new Date(a.createdAt);\n    } else if (sortBy === 'cheapest') {\n      return parseFloat(a.price) - parseFloat(b.price);\n    } else if (sortBy === 'expensive') {\n      return parseFloat(b.price) - parseFloat(a.price);\n    }\n    return 0;\n  });\n\n  // Allow guests to land on Browse by default. If userType isn't set,\n  // show a gentle callout in the header (below) so users can pick a role\n  // when they want to post or set up their profile.\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-slate-50 to-gray-100\">\n      {/* Offline Indicator */}\n      <OfflineIndicator />\n      \n      {/* PWA Install Banner */}\n      {showInstallBanner && (\n        <div className=\"fixed bottom-20 left-4 right-4 md:left-auto md:right-4 md:max-w-sm z-50 bg-gradient-to-r from-teal-600 to-cyan-600 rounded-2xl shadow-2xl p-4 fade-in border border-teal-400/30\">\n          <div className=\"flex items-start gap-3\">\n            <div className=\"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0\">\n              <Smartphone className=\"w-6 h-6 text-white\" />\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <h4 className=\"font-bold text-white text-sm\">Install Room24</h4>\n              <p className=\"text-teal-100 text-xs mt-0.5\">Add to your home screen for the best experience!</p>\n              <div className=\"flex gap-2 mt-3\">\n                <button\n                  onClick={handleInstallClick}\n                  className=\"flex items-center gap-1.5 px-4 py-2 bg-white text-teal-700 font-semibold text-xs rounded-lg hover:bg-teal-50 transition-colors shadow-sm\"\n                >\n                  <Download className=\"w-4 h-4\" />\n                  Install\n                </button>\n                <button\n                  onClick={dismissInstallBanner}\n                  className=\"px-3 py-2 text-white/80 hover:text-white text-xs font-medium transition-colors\"\n                >\n                  Maybe Later\n                </button>\n              </div>\n            </div>\n            <button\n              onClick={dismissInstallBanner}\n              className=\"text-white/60 hover:text-white transition-colors p-1\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n          </div>\n        </div>\n      )}\n      \n      {/* Back to Top Button */}\n      <BackToTop />\n      \n      <Header\n        currentUser={currentUser}\n        previewAsRenter={previewAsRenter}\n        setPreviewAsRenter={setPreviewAsRenter}\n        openAuthModal={openAuthModal}\n        handleSignOut={handleSignOut}\n        setCurrentView={setCurrentView}\n        unreadCount={unreadCount}\n        onOpenNotifications={() => setShowNotificationsPanel(true)}\n      />\n\n      {/* Notification Banner (Push Notifications) */}\n      {notificationBanner && (\n        <NotificationBanner\n          title={notificationBanner.title}\n          body={notificationBanner.body}\n          onClose={() => setNotificationBanner(null)}\n        />\n      )}\n\n      {/* Toast Notification */}\n      {toast && (\n        <div className={`fixed top-20 right-4 z-50 max-w-sm w-full transition-all duration-300 ${\n          toast.type === 'error' ? 'bg-gradient-to-r from-rose-50 to-red-50 border-rose-400' :\n          toast.type === 'success' ? 'bg-gradient-to-r from-emerald-50 to-green-50 border-emerald-400' :\n          toast.type === 'warning' ? 'bg-gradient-to-r from-amber-50 to-yellow-50 border-amber-400' :\n          'bg-gradient-to-r from-sky-50 to-blue-50 border-sky-400'\n        } border-l-4 rounded-xl shadow-2xl p-4 fade-in backdrop-blur-sm`}>\n          <div className=\"flex items-start gap-3\">\n            <div className={`flex-shrink-0 w-8 h-8 rounded-xl flex items-center justify-center shadow-sm ${\n              toast.type === 'error' ? 'bg-rose-500' :\n              toast.type === 'success' ? 'bg-emerald-500' :\n              toast.type === 'warning' ? 'bg-amber-500' :\n              'bg-sky-500'\n            }`}>\n              {toast.type === 'success' && <CheckCircle className=\"w-5 h-5 text-white\" />}\n              {toast.type === 'error' && <span className=\"text-white font-bold text-sm\"></span>}\n              {toast.type === 'warning' && <span className=\"text-white font-bold text-sm\">!</span>}\n              {toast.type === 'info' && <span className=\"text-white font-bold text-sm\">i</span>}\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              {toast.title && <p className={`font-bold mb-0.5 ${\n                toast.type === 'error' ? 'text-rose-800' :\n                toast.type === 'success' ? 'text-emerald-800' :\n                toast.type === 'warning' ? 'text-amber-800' :\n                'text-sky-800'\n              }`}>{toast.title}</p>}\n              <p className={`text-sm ${\n                toast.type === 'error' ? 'text-rose-700' :\n                toast.type === 'success' ? 'text-emerald-700' :\n                toast.type === 'warning' ? 'text-amber-700' :\n                'text-sky-700'\n              }`}>{toast.message}</p>\n            </div>\n            <button \n              onClick={() => setToast(null)}\n              className={`flex-shrink-0 p-1.5 rounded-lg hover:bg-white/50 transition ${\n                toast.type === 'error' ? 'text-rose-500 hover:text-rose-700' :\n                toast.type === 'success' ? 'text-emerald-500 hover:text-emerald-700' :\n                toast.type === 'warning' ? 'text-amber-500 hover:text-amber-700' :\n                'text-sky-500 hover:text-sky-700'\n              }`}\n              aria-label=\"Close notification\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n          </div>\n        </div>\n      )}\n\n      <div id=\"main-content\" className=\"max-w-7xl mx-auto pb-24 px-4 sm:px-6 lg:px-8\" role=\"main\">\n        {currentView === 'setup-profile' && (\n          <ProfileSetupView onSubmit={handleProfileSetup} userType={userType} />\n        )}\n\n        {currentView === 'profile' && currentUser && (\n          <ProfileView \n            user={{\n              name: userProfile?.displayName || currentUser?.displayName || '',\n              email: currentUser?.email || '',\n              phone: userProfile?.phone || '',\n              photo: userProfile?.photoURL || currentUser?.photoURL || '',\n              type: userProfile?.userType || userType || 'renter',\n              notificationPrefs: userProfile?.notificationPrefs || { updates: true, marketing: false },\n            }}\n            onEdit={() => setCurrentView('edit-profile')} \n            onSignOut={handleSignOut}\n            linkedProviders={getLinkedProviders()}\n            onLinkGoogle={async () => {\n              await linkGoogleAccount();\n              // Refresh to show updated providers\n              window.location.reload();\n            }}\n            onLinkPhone={() => {\n              // Open auth modal for phone linking\n              showToast('Phone linking coming soon!', 'info');\n            }}\n            onUpdatePrefs={async (prefs) => {\n              if (currentUser?.uid) {\n                try {\n                  await saveUserProfile(currentUser.uid, { notificationPrefs: prefs });\n                  setUserProfile(prev => ({ ...prev, notificationPrefs: prefs }));\n                  showToast('Preferences updated', 'success');\n                } catch (err) {\n                  console.error('Failed to update prefs:', err);\n                  showToast('Failed to update preferences', 'error');\n                }\n              }\n            }}\n          />\n        )}\n\n        {currentView === 'edit-profile' && currentUser && (\n          <EditProfileView user={currentUser} onSubmit={handleUpdateProfile} onCancel={() => setCurrentView('profile')} />\n        )}\n\n        {currentView === 'landlord-onboarding' && currentUser && userType === 'landlord' && (\n          <LandlordOnboardingView onComplete={handleCompleteOnboarding} onCancel={() => setCurrentView('browse')} currentUser={currentUser} />\n        )}\n\n        {currentView === 'browse' && (\n                    <BrowseView \n                      listings={filteredListings}\n                      searchLocation={searchLocation}\n                      setSearchLocation={setSearchLocation}\n                      priceRange={priceRange}\n                      setPriceRange={setPriceRange}\n                      selectedAmenities={selectedAmenities}\n                      setSelectedAmenities={setSelectedAmenities}\n                      sortBy={sortBy}\n                      setSortBy={setSortBy}\n                      onSelectListing={setSelectedListing}\n                      setCurrentView={setCurrentView}\n                      currentUser={currentUser}\n                      onRequireAuth={openAuthModal}\n                      subscribeToArea={subscribeToArea}\n                      previewMode={previewAsRenter}\n                    />\n        )}\n\n        {/* Messages view removed */}\n\n        {currentView === 'add' && (\n          <AddListingView\n            onSubmit={handleAddListing}\n            onCancel={() => setCurrentView('browse')}\n            currentUser={currentUser}\n            userType={userType}\n            onRequireAuth={openAuthModal}\n            onRequireOnboarding={() => setCurrentView('landlord-onboarding')}\n          />\n        )}\n\n        {currentView === 'my-listings' && currentUser && userType === 'landlord' && (\n          <MyListingsView \n            listings={listings.filter(l => l.landlordId === currentUser.uid || l.landlordId === currentUser.id)}\n            onDelete={async (id) => {\n              try {\n                // Try to delete from Firestore first\n                const deleted = await deleteListing(id);\n                if (deleted) {\n                  showToast('Listing deleted', 'success');\n                }\n              } catch (error) {\n                console.error('Firestore delete failed:', error);\n              }\n              // Also update local state and localStorage\n              const updated = listings.filter(l => l.id !== id);\n              setListings(updated);\n              localStorage.setItem('listings', JSON.stringify(updated));\n            }}\n          />\n        )}\n\n        {currentView === 'favorites' && (\n          <FavoritesView\n            listings={listings}\n            onSelectListing={setSelectedListing}\n          />\n        )}\n      </div>\n\n      {selectedListing && (\n        <ListingDetailModal \n          listing={selectedListing}\n          landlord={{\n            name: selectedListing.landlordName,\n            phone: selectedListing.landlordPhone,\n            email: selectedListing.landlordEmail,\n            photo: selectedListing.landlordPhoto\n          }}\n          onClose={() => setSelectedListing(null)}\n          userType={userType}\n          currentUser={currentUser}\n          onRequireAuth={openAuthModal}\n          previewMode={previewAsRenter}\n          showToast={showToast}\n        />\n      )}\n\n      {/* Conversation modal removed */}\n\n      {showAuthModal && (\n        <AuthModal\n          defaultType={authDefaultType}\n          onClose={() => setShowAuthModal(false)}\n          onSuccess={() => {\n            showToast('Signed in successfully!', 'success', 'Welcome!');\n          }}\n          authFunctions={authFunctions}\n        />\n      )}\n\n      <BottomNav \n        currentView={currentView}\n        setCurrentView={setCurrentView}\n        userType={userType}\n      />\n\n      {showPrivacyPolicy && (\n        <PrivacyPolicyModal onClose={() => setShowPrivacyPolicy(false)} />\n      )}\n\n      {showAnalyticsConsent && (\n        <AnalyticsConsentModal\n          onAccept={handleAnalyticsConsentAccept}\n          onDecline={handleAnalyticsConsentDecline}\n        />\n      )}\n\n      {showNotificationsPanel && (\n        <NotificationsPanel\n          onClose={() => {\n            setShowNotificationsPanel(false);\n            setUnreadCount(getNotifications().filter(n => !n.read).length);\n          }}\n          onSelectListing={(listingId) => {\n            const listing = listings.find(l => (l.id || `${l.title}-${l.createdAt}`) === listingId);\n            if (listing) {\n              setSelectedListing(listing);\n            }\n            setShowNotificationsPanel(false);\n          }}\n        />\n      )}\n\n      <Footer \n        onOpenPrivacy={() => setShowPrivacyPolicy(true)} \n        onInstallApp={handleInstallClick}\n      />\n    </div>\n  );\n}\n\n\n\nfunction ProfileSetupView({ onSubmit, userType }) {\n  const [formData, setFormData] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    whatsapp: '',\n    photo: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n\n  const validateField = (name, value, extras = {}) => {\n    const newErrors = { ...errors };\n    switch (name) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'phone':\n        if (!value || !/^[+]?[-0-9()\\s]{7,}$/.test(value.trim())) {\n          newErrors.phone = 'Enter a valid phone number (min 7 digits)';\n        } else {\n          delete newErrors.phone;\n        }\n        break;\n      case 'email':\n        if (!value || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value.trim())) {\n          newErrors.email = 'Enter a valid email address';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      case 'photo':\n        if (value === 'FILE_TOO_LARGE') {\n          newErrors.photo = 'Photo is too large (max 2MB)';\n        } else {\n          delete newErrors.photo;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n\n  const handlePhotoUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 2 * 1024 * 1024) { // 2MB limit\n        setFormData({ ...formData, photo: '' });\n        validateField('photo', 'FILE_TOO_LARGE');\n        return;\n      }\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({ ...formData, photo: reader.result });\n        validateField('photo', reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleSubmit = () => {\n    // Touch all fields\n    const allTouched = { name: true, phone: true, email: true, photo: true };\n    setTouched(allTouched);\n    validateField('name', formData.name);\n    validateField('phone', formData.phone);\n    validateField('email', formData.email);\n    if (Object.keys(errors).length === 0 && formData.name && formData.phone && formData.email) {\n      onSubmit(formData);\n    }\n  };\n\n  return (\n    <div className=\"p-4 min-h-screen bg-gradient-to-b from-slate-50 to-gray-100 pb-24\">\n      <div className=\"max-w-2xl mx-auto mt-8\">\n        <div className=\"bg-white rounded-2xl shadow-lg border border-gray-100 p-8\">\n          <div className=\"text-center mb-8\">\n            <h2 className=\"text-3xl font-extrabold text-gray-900 mb-2\">Complete Your Profile</h2>\n            <p className=\"text-gray-600\">Help others know who you are</p>\n          </div>\n\n          <div className=\"space-y-6\">\n            {/* Photo Upload */}\n            <div className=\"flex justify-center mb-8\">\n              <div className=\"relative\">\n                {formData.photo ? (\n                  <img \n                    src={formData.photo} \n                    alt=\"Profile\" \n                    className=\"w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-lg\" \n                  />\n                ) : (\n                  <div className=\"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-blue-200 shadow-lg\">\n                    <User className=\"w-16 h-16 text-blue-600\" />\n                  </div>\n                )}\n                <label className=\"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition group\" aria-label=\"Upload profile photo\">\n                  <Edit className=\"w-5 h-5\" />\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handlePhotoUpload}\n                    className=\"hidden\"\n                  />\n                </label>\n              </div>\n            </div>\n\n            {/* Form Fields */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Full Name *</label>\n              <input\n                type=\"text\"\n                required\n                value={formData.name}\n                onChange={(e) => { setFormData({ ...formData, name: e.target.value }); if (touched.name) validateField('name', e.target.value); }}\n                onBlur={(e) => { setTouched({ ...touched, name: true }); validateField('name', e.target.value); }}\n                placeholder=\"Enter your full name\"\n                aria-invalid={errors.name ? 'true' : 'false'}\n                aria-describedby={errors.name ? 'profile-name-error' : undefined}\n                className={`w-full px-4 py-3 border-2 ${errors.name ? 'border-red-400' : 'border-gray-200'} bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.name && touched.name && <p id=\"profile-name-error\" className=\"mt-1 text-xs text-red-600\">{errors.name}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Phone Number *</label>\n              <div className=\"relative\">\n                <Phone className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"tel\"\n                  required\n                  value={formData.phone}\n                  onChange={(e) => { setFormData({ ...formData, phone: e.target.value }); if (touched.phone) validateField('phone', e.target.value); }}\n                  onBlur={(e) => { setTouched({ ...touched, phone: true }); validateField('phone', e.target.value); }}\n                  placeholder=\"e.g., +27 12 345 6789\"\n                  aria-invalid={errors.phone ? 'true' : 'false'}\n                  aria-describedby={errors.phone ? 'profile-phone-error' : undefined}\n                  className={`w-full pl-11 pr-4 py-3 border-2 ${errors.phone ? 'border-red-400' : 'border-gray-200'} bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition placeholder-gray-400`}\n                />\n              </div>\n              {errors.phone && touched.phone && <p id=\"profile-phone-error\" className=\"mt-1 text-xs text-red-600\">{errors.phone}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Email Address *</label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"email\"\n                  required\n                  value={formData.email}\n                  onChange={(e) => { setFormData({ ...formData, email: e.target.value }); if (touched.email) validateField('email', e.target.value); }}\n                  onBlur={(e) => { setTouched({ ...touched, email: true }); validateField('email', e.target.value); }}\n                  placeholder=\"your.email@example.com\"\n                  aria-invalid={errors.email ? 'true' : 'false'}\n                  aria-describedby={errors.email ? 'profile-email-error' : undefined}\n                  className={`w-full pl-11 pr-4 py-3 border-2 ${errors.email ? 'border-red-400' : 'border-gray-200'} bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition placeholder-gray-400`}\n                />\n              </div>\n              {errors.email && touched.email && <p id=\"profile-email-error\" className=\"mt-1 text-xs text-red-600\">{errors.email}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">WhatsApp (optional)</label>\n              <div className=\"relative\">\n                <Phone className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"tel\"\n                  value={formData.whatsapp}\n                  onChange={(e) => setFormData({ ...formData, whatsapp: e.target.value })}\n                  placeholder=\"e.g., +27 71 234 5678\"\n                  className=\"w-full pl-11 pr-4 py-3 border-2 border-gray-200 bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition placeholder-gray-400\"\n                />\n              </div>\n              <p className=\"text-xs text-gray-500 mt-1\">Used to create a WhatsApp chat link on your listings.</p>\n            </div>\n\n            {/* Submit Button */}\n            <button\n              onClick={handleSubmit}\n              className=\"w-full bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-semibold py-3 rounded-xl transition mt-8 shadow-lg hover:shadow-xl\"\n            >\n              Complete Setup\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ProfileView({ user, onEdit, onUpdatePrefs, onSignOut, linkedProviders, onLinkGoogle, onLinkPhone }) {\n  const prefs = user.notificationPrefs || { updates: true, marketing: false };\n  const [localPrefs, setLocalPrefs] = React.useState(prefs);\n  const [linkingInProgress, setLinkingInProgress] = React.useState(null);\n  const [linkError, setLinkError] = React.useState('');\n  const [linkSuccess, setLinkSuccess] = React.useState('');\n\n  const togglePref = (key) => {\n    const next = { ...localPrefs, [key]: !localPrefs[key] };\n    setLocalPrefs(next);\n    onUpdatePrefs && onUpdatePrefs(next);\n  };\n\n  const handleLinkGoogle = async () => {\n    if (!onLinkGoogle) return;\n    setLinkingInProgress('google');\n    setLinkError('');\n    setLinkSuccess('');\n    try {\n      await onLinkGoogle();\n      setLinkSuccess('Google account linked successfully!');\n    } catch (err) {\n      setLinkError(err.message || 'Failed to link Google account');\n    } finally {\n      setLinkingInProgress(null);\n    }\n  };\n\n  const handleLinkPhone = () => {\n    if (!onLinkPhone) return;\n    onLinkPhone();\n  };\n\n  const hasGoogle = linkedProviders?.includes('google.com');\n  const hasPhone = linkedProviders?.includes('phone');\n  const hasPassword = linkedProviders?.includes('password');\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-slate-50 to-gray-100 pb-24\">\n      {/* Profile Header with Gradient */}\n      <div className=\"bg-gradient-to-br from-teal-600 via-teal-500 to-cyan-500 pt-8 pb-20 px-4\">\n        <div className=\"max-w-xl mx-auto flex justify-between items-start\">\n          <h2 className=\"text-2xl font-bold text-white\">My Profile</h2>\n          <button\n            onClick={onEdit}\n            className=\"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-4 py-2 rounded-xl transition-all duration-200 flex items-center gap-2 border border-white/30\"\n          >\n            <Edit className=\"w-4 h-4\" />\n            Edit\n          </button>\n        </div>\n      </div>\n\n      {/* Profile Card - Overlapping Header */}\n      <div className=\"px-4 -mt-16\">\n        <div className=\"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 max-w-xl mx-auto\">\n          {/* Avatar & Name */}\n          <div className=\"flex flex-col items-center -mt-16 mb-6\">\n            {user.photo ? (\n              <img \n                src={user.photo} \n                alt=\"Profile\" \n                className=\"w-28 h-28 rounded-2xl object-cover border-4 border-white shadow-lg mb-4\" \n              />\n            ) : (\n              <div className=\"w-28 h-28 rounded-2xl bg-gradient-to-br from-teal-400 to-cyan-500 flex items-center justify-center border-4 border-white shadow-lg mb-4\">\n                <span className=\"text-4xl font-bold text-white\">\n                  {user.name?.charAt(0)?.toUpperCase() || 'U'}\n                </span>\n              </div>\n            )}\n            <h3 className=\"text-2xl font-bold text-gray-900\">{user.name}</h3>\n            <span className=\"inline-flex items-center mt-2 px-4 py-1.5 bg-gradient-to-r from-teal-50 to-cyan-50 text-teal-700 rounded-full text-sm font-semibold border border-teal-100\">\n              {user.type === 'landlord' ? (\n                <>\n                  <Home className=\"w-4 h-4 mr-1.5\" />\n                  Landlord\n                </>\n              ) : (\n                <>\n                  <User className=\"w-4 h-4 mr-1.5\" />\n                  Renter\n                </>\n              )}\n            </span>\n          </div>\n\n          {/* Contact Info Cards */}\n          <div className=\"space-y-3 mb-6\">\n            <div className=\"bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl p-4 border border-gray-100 hover:border-gray-200 transition-colors\">\n              <div className=\"flex items-center\">\n                <div className=\"w-11 h-11 bg-gradient-to-br from-teal-100 to-cyan-100 rounded-xl flex items-center justify-center mr-4 shadow-sm\">\n                  <Phone className=\"w-5 h-5 text-teal-600\" />\n                </div>\n                <div>\n                  <p className=\"text-xs font-medium text-gray-500 mb-0.5\">Phone Number</p>\n                  <p className=\"font-semibold text-gray-800\">{user.phone}</p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl p-4 border border-gray-100 hover:border-gray-200 transition-colors\">\n              <div className=\"flex items-center\">\n                <div className=\"w-11 h-11 bg-gradient-to-br from-cyan-100 to-blue-100 rounded-xl flex items-center justify-center mr-4 shadow-sm\">\n                  <Mail className=\"w-5 h-5 text-cyan-600\" />\n                </div>\n                <div>\n                  <p className=\"text-xs font-medium text-gray-500 mb-0.5\">Email Address</p>\n                  <p className=\"font-semibold text-gray-800\">{user.email}</p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl p-4 border border-gray-100 hover:border-gray-200 transition-colors\">\n              <div className=\"flex items-center\">\n                <div className=\"w-11 h-11 bg-gradient-to-br from-violet-100 to-purple-100 rounded-xl flex items-center justify-center mr-4 shadow-sm\">\n                  <Calendar className=\"w-5 h-5 text-violet-600\" />\n                </div>\n                <div>\n                  <p className=\"text-xs font-medium text-gray-500 mb-0.5\">Member Since</p>\n                  <p className=\"font-semibold text-gray-800\">\n                    {new Date(user.createdAt).toLocaleDateString('en-ZA', { \n                      year: 'numeric', \n                      month: 'long', \n                      day: 'numeric' \n                    })}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Notification Preferences */}\n          <div className=\"bg-gradient-to-br from-teal-50 via-cyan-50 to-sky-50 rounded-xl p-5 border border-teal-100\">\n            <div className=\"flex items-center gap-3 mb-4\">\n              <div className=\"w-10 h-10 bg-gradient-to-br from-teal-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-sm\">\n                <Bell className=\"w-5 h-5 text-white\" />\n              </div>\n              <h4 className=\"font-bold text-gray-800\">Notification Preferences</h4>\n            </div>\n            <div className=\"space-y-3\">\n              <label className=\"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-100 cursor-pointer hover:border-teal-200 transition-colors\">\n                <input\n                  type=\"checkbox\"\n                  checked={localPrefs.updates}\n                  onChange={() => togglePref('updates')}\n                  className=\"w-5 h-5 rounded border-gray-300 text-teal-600 focus:ring-teal-500\"\n                />\n                <div>\n                  <p className=\"text-sm font-medium text-gray-800\">Room Alerts</p>\n                  <p className=\"text-xs text-gray-500\">Get notified about new rooms in your saved areas</p>\n                </div>\n              </label>\n              <label className=\"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-100 cursor-pointer hover:border-teal-200 transition-colors\">\n                <input\n                  type=\"checkbox\"\n                  checked={localPrefs.marketing}\n                  onChange={() => togglePref('marketing')}\n                  className=\"w-5 h-5 rounded border-gray-300 text-teal-600 focus:ring-teal-500\"\n                />\n                <div>\n                  <p className=\"text-sm font-medium text-gray-800\">Tips & Updates</p>\n                  <p className=\"text-xs text-gray-500\">Occasional features and helpful content</p>\n                </div>\n              </label>\n            </div>\n            <p className=\"text-[11px] text-gray-500 mt-3 text-center\">Changes save automatically  You can opt out anytime</p>\n          </div>\n\n          {/* Account Linking Section */}\n          <div className=\"bg-gradient-to-br from-blue-50 via-indigo-50 to-violet-50 rounded-xl p-5 border border-blue-100 mt-4\">\n            <div className=\"flex items-center gap-3 mb-4\">\n              <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center shadow-sm\">\n                <Link2 className=\"w-5 h-5 text-white\" />\n              </div>\n              <div>\n                <h4 className=\"font-bold text-gray-800\">Linked Accounts</h4>\n                <p className=\"text-xs text-gray-500\">Connect multiple sign-in methods</p>\n              </div>\n            </div>\n\n            {/* Success/Error Messages */}\n            {linkSuccess && (\n              <div className=\"mb-3 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm flex items-center gap-2\">\n                <CheckCircle className=\"w-4 h-4\" />\n                {linkSuccess}\n              </div>\n            )}\n            {linkError && (\n              <div className=\"mb-3 p-3 bg-rose-50 border border-rose-200 rounded-lg text-rose-700 text-sm flex items-center gap-2\">\n                <AlertTriangle className=\"w-4 h-4\" />\n                {linkError}\n              </div>\n            )}\n\n            <div className=\"space-y-2\">\n              {/* Google */}\n              <div className={`flex items-center justify-between p-3 bg-white rounded-lg border ${hasGoogle ? 'border-green-200' : 'border-gray-100'}`}>\n                <div className=\"flex items-center gap-3\">\n                  <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n                    <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n                    <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n                    <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n                    <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n                  </svg>\n                  <span className=\"font-medium text-gray-700\">Google</span>\n                </div>\n                {hasGoogle ? (\n                  <span className=\"text-xs font-medium text-green-600 flex items-center gap-1\">\n                    <CheckCircle className=\"w-4 h-4\" /> Linked\n                  </span>\n                ) : (\n                  <button\n                    onClick={handleLinkGoogle}\n                    disabled={linkingInProgress === 'google'}\n                    className=\"text-xs font-medium text-blue-600 hover:text-blue-700 px-3 py-1.5 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors disabled:opacity-50\"\n                  >\n                    {linkingInProgress === 'google' ? 'Linking...' : 'Link'}\n                  </button>\n                )}\n              </div>\n\n              {/* Phone */}\n              <div className={`flex items-center justify-between p-3 bg-white rounded-lg border ${hasPhone ? 'border-green-200' : 'border-gray-100'}`}>\n                <div className=\"flex items-center gap-3\">\n                  <Phone className=\"w-5 h-5 text-green-600\" />\n                  <span className=\"font-medium text-gray-700\">Phone</span>\n                </div>\n                {hasPhone ? (\n                  <span className=\"text-xs font-medium text-green-600 flex items-center gap-1\">\n                    <CheckCircle className=\"w-4 h-4\" /> Linked\n                  </span>\n                ) : (\n                  <button\n                    onClick={handleLinkPhone}\n                    className=\"text-xs font-medium text-blue-600 hover:text-blue-700 px-3 py-1.5 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors\"\n                  >\n                    Link\n                  </button>\n                )}\n              </div>\n\n              {/* Email/Password */}\n              <div className={`flex items-center justify-between p-3 bg-white rounded-lg border ${hasPassword ? 'border-green-200' : 'border-gray-100'}`}>\n                <div className=\"flex items-center gap-3\">\n                  <Mail className=\"w-5 h-5 text-blue-600\" />\n                  <span className=\"font-medium text-gray-700\">Email & Password</span>\n                </div>\n                {hasPassword ? (\n                  <span className=\"text-xs font-medium text-green-600 flex items-center gap-1\">\n                    <CheckCircle className=\"w-4 h-4\" /> Linked\n                  </span>\n                ) : (\n                  <span className=\"text-xs text-gray-400\">Coming soon</span>\n                )}\n              </div>\n            </div>\n\n            <p className=\"text-[11px] text-gray-500 mt-3 text-center\">Link accounts to sign in with any method</p>\n          </div>\n\n          {/* Sign Out Button */}\n          {onSignOut && (\n            <button\n              onClick={onSignOut}\n              className=\"w-full mt-4 flex items-center justify-center gap-2 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-xl transition-colors\"\n            >\n              <LogOut className=\"w-5 h-5\" />\n              Sign Out\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction LandlordOnboardingView({ onComplete, onCancel, currentUser }) {\n  const [form, setForm] = useState({ businessName: currentUser?.name || '', bankDetails: '', idNumber: '', agree: false });\n\n  const handleSubmit = () => {\n    if (!form.businessName || !form.agree) {\n      alert('Please provide a display name and agree to the terms.');\n      return;\n    }\n    onComplete(form);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-slate-50 to-gray-100 pb-24\">\n      {/* Header Banner */}\n      <div className=\"bg-gradient-to-br from-teal-600 via-teal-500 to-cyan-500 pt-8 pb-16 px-4\">\n        <div className=\"max-w-2xl mx-auto text-center\">\n          <div className=\"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mx-auto mb-4 border border-white/30\">\n            <span className=\"text-4xl font-bold text-white\">\n              {currentUser?.name?.charAt(0)?.toUpperCase() || 'L'}\n            </span>\n          </div>\n          <h2 className=\"text-2xl font-bold text-white mb-2\">Welcome, {currentUser?.name || 'Landlord'}!</h2>\n          <p className=\"text-teal-100\">Complete your profile to start listing properties</p>\n        </div>\n      </div>\n\n      {/* Form Card */}\n      <div className=\"px-4 -mt-8\">\n        <div className=\"max-w-2xl mx-auto\">\n          <div className=\"bg-white rounded-2xl shadow-xl border border-gray-100 p-8\">\n            {/* Progress Steps */}\n            <div className=\"flex items-center justify-center gap-2 mb-8\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-8 h-8 bg-teal-600 text-white rounded-full flex items-center justify-center text-sm font-bold\">1</div>\n                <span className=\"text-sm font-medium text-gray-700\">Profile Details</span>\n              </div>\n              <div className=\"w-8 h-0.5 bg-gray-200\"></div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-8 h-8 bg-gray-200 text-gray-500 rounded-full flex items-center justify-center text-sm font-bold\">2</div>\n                <span className=\"text-sm text-gray-400\">Start Listing</span>\n              </div>\n            </div>\n\n            <div className=\"space-y-5\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Display Name *</label>\n                <input \n                  value={form.businessName} \n                  onChange={(e) => setForm({ ...form, businessName: e.target.value })} \n                  className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all\" \n                  placeholder=\"Your name or business name\"\n                />\n                <p className=\"text-xs text-gray-500 mt-1.5\">This name is shown to renters on your listings and messages.</p>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Payment Details (Optional)</label>\n                <input \n                  value={form.bankDetails} \n                  onChange={(e) => setForm({ ...form, bankDetails: e.target.value })} \n                  placeholder=\"Bank account or preferred payment method\" \n                  className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all\" \n                />\n                <p className=\"text-xs text-gray-500 mt-1.5\">Private - only shown to confirmed renters.</p>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">ID Number (Optional)</label>\n                <input \n                  value={form.idNumber} \n                  onChange={(e) => setForm({ ...form, idNumber: e.target.value })} \n                  className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all\" \n                  placeholder=\"For verification purposes\"\n                />\n                <p className=\"text-xs text-gray-500 mt-1.5\">Verified landlords get a trust badge on their listings.</p>\n              </div>\n\n              <div className=\"bg-gradient-to-r from-teal-50 to-cyan-50 rounded-xl p-4 border border-teal-100\">\n                <label className=\"flex items-start gap-3 cursor-pointer\">\n                  <input \n                    type=\"checkbox\" \n                    checked={form.agree} \n                    onChange={(e) => setForm({ ...form, agree: e.target.checked })} \n                    className=\"mt-1 w-5 h-5 rounded border-gray-300 text-teal-600 focus:ring-teal-500\"\n                  />\n                  <span className=\"text-sm text-gray-700\">\n                    I confirm I am authorised to list these properties and agree to the{' '}\n                    <button type=\"button\" onClick={(e) => e.preventDefault()} className=\"text-teal-600 hover:text-teal-700 font-medium underline\">\n                      terms of service\n                    </button>.\n                  </span>\n                </label>\n              </div>\n\n              <div className=\"flex gap-3 pt-4\">\n                <button \n                  onClick={onCancel} \n                  className=\"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-3.5 rounded-xl transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button \n                  onClick={handleSubmit} \n                  className=\"flex-1 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-semibold py-3.5 rounded-xl transition-all shadow-md hover:shadow-lg\"\n                >\n                  Complete & Start Listing\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction EditProfileView({ user, onSubmit, onCancel }) {\n  const [formData, setFormData] = useState({\n    name: user.name || '',\n    phone: user.phone || '',\n    email: user.email || '',\n    whatsapp: user.whatsapp || '',\n    photo: user.photo || ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n\n  const validateField = (name, value, extras = {}) => {\n    const newErrors = { ...errors };\n    switch (name) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'phone':\n        if (!value || !/^[+]?[-0-9()\\s]{7,}$/.test(value.trim())) {\n          newErrors.phone = 'Enter a valid phone number';\n        } else {\n          delete newErrors.phone;\n        }\n        break;\n      case 'email':\n        if (!value || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value.trim())) {\n          newErrors.email = 'Enter a valid email';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n\n  const handlePhotoUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({ ...formData, photo: reader.result });\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleSubmit = () => {\n    setTouched({ name: true, phone: true, email: true });\n    validateField('name', formData.name);\n    validateField('phone', formData.phone);\n    validateField('email', formData.email);\n    if (Object.keys(errors).length === 0 && formData.name && formData.phone && formData.email) {\n      onSubmit(formData);\n    }\n  };\n\n  return (\n    <div className=\"p-4 min-h-screen bg-gradient-to-b from-slate-50 to-gray-100 pb-24\">\n      <div className=\"max-w-2xl mx-auto mt-8\">\n        <div className=\"bg-white rounded-2xl shadow-lg border border-gray-100 p-8\">\n          <div className=\"flex items-center justify-between mb-8\">\n            <h2 className=\"text-3xl font-extrabold text-gray-900\">Edit Profile</h2>\n            <button onClick={onCancel} className=\"text-gray-400 hover:text-gray-600 transition\">\n              <X className=\"w-6 h-6\" />\n            </button>\n          </div>\n\n          <div className=\"space-y-6\">\n            {/* Photo Upload */}\n            <div className=\"flex justify-center mb-8\">\n              <div className=\"relative\">\n                {formData.photo ? (\n                  <img src={formData.photo} alt=\"Profile\" className=\"w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-lg\" />\n                ) : (\n                  <div className=\"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-blue-200 shadow-lg\">\n                    <User className=\"w-16 h-16 text-blue-600\" />\n                  </div>\n                )}\n                <label className=\"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition\" aria-label=\"Upload new profile photo\">\n                  <Edit className=\"w-5 h-5\" />\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handlePhotoUpload}\n                    className=\"hidden\"\n                  />\n                </label>\n              </div>\n            </div>\n\n            {/* Form Fields */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Full Name</label>\n              <input\n                type=\"text\"\n                required\n                value={formData.name}\n                onChange={(e) => { setFormData({ ...formData, name: e.target.value }); if (touched.name) validateField('name', e.target.value); }}\n                onBlur={(e) => { setTouched({ ...touched, name: true }); validateField('name', e.target.value); }}\n                aria-invalid={errors.name ? 'true' : 'false'}\n                aria-describedby={errors.name ? 'edit-name-error' : undefined}\n                className={`w-full px-4 py-3 border-2 ${errors.name ? 'border-red-400' : 'border-gray-200'} bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.name && touched.name && <p id=\"edit-name-error\" className=\"mt-1 text-xs text-red-600\">{errors.name}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Phone Number</label>\n              <div className=\"relative\">\n                <Phone className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"tel\"\n                  required\n                  value={formData.phone}\n                  onChange={(e) => { setFormData({ ...formData, phone: e.target.value }); if (touched.phone) validateField('phone', e.target.value); }}\n                  onBlur={(e) => { setTouched({ ...touched, phone: true }); validateField('phone', e.target.value); }}\n                  aria-invalid={errors.phone ? 'true' : 'false'}\n                  aria-describedby={errors.phone ? 'edit-phone-error' : undefined}\n                  className={`w-full pl-11 pr-4 py-3 border-2 ${errors.phone ? 'border-red-400' : 'border-gray-200'} bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition placeholder-gray-400`}\n                />\n              </div>\n              {errors.phone && touched.phone && <p id=\"edit-phone-error\" className=\"mt-1 text-xs text-red-600\">{errors.phone}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Email Address</label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"email\"\n                  required\n                  value={formData.email}\n                  onChange={(e) => { setFormData({ ...formData, email: e.target.value }); if (touched.email) validateField('email', e.target.value); }}\n                  onBlur={(e) => { setTouched({ ...touched, email: true }); validateField('email', e.target.value); }}\n                  aria-invalid={errors.email ? 'true' : 'false'}\n                  aria-describedby={errors.email ? 'edit-email-error' : undefined}\n                  className={`w-full pl-11 pr-4 py-3 border-2 ${errors.email ? 'border-red-400' : 'border-gray-200'} bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition placeholder-gray-400`}\n                />\n              </div>\n              {errors.email && touched.email && <p id=\"edit-email-error\" className=\"mt-1 text-xs text-red-600\">{errors.email}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">WhatsApp (optional)</label>\n              <div className=\"relative\">\n                <Phone className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"tel\"\n                  value={formData.whatsapp}\n                  onChange={(e) => setFormData({ ...formData, whatsapp: e.target.value })}\n                  placeholder=\"e.g., +27 71 234 5678\"\n                  className=\"w-full pl-11 pr-4 py-3 border-2 border-gray-200 bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition placeholder-gray-400\"\n                />\n              </div>\n              <p className=\"text-xs text-gray-500 mt-1\">Used to create a WhatsApp chat link on your listings.</p>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex gap-3 pt-6 border-t border-gray-200\">\n              <button\n                onClick={onCancel}\n                className=\"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 rounded-xl transition\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleSubmit}\n                className=\"flex-1 bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-semibold py-3 rounded-xl transition shadow-lg\"\n              >\n                Save Changes\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* BrowseView extracted to components/BrowseView.jsx */\n\nfunction FavoritesView({ listings, onSelectListing }) {\n  const [favorites, setFavorites] = useState([]);\n\n  useEffect(() => {\n    try {\n      const rawFavorites = localStorage.getItem('favorites');\n      if (rawFavorites) {\n        const arr = JSON.parse(rawFavorites);\n        if (Array.isArray(arr)) setFavorites(arr);\n      }\n    } catch {}\n  }, []);\n\n  const toggleFavorite = (listingId) => {\n    setFavorites(prev => {\n      const updated = prev.filter(id => id !== listingId);\n      try {\n        localStorage.setItem('favorites', JSON.stringify(updated));\n      } catch {}\n      return updated;\n    });\n  };\n\n  const favoriteListings = listings.filter(l => favorites.includes(l.id));\n\n  return (\n    <div className=\"p-4 min-h-screen bg-gradient-to-b from-slate-50 to-gray-100 pb-24\">\n      <div className=\"max-w-7xl mx-auto mt-8\">\n        <div className=\"mb-8\">\n          <div className=\"flex items-center gap-4 mb-3\">\n            <div className=\"w-14 h-14 bg-gradient-to-br from-rose-100 to-pink-100 rounded-2xl flex items-center justify-center shadow-sm\">\n              <Heart className=\"w-7 h-7 text-rose-500 fill-rose-500\" />\n            </div>\n            <div>\n              <h2 className=\"text-3xl font-extrabold text-gray-900\">Saved Listings</h2>\n              <p className=\"text-gray-600\">\n                {favoriteListings.length === 0\n                  ? 'Your favorites will appear here'\n                  : `${favoriteListings.length} saved ${favoriteListings.length === 1 ? 'listing' : 'listings'}`}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {favoriteListings.length === 0 ? (\n          <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center\">\n            <div className=\"w-24 h-24 bg-gradient-to-br from-rose-50 to-pink-50 rounded-full flex items-center justify-center mx-auto mb-6\">\n              <Heart className=\"w-12 h-12 text-rose-300\" />\n            </div>\n            <h3 className=\"text-xl font-bold text-gray-800 mb-2\">No saved listings yet</h3>\n            <p className=\"text-gray-500 text-sm mb-6 max-w-md mx-auto\">\n              Browse rooms and tap the heart icon to save your favorites. They'll appear here for easy access.\n            </p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            {favoriteListings.map(listing => {\n              const ListingCard = require('./components/ListingCard').default;\n              return (\n                <ListingCard\n                  key={listing.id}\n                  listing={listing}\n                  onClick={() => onSelectListing(listing)}\n                  isFavorite={true}\n                  onToggleFavorite={toggleFavorite}\n                />\n              );\n            })}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nconst createDefaultListingForm = () => ({\n  title: '',\n  price: '',\n  location: '',\n  streetAddress: '',\n  description: '',\n  photos: [],\n  status: 'available',\n  availableDate: new Date().toISOString().split('T')[0],\n  amenities: [],\n  latitude: null,\n  longitude: null,\n  paymentMethod: 'Bank and Cash',\n  roomType: 'private',\n  leaseDuration: '7-12',\n  petFriendly: false,\n  genderPreference: 'any',\n  premium: false\n});\n\nfunction AddListingView({ onSubmit, onCancel, currentUser, userType, onRequireAuth, onRequireOnboarding }) {\n  const GEOCODER_KEY = process.env.REACT_APP_GEOCODER_API_KEY;\n  const GEOCODER_PROVIDER = (process.env.REACT_APP_GEOCODER_PROVIDER || '').toLowerCase();\n\n  const landlordId = currentUser?.id;\n  const [formData, setFormData] = useState(() => {\n    const base = createDefaultListingForm();\n    if (landlordId) {\n      const saved = loadListingTemplate(landlordId);\n      if (saved) {\n        return {\n          ...base,\n          ...saved,\n          amenities: Array.isArray(saved.amenities) ? saved.amenities : base.amenities,\n          petFriendly: saved.petFriendly ?? base.petFriendly,\n          premium: saved.premium ?? base.premium,\n          photos: []\n        };\n      }\n    }\n    return base;\n  });\n  const [geocodingStatus, setGecodingStatus] = useState('');\n  const [errors, setErrors] = useState({});\n  const [showPhotoEditor, setShowPhotoEditor] = useState(false);\n  const reverseGeocodeCacheRef = React.useRef({});\n  const [lastGeocodeSource, setLastGeocodeSource] = useState(null); // 'cached' | 'mapbox' | 'proxy' | 'direct' | 'coords-only' | 'manual-geocode'\n  const [fullAddressInput, setFullAddressInput] = useState('');\n  const [isFullAddressEditing, setIsFullAddressEditing] = useState(false);\n\n  useEffect(() => {\n    if (!landlordId) return;\n    const saved = loadListingTemplate(landlordId);\n    if (saved) {\n      setFormData(prev => ({\n        ...prev,\n        ...saved,\n        amenities: Array.isArray(saved.amenities) ? saved.amenities : [],\n        petFriendly: saved.petFriendly ?? false,\n        premium: saved.premium ?? false,\n        photos: []\n      }));\n    } else {\n      setFormData(createDefaultListingForm());\n    }\n  }, [landlordId]);\n\n  useEffect(() => {\n    if (!landlordId || userType !== 'landlord') return;\n    saveListingTemplate(landlordId, formData);\n  }, [formData, landlordId, userType]);\n\n  // Warn user before leaving if form has unsaved data\n  useEffect(() => {\n    const hasFormData = formData.title || formData.description || formData.photos?.length > 0;\n    \n    const handleBeforeUnload = (e) => {\n      if (hasFormData) {\n        e.preventDefault();\n        e.returnValue = '';\n        return '';\n      }\n    };\n    \n    if (hasFormData) {\n      window.addEventListener('beforeunload', handleBeforeUnload);\n    }\n    \n    return () => {\n      window.removeEventListener('beforeunload', handleBeforeUnload);\n    };\n  }, [formData.title, formData.description, formData.photos]);\n\n  // Helper: fetch with graceful fallbacks when third-party APIs lack CORS headers\n  const corsFallbackTransforms = useMemo(() => [\n    (url) => url.startsWith('https://cors.isomorphic-git.org/') ? url : `https://cors.isomorphic-git.org/${url}`,\n    (url) => url.startsWith('https://corsproxy.io/?') ? url : `https://corsproxy.io/?${encodeURIComponent(url)}`\n  ], []);\n\n  const fetchWithCorsFallback = useCallback(async (url, options = {}) => {\n    const cloneOptions = () => {\n      const base = { ...options };\n      if (options.headers) base.headers = { ...options.headers };\n      return base;\n    };\n\n    const attempt = async (targetUrl) => {\n      const resp = await fetch(targetUrl, cloneOptions());\n      if (!resp.ok) throw new Error(`Request failed with status ${resp.status}`);\n      return resp;\n    };\n\n    try {\n      return await attempt(url);\n    } catch (err) {\n      if (options.signal?.aborted) throw err;\n      let lastError = err;\n      for (const transform of corsFallbackTransforms) {\n        try {\n          const proxiedUrl = transform(url);\n          return await attempt(proxiedUrl);\n        } catch (proxyErr) {\n          lastError = proxyErr;\n          if (options.signal?.aborted) break;\n        }\n      }\n      throw lastError;\n    }\n  }, [corsFallbackTransforms]);\n\n  // Forward geocode helper for manual address lookups\n  const forwardGeocodeAddress = async (query) => {\n    if (!query || query.trim().length < 3) return [];\n\n    // 1. Mapbox (if configured)\n    if (GEOCODER_PROVIDER === 'mapbox' && GEOCODER_KEY) {\n      try {\n        const resp = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(query)}.json?access_token=${GEOCODER_KEY}&limit=3&country=za&types=address,place,locality`);\n        const data = await resp.json();\n        if (data?.features?.length) {\n          return data.features.map(f => ({\n            lat: f.center ? f.center[1] : f.geometry?.coordinates?.[1],\n            lon: f.center ? f.center[0] : f.geometry?.coordinates?.[0],\n            label: f.place_name || f.text,\n            source: 'mapbox'\n          })).filter(entry => typeof entry.lat === 'number' && typeof entry.lon === 'number');\n        }\n      } catch (err) {\n        console.warn('Mapbox forward geocode failed', err);\n      }\n    }\n\n    // 2. maps.co (CORS-friendly)\n    try {\n      const mapsResp = await fetch(`https://geocode.maps.co/search?q=${encodeURIComponent(query)}&limit=3`);\n      if (mapsResp.ok) {\n        const mapsData = await mapsResp.json();\n        if (Array.isArray(mapsData) && mapsData.length) {\n          return mapsData.slice(0, 3).map(entry => ({\n            lat: parseFloat(entry.lat),\n            lon: parseFloat(entry.lon),\n            label: entry.display_name || entry.name,\n            source: 'maps.co'\n          }));\n        }\n      }\n    } catch (mapsErr) {\n      console.warn('maps.co forward geocode failed', mapsErr);\n    }\n\n    // 3. Local proxy (if running)\n    const API_BASE = (process.env.REACT_APP_PROXY_BASE || (window.location && window.location.port === '8443' ? 'https://localhost:4443' : ''));\n    if (API_BASE) {\n      try {\n        const proxyResp = await fetch(`${API_BASE}/api/search?q=${encodeURIComponent(query)}`);\n        if (proxyResp.ok) {\n          const proxyData = await proxyResp.json();\n          if (Array.isArray(proxyData) && proxyData.length) {\n            return proxyData.slice(0, 3).map(entry => ({\n              lat: parseFloat(entry.lat),\n              lon: parseFloat(entry.lon),\n              label: entry.display_name,\n              source: API_BASE.includes('localhost') ? 'local-proxy' : 'proxy'\n            }));\n          }\n        }\n      } catch (proxyErr) {\n        console.warn('Local proxy forward geocode failed', proxyErr);\n      }\n    }\n\n    // 4. Direct Nominatim fallback (may still be blocked, but last resort)\n    try {\n      const directResp = await fetchWithCorsFallback(`https://nominatim.openstreetmap.org/search?format=json&addressdetails=1&q=${encodeURIComponent(query)}`, {\n        headers: {\n          'User-Agent': 'room-rental-platform/1.0 (direct fallback)',\n          'Accept': 'application/json'\n        }\n      });\n      if (directResp.ok) {\n        const directData = await directResp.json();\n        if (Array.isArray(directData) && directData.length) {\n          return directData.slice(0, 3).map(entry => ({\n            lat: parseFloat(entry.lat),\n            lon: parseFloat(entry.lon),\n            label: entry.display_name,\n            source: 'direct'\n          }));\n        }\n      }\n    } catch (directErr) {\n      console.warn('Direct nominatim forward geocode failed', directErr);\n    }\n\n    return [];\n  };\n\n  const availableAmenities = [\n    'WiFi', 'Parking', 'Kitchen', 'Laundry', 'Air Conditioning', \n    'Heating', 'TV', 'Furnished', 'Pet Friendly', 'Garden'\n  ];\n\n  const validateField = (name, value, extras = {}) => {\n    const newErrors = { ...errors };\n    \n    switch (name) {\n      case 'title':\n        if (!value || value.trim().length < 5) {\n          newErrors.title = 'Title must be at least 5 characters';\n        } else {\n          delete newErrors.title;\n        }\n        break;\n      case 'price':\n        if (!value || parseFloat(value) <= 0) {\n          newErrors.price = 'Price must be greater than 0';\n        } else if (parseFloat(value) < 500) {\n          newErrors.price = 'Price seems too low (minimum R500)';\n        } else if (parseFloat(value) > 50000) {\n          newErrors.price = 'Price seems too high (maximum R50,000)';\n        } else {\n          delete newErrors.price;\n        }\n        break;\n      case 'location': {\n        const streetText = (extras.streetAddress ?? formData.streetAddress ?? '').trim();\n        const areaText = (extras.location ?? value ?? '').trim();\n        if (!streetText || streetText.length < 3) {\n          newErrors.location = 'Add the street or stand number (e.g., 5170 Molefe St)';\n        } else if (!areaText || areaText.length < 3) {\n          newErrors.location = 'Add the suburb, city, and postal code (e.g., Ivory Park, Midrand, 1693)';\n        } else {\n          delete newErrors.location;\n        }\n        break;\n      }\n      case 'description':\n        if (value && value.length > 500) {\n          newErrors.description = 'Description is too long (max 500 characters)';\n        } else {\n          delete newErrors.description;\n        }\n        break;\n      default:\n        break;\n    }\n    \n    setErrors(newErrors);\n  };\n\n  \n\n  // Load persisted reverse geocode cache\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem('reverse-geocode-cache');\n      if (raw) {\n        const parsed = JSON.parse(raw);\n        if (parsed && typeof parsed === 'object') {\n          reverseGeocodeCacheRef.current = parsed;\n        }\n      }\n    } catch (e) { /* ignore */ }\n  }, []);\n\n  // Geocode address using Nominatim (OpenStreetMap)\n  const geocodeAddress = async () => {\n    if (!formData.streetAddress) {\n      setGecodingStatus('Please enter a street address');\n      return;\n    }\n    \n    setGecodingStatus('Finding coordinates...');\n    try {\n      const fullAddress = `${formData.streetAddress}, ${formData.location}, South Africa`;\n      const results = await forwardGeocodeAddress(fullAddress);\n\n      if (results.length > 0) {\n        const best = results[0];\n        setFormData({ \n          ...formData, \n          latitude: parseFloat(best.lat), \n          longitude: parseFloat(best.lon) \n        });\n        setGecodingStatus(` Address found!`);\n        setTimeout(() => setGecodingStatus(''), 2000);\n        setLastGeocodeSource(best.source || 'manual-geocode');\n        return;\n      }\n\n      setGecodingStatus('Address not found. Trying with area only...');\n      const areaResults = await forwardGeocodeAddress(`${formData.location}, South Africa`);\n      if (areaResults.length > 0) {\n        const bestArea = areaResults[0];\n        setFormData({ \n          ...formData, \n          latitude: parseFloat(bestArea.lat), \n          longitude: parseFloat(bestArea.lon) \n        });\n        setGecodingStatus(' Area found!');\n        setTimeout(() => setGecodingStatus(''), 2000);\n        setLastGeocodeSource(bestArea.source || 'manual-geocode');\n      } else {\n        setGecodingStatus('Could not find location');\n      }\n    } catch (error) {\n      console.error('Geocoding error:', error);\n      setGecodingStatus('Error finding address. Check your connection.');\n      setLastGeocodeSource(null);\n    }\n  };\n\n  const toggleAmenity = (amenity) => {\n    if (formData.amenities.includes(amenity)) {\n      setFormData({ ...formData, amenities: formData.amenities.filter(a => a !== amenity) });\n    } else {\n      setFormData({ ...formData, amenities: [...formData.amenities, amenity] });\n    }\n  };\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleSubmit = async () => {\n    // Enforce auth and onboarding checks before allowing submission\n    if (!currentUser) {\n      onRequireAuth && onRequireAuth('landlord');\n      return;\n    }\n    if (userType !== 'landlord') {\n      // prompt to become landlord\n      onRequireAuth && onRequireAuth('landlord');\n      return;\n    }\n    if (!currentUser.landlordComplete) {\n      // send to onboarding\n      onRequireOnboarding && onRequireOnboarding();\n      return;\n    }\n\n    // Validate all fields\n    validateField('title', formData.title);\n    validateField('price', formData.price);\n    validateField('location', formData.location, {\n      location: formData.location,\n      streetAddress: formData.streetAddress\n    });\n    validateField('description', formData.description);\n\n    if (!formData.title || formData.title.trim().length < 5) {\n      setErrors(prev => ({ ...prev, title: 'Title must be at least 5 characters' }));\n      return;\n    }\n    if (!formData.price || parseFloat(formData.price) <= 0) {\n      setErrors(prev => ({ ...prev, price: 'Price must be greater than 0' }));\n      return;\n    }\n    if (!formData.location || formData.location.trim().length < 3) {\n      setErrors(prev => ({ ...prev, location: 'Location is required' }));\n      return;\n    }\n    if (Object.keys(errors).length > 0) {\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      await onSubmit(formData);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const googleMapsQuery = [formData.streetAddress, formData.location, 'South Africa']\n    .filter(Boolean)\n    .join(', ');\n  const googleMapsUrl = googleMapsQuery\n    ? `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(googleMapsQuery)}`\n    : '';\n  const combinedFormAddress = [formData.streetAddress, formData.location]\n    .map(part => (part || '').trim())\n    .filter(Boolean)\n    .join(', ');\n\n  useEffect(() => {\n    if (isFullAddressEditing) return;\n    setFullAddressInput(prev => (prev === combinedFormAddress ? prev : combinedFormAddress));\n  }, [combinedFormAddress, isFullAddressEditing]);\n\n  const handleFullAddressChange = (value) => {\n    setFullAddressInput(value);\n    if (!value || value.length < 3) {\n      setFormData(prev => ({ ...prev, streetAddress: '', location: '' }));\n      validateField('location', '');\n      return;\n    }\n\n    const parts = value\n      .split(',')\n      .map(part => part.trim())\n      .filter(Boolean);\n\n    if (parts.length === 0) {\n      setFormData(prev => ({ ...prev, streetAddress: '', location: '' }));\n      validateField('location', '');\n      return;\n    }\n\n    let street = parts[0] || '';\n    let derivedLocation = parts.slice(1).join(', ');\n\n    if (!derivedLocation) {\n      const words = street.split(/\\s+/).filter(Boolean);\n      if (words.length >= 4) {\n        // Guess that the last few tokens describe the suburb/city/postal portion.\n        const locationWordCount = Math.min(4, Math.ceil(words.length / 2));\n        derivedLocation = words.slice(-locationWordCount).join(' ');\n        street = words.slice(0, words.length - locationWordCount).join(' ');\n      } else {\n        derivedLocation = street;\n      }\n    }\n\n    setFormData(prev => ({\n      ...prev,\n      streetAddress: street,\n      location: derivedLocation\n    }));\n    validateField('location', derivedLocation || street, {\n      location: derivedLocation,\n      streetAddress: street\n    });\n  };\n\n  const handleResetSavedTemplate = () => {\n    if (!landlordId) return;\n    clearListingTemplate(landlordId);\n    const blank = createDefaultListingForm();\n    setFormData(blank);\n    setFullAddressInput('');\n  };\n\n  return (\n    <div className=\"p-4 bg-gradient-to-b from-slate-50 to-gray-100 min-h-screen pb-24\">\n      <div className=\"max-w-3xl mx-auto mt-8\">\n        <div className=\"bg-white rounded-2xl shadow-lg border border-gray-100 p-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-3xl font-extrabold text-gray-900\">Post a Room</h2>\n            <button onClick={onCancel} className=\"text-gray-400 hover:text-gray-600 transition-colors p-2 rounded-full hover:bg-gray-100\">\n              <X className=\"w-6 h-6\" />\n            </button>\n          </div>\n\n          {/* Progress Indicator */}\n          <div className=\"mb-8\">\n            <div className=\"flex justify-between items-center mb-2\">\n              <span className=\"text-sm font-medium text-gray-600\">Form Progress</span>\n              <span className=\"text-sm font-semibold text-teal-600\">\n                {(() => {\n                  let completed = 0;\n                  const total = 5;\n                  if (formData.title && formData.title.trim().length >= 5) completed++;\n                  if (formData.price && parseFloat(formData.price) >= 500) completed++;\n                  if (formData.streetAddress && formData.location) completed++;\n                  if (formData.description && formData.description.length >= 10) completed++;\n                  if (formData.photos && formData.photos.length > 0) completed++;\n                  return `${completed}/${total} completed`;\n                })()}\n              </span>\n            </div>\n            <div className=\"h-2 bg-gray-100 rounded-full overflow-hidden\">\n              <div \n                className=\"h-full bg-gradient-to-r from-teal-500 to-cyan-500 rounded-full transition-all duration-500\"\n                style={{\n                  width: `${(() => {\n                    let completed = 0;\n                    if (formData.title && formData.title.trim().length >= 5) completed++;\n                    if (formData.price && parseFloat(formData.price) >= 500) completed++;\n                    if (formData.streetAddress && formData.location) completed++;\n                    if (formData.description && formData.description.length >= 10) completed++;\n                    if (formData.photos && formData.photos.length > 0) completed++;\n                    return (completed / 5) * 100;\n                  })()}%`\n                }}\n              />\n            </div>\n          </div>\n\n          <div className=\"space-y-6\">\n            {currentUser?.type === 'landlord' && (\n              <div className=\"bg-gradient-to-r from-teal-50 to-cyan-50 border border-teal-200 text-teal-800 text-sm rounded-xl p-4 flex items-start gap-3\">\n                <CheckCircle className=\"w-5 h-5 text-teal-600 mt-0.5\" />\n                <div className=\"space-y-2\">\n                  <p>\n                    We remember your latest listing details (address, price, and more) so you only need to upload fresh photos next time.\n                    Update any field below and we'll save it automatically.\n                  </p>\n                  <button\n                    type=\"button\"\n                    onClick={handleResetSavedTemplate}\n                    className=\"text-xs font-semibold text-teal-700 underline hover:text-teal-900 transition-colors\"\n                  >\n                    Reset saved info\n                  </button>\n                </div>\n              </div>\n            )}\n            {/* Title */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">\n                Room Title *\n                {formData.title && formData.title.trim().length >= 5 && !errors.title && (\n                  <span className=\"ml-2 text-green-600 text-xs\"> Looks good</span>\n                )}\n              </label>\n              <div className=\"relative\">\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.title}\n                  onChange={(e) => {\n                    setFormData({ ...formData, title: e.target.value });\n                    validateField('title', e.target.value);\n                  }}\n                  onBlur={(e) => validateField('title', e.target.value)}\n                  placeholder=\"e.g., Cozy backroom with private bathroom\"\n                  className={`w-full px-4 py-3 pr-10 border-2 ${\n                    errors.title ? 'border-red-400 bg-red-50' : \n                    formData.title && formData.title.trim().length >= 5 ? 'border-teal-400 bg-teal-50/30' : \n                    'border-gray-200'\n                  } text-gray-800 rounded-xl focus:ring-2 ${\n                    errors.title ? 'focus:ring-red-400' : 'focus:ring-teal-400'\n                  } focus:border-transparent transition-all placeholder-gray-400`}\n                />\n                {formData.title && formData.title.trim().length >= 5 && !errors.title && (\n                  <CheckCircle className=\"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-teal-600\" />\n                )}\n              </div>\n              {errors.title && <p className=\"text-red-500 text-xs mt-1 flex items-center gap-1\"><span></span> {errors.title}</p>}\n            </div>\n\n            {/* Price */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">\n                Monthly Price (R) *\n                {formData.price && parseFloat(formData.price) >= 500 && parseFloat(formData.price) <= 50000 && !errors.price && (\n                  <span className=\"ml-2 text-green-600 text-xs\"> Valid price</span>\n                )}\n              </label>\n              <div className=\"relative\">\n                <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium\">R</span>\n                <input\n                  type=\"number\"\n                  required\n                  value={formData.price}\n                  onChange={(e) => {\n                    setFormData({ ...formData, price: e.target.value });\n                    validateField('price', e.target.value);\n                  }}\n                  onBlur={(e) => validateField('price', e.target.value)}\n                  placeholder=\"2500\"\n                  min=\"500\"\n                  max=\"50000\"\n                  className={`w-full pl-10 pr-4 py-3 border-2 ${\n                    errors.price ? 'border-red-400 bg-red-50' : \n                    formData.price && parseFloat(formData.price) >= 500 && parseFloat(formData.price) <= 50000 ? 'border-teal-400 bg-teal-50/30' : \n                    'border-gray-200'\n                  } text-gray-800 rounded-xl focus:ring-2 ${\n                    errors.price ? 'focus:ring-red-400' : 'focus:ring-teal-400'\n                  } focus:border-transparent transition-all placeholder-gray-400`}\n                />\n                {formData.price && parseFloat(formData.price) >= 500 && parseFloat(formData.price) <= 50000 && !errors.price && (\n                  <CheckCircle className=\"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-teal-600\" />\n                )}\n              </div>\n              {errors.price && <p className=\"text-red-500 text-xs mt-1 flex items-center gap-1\"><span></span> {errors.price}</p>}\n              {!errors.price && formData.price && (\n                <p className=\"text-gray-500 text-xs mt-1\">Suggested range: R500 - R50,000 per month</p>\n              )}\n            </div>\n\n            {/* Full Address */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-1\">Full South African Address *</label>\n              <p className=\"text-xs text-gray-500 mb-2\">Example: 5170 Molefe St, Ivory Park, Midrand, 1693</p>\n              <textarea\n                required\n                rows=\"2\"\n                value={fullAddressInput}\n                onChange={(e) => handleFullAddressChange(e.target.value)}\n                onFocus={() => setIsFullAddressEditing(true)}\n                onBlur={(e) => { setIsFullAddressEditing(false); handleFullAddressChange(e.target.value); }}\n                placeholder=\"Type the full street + suburb + city + postal code\"\n                className={`w-full px-4 py-3 border-2 ${errors.location ? 'border-red-400' : 'border-gray-200'} bg-white text-gray-800 rounded-xl focus:ring-2 ${errors.location ? 'focus:ring-red-400' : 'focus:ring-teal-400'} focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.location && <p className=\"text-red-500 text-xs mt-1\" aria-live=\"assertive\">{errors.location}</p>}\n              {!errors.location && (\n                <p className=\"text-gray-500 text-xs mt-1\">\n                  Include the street/stand number plus suburb, city, and postal code. Commas are optional; we will split it for you.\n                </p>\n              )}\n            </div>\n\n            {/* Geocode Section - Manual confirmation only */}\n            <div className=\"bg-gradient-to-br from-teal-50 to-cyan-50 border-2 border-teal-200 rounded-xl p-6\">\n              <div className=\"flex items-start gap-3 mb-4\">\n                <MapPin className=\"w-6 h-6 text-teal-600 flex-shrink-0 mt-1\" />\n                <div className=\"flex-1\">\n                  <h3 className=\"text-lg font-semibold text-gray-800 mb-1\">Confirm Your Address</h3>\n                  <p className=\"text-sm text-gray-600\">\n                    Type the exact street + suburb above, then tap <strong>Look Up Address</strong> if you\u00110d like us to fetch coordinates for your Google Maps preview.\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex flex-wrap gap-3 items-start\">\n                <button\n                  type=\"button\"\n                  onClick={geocodeAddress}\n                  className=\"w-full md:w-auto bg-white hover:bg-gray-50 text-gray-700 border-2 border-gray-300 px-6 py-3 rounded-lg text-sm font-semibold transition flex items-center justify-center gap-2\"\n                >\n                  <MapPin className=\"w-4 h-4\" />\n                  Look Up Address\n                </button>\n\n                <div className=\"text-sm flex-1 min-w-[220px]\">\n                  {geocodingStatus && (\n                    <span className={`${geocodingStatus.startsWith('') ? 'text-green-600 font-semibold' : geocodingStatus.startsWith('') ? 'text-amber-600' : 'text-gray-700'} flex items-center gap-1`}>\n                      {geocodingStatus.startsWith('') && <CheckCircle className=\"w-4 h-4\" />}\n                      {geocodingStatus}\n                      {lastGeocodeSource === 'cached' && (\n                        <span className=\"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-purple-100 text-purple-600 font-semibold\">CACHED</span>\n                      )}\n                      {lastGeocodeSource === 'mapbox' && (\n                        <span className=\"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-blue-100 text-blue-600 font-semibold\">MAPBOX</span>\n                      )}\n                      {lastGeocodeSource === 'maps.co' && (\n                        <span className=\"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-indigo-100 text-indigo-600 font-semibold\">MAPS.CO</span>\n                      )}\n                      {lastGeocodeSource === 'proxy' && (\n                        <span className=\"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-green-100 text-green-600 font-semibold\">PROXY</span>\n                      )}\n                      {lastGeocodeSource === 'direct' && (\n                        <span className=\"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-yellow-100 text-yellow-700 font-semibold\">FALLBACK</span>\n                      )}\n                    </span>\n                  )}\n                  {formData.latitude && formData.longitude && !geocodingStatus && (\n                    <span className=\"text-green-600 font-semibold flex items-center gap-1\">\n                      <CheckCircle className=\"w-4 h-4\" />\n                      Coordinates saved: {formData.latitude.toFixed(4)}, {formData.longitude.toFixed(4)}\n                      {lastGeocodeSource === 'cached' && (\n                        <span className=\"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-purple-100 text-purple-600 font-semibold\">CACHED</span>\n                      )}\n                      {lastGeocodeSource === 'maps.co' && (\n                        <span className=\"ml-2 inline-block px-2 py-1 text-[10px] rounded bg-indigo-100 text-indigo-600 font-semibold\">MAPS.CO</span>\n                      )}\n                    </span>\n                  )}\n                  {googleMapsUrl && (\n                    <div className=\"mt-3 bg-white border border-gray-200 rounded-lg p-3 text-xs text-gray-600\">\n                      <span className=\"block text-gray-800 font-semibold mb-1\">Preview this address</span>\n                      <a\n                        href={googleMapsUrl}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"inline-flex items-center gap-2 text-teal-700 font-semibold hover:text-teal-900 underline\"\n                      >\n                        <MapPin className=\"w-3 h-3\" /> Open in Google Maps\n                      </a>\n                      <span className=\"block mt-2 text-[11px] text-gray-500\">Renters will see the same button under your listing.</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n              <div className=\"mt-4 text-sm text-gray-600 bg-white border border-dashed border-gray-300 rounded-lg p-4\">\n                <p className=\"font-semibold text-gray-800 mb-1\">Manual address confirmed</p>\n                <p>We now rely on the address you type here. Use Google Maps above if you want to double-check directions.</p>\n              </div>\n            </div>\n\n            {/* Status and Available Date - Two columns */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Status</label>\n                <select\n                  value={formData.status}\n                  onChange={(e) => setFormData({ ...formData, status: e.target.value })}\n                  className=\"w-full px-4 py-3 border-2 border-gray-200 bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition\"\n                >\n                  <option value=\"available\">Available</option>\n                  <option value=\"rented\">Rented</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Available Date</label>\n                <input\n                  type=\"date\"\n                  value={formData.availableDate}\n                  onChange={(e) => setFormData({ ...formData, availableDate: e.target.value })}\n                  className=\"w-full px-4 py-3 border-2 border-gray-200 bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition\"\n                />\n              </div>\n            </div>\n\n            {/* Payment Method */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Payment Method</label>\n              <select\n                value={formData.paymentMethod}\n                onChange={(e) => setFormData({ ...formData, paymentMethod: e.target.value })}\n                className=\"w-full px-4 py-3 border-2 border-gray-200 bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition\"\n              >\n                <option value=\"Bank and Cash\">Bank and Cash</option>\n                <option value=\"Cash Only\">Cash Only</option>\n                <option value=\"Bank Only\">Bank Only</option>\n              </select>\n            </div>\n\n            {/* Room Type and Lease Duration - Two columns */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Room Type</label>\n                <select\n                  value={formData.roomType}\n                  onChange={(e) => setFormData({ ...formData, roomType: e.target.value })}\n                  className=\"w-full px-4 py-3 border-2 border-gray-200 bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition\"\n                >\n                  <option value=\"private\">Private Room</option>\n                  <option value=\"shared\">Shared Room</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Lease Duration (months)</label>\n                <select\n                  value={formData.leaseDuration}\n                  onChange={(e) => setFormData({ ...formData, leaseDuration: e.target.value })}\n                  className=\"w-full px-4 py-3 border-2 border-gray-200 bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition\"\n                >\n                  <option value=\"1-3\">1-3 months</option>\n                  <option value=\"4-6\">4-6 months</option>\n                  <option value=\"7-12\">7-12 months</option>\n                  <option value=\"12+\">12+ months</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Pet Friendly and Gender Preference */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"flex items-center gap-3\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.petFriendly}\n                  onChange={(e) => setFormData({ ...formData, petFriendly: e.target.checked })}\n                  id=\"petFriendly\"\n                  className=\"w-5 h-5 text-teal-600 border-gray-300 rounded focus:ring-teal-500\"\n                />\n                <label htmlFor=\"petFriendly\" className=\"text-sm font-medium text-gray-700\">\n                   Pet Friendly\n                </label>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Gender Preference</label>\n                <select\n                  value={formData.genderPreference}\n                  onChange={(e) => setFormData({ ...formData, genderPreference: e.target.value })}\n                  className=\"w-full px-4 py-3 border-2 border-gray-200 bg-white text-gray-800 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent transition\"\n                >\n                  <option value=\"any\">Any</option>\n                  <option value=\"male\">Male Only</option>\n                  <option value=\"female\">Female Only</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Premium Flag */}\n            <div className=\"flex items-center gap-3\">\n              <input\n                type=\"checkbox\"\n                checked={!!formData.premium}\n                onChange={(e) => setFormData({ ...formData, premium: e.target.checked })}\n                id=\"premiumFlag\"\n              />\n              <label htmlFor=\"premiumFlag\" className=\"text-sm font-medium text-gray-700\">\n                Premium listing (highlight & priority sorting)\n              </label>\n            </div>\n\n            {/* Description */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">\n                Description \n                {formData.description && (\n                  <span className={`ml-2 text-xs ${formData.description.length > 500 ? 'text-red-500' : 'text-gray-500'}`}>\n                    ({formData.description.length}/500 characters)\n                  </span>\n                )}\n              </label>\n              <textarea\n                value={formData.description}\n                onChange={(e) => {\n                  setFormData({ ...formData, description: e.target.value });\n                  validateField('description', e.target.value);\n                }}\n                onBlur={(e) => validateField('description', e.target.value)}\n                placeholder=\"Describe the room, amenities, rules, and any other details...\"\n                rows=\"4\"\n                className={`w-full px-4 py-3 border-2 ${errors.description ? 'border-red-400' : 'border-gray-200'} bg-white text-gray-800 rounded-xl focus:ring-2 ${errors.description ? 'focus:ring-red-400' : 'focus:ring-teal-400'} focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.description && <p className=\"text-red-500 text-xs mt-1\">{errors.description}</p>}\n            </div>\n\n            {/* Amenities */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-3\">Amenities</label>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n                {availableAmenities.map(amenity => (\n                  <button\n                    key={amenity}\n                    type=\"button\"\n                    onClick={() => toggleAmenity(amenity)}\n                    className={`px-4 py-2.5 rounded-xl text-sm font-medium transition-all ${\n                      formData.amenities.includes(amenity)\n                        ? 'bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-md'\n                        : 'bg-gray-100 text-gray-700 border-2 border-gray-200 hover:border-teal-300 hover:bg-teal-50'\n                    }`}\n                  >\n                    {amenity}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Photos */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Photos (Max 5)</label>\n              <div \n                className=\"relative border-2 border-dashed border-gray-300 bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl p-6 hover:border-teal-400 hover:bg-teal-50/30 transition-all duration-300 cursor-pointer group\"\n                onClick={() => setShowPhotoEditor(true)}\n              >\n                <div className=\"text-center\">\n                  <div className=\"w-16 h-16 bg-gradient-to-br from-teal-100 to-cyan-100 rounded-2xl flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform duration-300\">\n                    <span className=\"text-3xl\"></span>\n                  </div>\n                  <p className=\"text-gray-700 font-semibold mb-1\">\n                    {formData.photos.length === 0 ? 'Add Photos' : `${formData.photos.length}/5 Photos Added`}\n                  </p>\n                  <p className=\"text-xs text-gray-500\">\n                    Click to upload  JPG, PNG up to 5MB each\n                  </p>\n                  {formData.photos.length === 0 && (\n                    <p className=\"text-xs text-teal-600 mt-2 font-medium\">\n                      Tip: Listings with photos get 3x more views!\n                    </p>\n                  )}\n                </div>\n              </div>\n              {formData.photos.length > 0 && (\n                <div className=\"mt-4 grid grid-cols-2 md:grid-cols-3 gap-3\">\n                  {formData.photos.map((photo, index) => (\n                    <div key={index} className=\"relative group\">\n                      {index === 0 && (\n                        <div className=\"absolute top-2 left-2 bg-gradient-to-r from-teal-500 to-cyan-500 text-white text-xs px-2 py-1 rounded-full font-semibold z-10\">\n                          Cover\n                        </div>\n                      )}\n                      <img \n                        src={photo} \n                        alt={`Preview ${index + 1}`} \n                        className=\"w-full h-32 object-cover rounded-xl border-2 border-gray-200 shadow-sm\" \n                      />\n                    </div>\n                  ))}\n                </div>\n              )}\n              <button\n                type=\"button\"\n                onClick={() => setShowPhotoEditor(true)}\n                className=\"mt-3 text-sm text-teal-600 hover:text-teal-700 font-medium\"\n              >\n                {formData.photos.length > 0 ? ' Edit Photos' : ''}\n              </button>\n            </div>\n\n            {showPhotoEditor && (\n              <PhotoEditor\n                photos={formData.photos}\n                onPhotosChange={(newPhotos) => setFormData({ ...formData, photos: newPhotos })}\n                onClose={() => setShowPhotoEditor(false)}\n                maxPhotos={5}\n              />\n            )}\n\n            {/* Submit Button */}\n            <div className=\"border-t border-gray-200 pt-6\">\n              <button\n                onClick={handleSubmit}\n                disabled={isSubmitting || Object.keys(errors).length > 0}\n                className={`w-full font-semibold py-3.5 rounded-xl transition-all shadow-lg relative ${\n                  isSubmitting || Object.keys(errors).length > 0\n                    ? 'bg-gray-400 cursor-not-allowed'\n                    : 'bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white hover:shadow-xl hover:shadow-teal-500/25'\n                }`}\n              >\n                {isSubmitting ? (\n                  <>\n                    <span className=\"opacity-0\">Post Room</span>\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\n                      <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                    </div>\n                  </>\n                ) : (\n                  'Post Room'\n                )}\n              </button>\n              {Object.keys(errors).length > 0 && (\n                <p className=\"text-red-500 text-xs mt-2 text-center\">Please fix the errors above before submitting</p>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// MessagesView removed - using direct contact instead\n\nfunction MyListingsView({ listings, onDelete }) {\n  return (\n    <div className=\"p-4 min-h-screen bg-gradient-to-b from-slate-50 to-gray-100 pb-24\">\n      <div className=\"max-w-7xl mx-auto mt-8\">\n        {/* Landlord reminder banner */}\n        {listings.length > 0 && (\n          <div className=\"mb-6 bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-2xl p-4 shadow-sm\">\n            <div className=\"flex items-start gap-3\">\n              <div className=\"w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center flex-shrink-0\">\n                <AlertTriangle className=\"w-5 h-5 text-amber-600\" />\n              </div>\n              <div>\n                <h3 className=\"font-semibold text-amber-800 mb-1\">Found a tenant?</h3>\n                <p className=\"text-amber-700 text-sm leading-relaxed\">\n                  Remember to <span className=\"font-medium\">delete your listing</span> once you've found a tenant. \n                  This will stop new calls and messages from other renters looking at your ad.\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div className=\"mb-8\">\n          <div className=\"flex items-center gap-4 mb-3\">\n            <div className=\"w-14 h-14 bg-gradient-to-br from-teal-100 to-cyan-100 rounded-2xl flex items-center justify-center shadow-sm\">\n              <Home className=\"w-7 h-7 text-teal-600\" />\n            </div>\n            <div>\n              <h2 className=\"text-3xl font-extrabold text-gray-900\">My Listings</h2>\n              <p className=\"text-gray-600\">\n                {listings.length === 0\n                  ? 'Your properties will appear here'\n                  : `${listings.length} active ${listings.length === 1 ? 'listing' : 'listings'}`}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {listings.length === 0 ? (\n          <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center\">\n            <div className=\"w-24 h-24 bg-gradient-to-br from-teal-50 to-cyan-50 rounded-full flex items-center justify-center mx-auto mb-6\">\n              <Home className=\"w-12 h-12 text-teal-400\" />\n            </div>\n            <h3 className=\"text-xl font-bold text-gray-800 mb-2\">No Listings Yet</h3>\n            <p className=\"text-gray-500 text-sm mb-6 max-w-md mx-auto\">\n              Start earning by posting your first room. It only takes a few minutes!\n            </p>\n            <button\n              onClick={() => window.location.hash = '#add'}\n              className=\"inline-flex items-center gap-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-semibold px-6 py-3 rounded-xl transition-all shadow-md hover:shadow-lg\"\n            >\n              <PlusCircle className=\"w-5 h-5\" />\n              Post Your First Room\n            </button>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {listings.map(listing => (\n              <div key={listing.id} className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow\">\n                {listing.photos && listing.photos.length > 0 && (\n                  <div className=\"relative\">\n                    <img src={listing.photos[0]} alt=\"Room\" className=\"w-full h-48 object-cover\" />\n                    {listing.photos.length > 1 && (\n                      <div className=\"absolute top-3 right-3 bg-black/60 backdrop-blur-sm text-white px-2.5 py-1 rounded-full text-xs font-medium\">\n                        {listing.photos.length} photos\n                      </div>\n                    )}\n                    <div className={`absolute top-3 left-3 px-2.5 py-1 rounded-full text-xs font-semibold ${\n                      listing.status === 'available' \n                        ? 'bg-emerald-500 text-white' \n                        : 'bg-gray-500 text-white'\n                    }`}>\n                      {listing.status === 'available' ? 'Active' : 'Rented'}\n                    </div>\n                  </div>\n                )}\n                <div className=\"p-5\">\n                  <h3 className=\"font-bold text-lg text-gray-900 mb-1 line-clamp-1\">{listing.title}</h3>\n                  <div className=\"text-teal-600 font-bold text-xl mb-2\">R{listing.price?.toLocaleString()}/month</div>\n                  <div className=\"flex items-center text-gray-500 text-sm mb-4\">\n                    <MapPin className=\"w-4 h-4 mr-1.5 text-gray-400\" />\n                    <span className=\"line-clamp-1\">{listing.location}</span>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <button\n                      onClick={() => onDelete(listing.id)}\n                      className=\"flex-1 bg-red-50 hover:bg-red-100 text-red-600 font-medium py-2.5 rounded-xl transition-colors text-sm\"\n                    >\n                      Delete\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n\n// Inline message box component with validation for listing detail view\n// ListingInlineMessageBox removed\n\n// ConversationModal removed\n\nfunction AuthModal({ defaultType = 'renter', onClose, onSuccess, authFunctions }) {\n  const [mode, setMode] = useState('signin'); // 'signin', 'signup', 'reset', 'phone', 'phone-verify'\n  const [form, setForm] = useState({ \n    name: '', \n    phone: '', \n    email: '', \n    password: '',\n    confirmPassword: '',\n    otp: '',\n    type: defaultType \n  });\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [authError, setAuthError] = useState('');\n  const [resetSent, setResetSent] = useState(false);\n  const [otpSent, setOtpSent] = useState(false);\n  const [phoneFormatted, setPhoneFormatted] = useState('');\n\n  const validateForm = () => {\n    const newErrors = {};\n    \n    if (mode === 'phone') {\n      if (!form.phone || form.phone.trim().length < 9) {\n        newErrors.phone = 'Please enter a valid phone number';\n      }\n    } else if (mode === 'phone-verify') {\n      if (!form.otp || form.otp.length !== 6) {\n        newErrors.otp = 'Please enter the 6-digit code';\n      }\n    } else {\n      if (mode === 'signup') {\n        if (!form.name || form.name.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        }\n      }\n      \n      if (!form.email || !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.email)) {\n        newErrors.email = 'Please enter a valid email address';\n      }\n      \n      if (mode !== 'reset') {\n        if (!form.password || form.password.length < 6) {\n          newErrors.password = 'Password must be at least 6 characters';\n        }\n      }\n      \n      if (mode === 'signup' && form.password !== form.confirmPassword) {\n        newErrors.confirmPassword = 'Passwords do not match';\n      }\n    }\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async () => {\n    if (!validateForm()) return;\n    setIsSubmitting(true);\n    setAuthError('');\n    \n    try {\n      if (mode === 'signup') {\n        await authFunctions.signUp(form.email, form.password, form.name, form.type, form.phone);\n        onSuccess?.();\n        onClose();\n      } else if (mode === 'signin') {\n        await authFunctions.signIn(form.email, form.password);\n        onSuccess?.();\n        onClose();\n      } else if (mode === 'reset') {\n        await authFunctions.sendPasswordReset(form.email);\n        setResetSent(true);\n      } else if (mode === 'phone') {\n        // Send OTP\n        const result = await authFunctions.sendPhoneOTP(form.phone);\n        setPhoneFormatted(result.formattedNumber);\n        setOtpSent(true);\n        setMode('phone-verify');\n      } else if (mode === 'phone-verify') {\n        // Verify OTP\n        await authFunctions.verifyPhoneOTP(form.otp, form.type, form.name);\n        onSuccess?.();\n        onClose();\n      }\n    } catch (err) {\n      console.error('Auth error:', err);\n      let errorMessage = 'An error occurred. Please try again.';\n      if (err.code === 'auth/invalid-phone-number') {\n        errorMessage = 'Invalid phone number format. Please use format: 0XX XXX XXXX';\n      } else if (err.code === 'auth/too-many-requests') {\n        errorMessage = 'Too many attempts. Please try again later.';\n      } else if (err.code === 'auth/invalid-verification-code') {\n        errorMessage = 'Invalid code. Please check and try again.';\n      } else if (err.code === 'auth/code-expired') {\n        errorMessage = 'Code expired. Please request a new one.';\n      } else if (err.message) {\n        errorMessage = err.message;\n      }\n      setAuthError(errorMessage);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleGoogleSignIn = async () => {\n    setIsSubmitting(true);\n    setAuthError('');\n    \n    try {\n      await authFunctions.signInGoogle(form.type);\n      onSuccess?.();\n      onClose();\n    } catch (err) {\n      setAuthError(err.message || 'Google sign-in failed. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const startPhoneAuth = () => {\n    setMode('phone');\n    setAuthError('');\n    setOtpSent(false);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-900/60 backdrop-blur-sm flex items-start sm:items-center justify-center p-4 pt-16 sm:pt-4 z-50 overflow-y-auto\">\n      <div className=\"bg-white rounded-2xl w-full max-w-md p-8 my-auto shadow-2xl fade-in border border-gray-100\">\n        {/* Header */}\n        <div className=\"flex items-start justify-between mb-6\">\n          <div>\n            <div className=\"flex items-center gap-2 mb-2\">\n              <div className=\"w-10 h-10 bg-gradient-to-br from-teal-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg\">\n                <Home className=\"w-5 h-5 text-white\" />\n              </div>\n              <span className=\"text-xl font-extrabold\">\n                <span className=\"bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent\">Room</span>\n                <span className=\"text-rose-500\">24</span>\n              </span>\n            </div>\n            <h3 className=\"text-xl font-bold text-gray-900 mt-4\">\n              {mode === 'signin' && 'Welcome back!'}\n              {mode === 'signup' && 'Create your account'}\n              {mode === 'reset' && 'Reset password'}\n              {mode === 'phone' && 'Sign in with phone'}\n              {mode === 'phone-verify' && 'Enter verification code'}\n            </h3>\n            <p className=\"text-sm text-gray-500 mt-1\">\n              {mode === 'signin' && 'Sign in to continue'}\n              {mode === 'signup' && 'Join Room24 today'}\n              {mode === 'reset' && \"We'll send you a reset link\"}\n              {mode === 'phone' && \"We'll send you a verification code\"}\n              {mode === 'phone-verify' && `Code sent to ${phoneFormatted}`}\n            </p>\n          </div>\n          <button \n            onClick={onClose} \n            className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Auth Error */}\n        {authError && (\n          <div className=\"mb-4 p-3 bg-rose-50 border border-rose-200 rounded-xl text-rose-700 text-sm flex items-center gap-2\">\n            <AlertTriangle className=\"w-4 h-4 flex-shrink-0\" />\n            {authError}\n          </div>\n        )}\n\n        {/* Reset Success Message */}\n        {resetSent && (\n          <div className=\"mb-4 p-3 bg-green-50 border border-green-200 rounded-xl text-green-700 text-sm flex items-center gap-2\">\n            <CheckCircle className=\"w-4 h-4 flex-shrink-0\" />\n            Password reset email sent! Check your inbox.\n          </div>\n        )}\n\n        <div className=\"space-y-4\">\n          {/* Phone OTP Verification Mode */}\n          {mode === 'phone-verify' && (\n            <>\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Verification Code *</label>\n                <input \n                  type=\"text\" \n                  inputMode=\"numeric\"\n                  maxLength={6}\n                  value={form.otp} \n                  onChange={(e) => { \n                    const val = e.target.value.replace(/\\D/g, '').slice(0, 6);\n                    setForm({ ...form, otp: val }); \n                    setErrors({ ...errors, otp: '' }); \n                    setAuthError(''); \n                  }}\n                  className={`w-full px-4 py-4 border-2 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500 text-center text-2xl font-bold tracking-[0.5em] ${\n                    errors.otp ? 'border-rose-400 bg-rose-50' : 'border-gray-200 hover:border-gray-300'\n                  }`}\n                  placeholder=\"000000\"\n                  autoFocus\n                />\n                {errors.otp && <p className=\"text-rose-500 text-xs mt-1.5 flex items-center gap-1\"><span></span>{errors.otp}</p>}\n              </div>\n\n              {/* Name for new phone users */}\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Your Name *</label>\n                <input \n                  type=\"text\" \n                  value={form.name} \n                  onChange={(e) => { setForm({ ...form, name: e.target.value }); setErrors({ ...errors, name: '' }); }}\n                  className=\"w-full px-4 py-3 border-2 border-gray-200 hover:border-gray-300 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500\"\n                  placeholder=\"John Doe\"\n                />\n              </div>\n\n              {/* User Type for new phone users */}\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">I am a</label>\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setForm({ ...form, type: 'renter' })}\n                    className={`p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1 ${\n                      form.type === 'renter' \n                        ? 'border-teal-500 bg-gradient-to-br from-teal-50 to-cyan-50 text-teal-700 shadow-md' \n                        : 'border-gray-200 hover:border-gray-300 text-gray-600 hover:bg-gray-50'\n                    }`}\n                  >\n                    <Search className={`w-5 h-5 ${form.type === 'renter' ? 'text-teal-500' : ''}`} />\n                    <span className=\"text-xs font-semibold\">Looking for a room</span>\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => setForm({ ...form, type: 'landlord' })}\n                    className={`p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1 ${\n                      form.type === 'landlord' \n                        ? 'border-rose-500 bg-gradient-to-br from-rose-50 to-pink-50 text-rose-700 shadow-md' \n                        : 'border-gray-200 hover:border-gray-300 text-gray-600 hover:bg-gray-50'\n                    }`}\n                  >\n                    <Home className={`w-5 h-5 ${form.type === 'landlord' ? 'text-rose-500' : ''}`} />\n                    <span className=\"text-xs font-semibold\">Listing rooms</span>\n                  </button>\n                </div>\n              </div>\n\n              <button\n                type=\"button\"\n                onClick={() => { setMode('phone'); setOtpSent(false); setForm({ ...form, otp: '' }); }}\n                className=\"text-sm text-teal-600 hover:text-teal-700 font-medium\"\n              >\n                 Change phone number\n              </button>\n            </>\n          )}\n\n          {/* Phone Entry Mode */}\n          {mode === 'phone' && (\n            <>\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Phone Number *</label>\n                <div className=\"flex gap-2\">\n                  <div className=\"flex items-center px-3 bg-gray-100 border-2 border-gray-200 rounded-xl text-gray-600 font-medium\">\n                     +27\n                  </div>\n                  <input \n                    type=\"tel\" \n                    value={form.phone} \n                    onChange={(e) => { \n                      setForm({ ...form, phone: e.target.value }); \n                      setErrors({ ...errors, phone: '' }); \n                      setAuthError(''); \n                    }}\n                    className={`flex-1 px-4 py-3 border-2 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500 ${\n                      errors.phone ? 'border-rose-400 bg-rose-50' : 'border-gray-200 hover:border-gray-300'\n                    }`}\n                    placeholder=\"72 123 4567\"\n                    autoFocus\n                  />\n                </div>\n                {errors.phone && <p className=\"text-rose-500 text-xs mt-1.5 flex items-center gap-1\"><span></span>{errors.phone}</p>}\n                <p className=\"text-xs text-gray-500 mt-2\">We'll send you an SMS with a verification code</p>\n              </div>\n\n              <button\n                type=\"button\"\n                onClick={() => { setMode('signin'); setAuthError(''); }}\n                className=\"text-sm text-teal-600 hover:text-teal-700 font-medium\"\n              >\n                 Use email instead\n              </button>\n            </>\n          )}\n\n          {/* Google & Phone Sign In Buttons */}\n          {(mode === 'signin' || mode === 'signup') && (\n            <>\n              <div className=\"grid grid-cols-2 gap-3\">\n                <button\n                  type=\"button\"\n                  onClick={handleGoogleSignIn}\n                  disabled={isSubmitting}\n                  className=\"flex items-center justify-center gap-2 px-4 py-3 border-2 border-gray-200 hover:border-gray-300 rounded-xl transition-all hover:bg-gray-50 font-medium text-gray-700\"\n                >\n                  <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n                    <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n                    <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n                    <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n                    <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n                  </svg>\n                  Google\n                </button>\n\n                <button\n                  type=\"button\"\n                  onClick={startPhoneAuth}\n                  disabled={isSubmitting}\n                  className=\"flex items-center justify-center gap-2 px-4 py-3 border-2 border-gray-200 hover:border-gray-300 rounded-xl transition-all hover:bg-gray-50 font-medium text-gray-700\"\n                >\n                  <Phone className=\"w-5 h-5 text-green-600\" />\n                  Phone\n                </button>\n              </div>\n\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <div className=\"w-full border-t border-gray-200\"></div>\n                </div>\n                <div className=\"relative flex justify-center text-sm\">\n                  <span className=\"px-4 bg-white text-gray-500\">or use email</span>\n                </div>\n              </div>\n            </>\n          )}\n\n          {/* Reset Mode */}\n          {mode === 'reset' && (\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Email *</label>\n              <input \n                type=\"email\" \n                value={form.email} \n                onChange={(e) => { setForm({ ...form, email: e.target.value }); setErrors({ ...errors, email: '' }); setAuthError(''); }}\n                className={`w-full px-4 py-3 border-2 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500 ${\n                  errors.email ? 'border-rose-400 bg-rose-50' : 'border-gray-200 hover:border-gray-300'\n                }`}\n                placeholder=\"john@example.com\"\n              />\n              {errors.email && <p className=\"text-rose-500 text-xs mt-1.5 flex items-center gap-1\"><span></span>{errors.email}</p>}\n            </div>\n          )}\n\n          {/* Email/Password Form (signin/signup) */}\n          {(mode === 'signin' || mode === 'signup') && (\n            <>\n              {/* Name (signup only) */}\n              {mode === 'signup' && (\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Full name *</label>\n                  <input \n                    type=\"text\" \n                    value={form.name} \n                    onChange={(e) => { setForm({ ...form, name: e.target.value }); setErrors({ ...errors, name: '' }); }}\n                    className={`w-full px-4 py-3 border-2 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500 ${\n                      errors.name ? 'border-rose-400 bg-rose-50' : 'border-gray-200 hover:border-gray-300'\n                    }`}\n                    placeholder=\"John Doe\"\n                  />\n                  {errors.name && <p className=\"text-rose-500 text-xs mt-1.5 flex items-center gap-1\"><span></span>{errors.name}</p>}\n                </div>\n              )}\n\n              {/* Email */}\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Email *</label>\n                <input \n                  type=\"email\" \n                  value={form.email} \n                  onChange={(e) => { setForm({ ...form, email: e.target.value }); setErrors({ ...errors, email: '' }); setAuthError(''); }}\n                  className={`w-full px-4 py-3 border-2 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500 ${\n                    errors.email ? 'border-rose-400 bg-rose-50' : 'border-gray-200 hover:border-gray-300'\n                  }`}\n                  placeholder=\"john@example.com\"\n                />\n                {errors.email && <p className=\"text-rose-500 text-xs mt-1.5 flex items-center gap-1\"><span></span>{errors.email}</p>}\n              </div>\n\n              {/* Password */}\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Password *</label>\n                <input \n                  type=\"password\" \n                  value={form.password} \n                  onChange={(e) => { setForm({ ...form, password: e.target.value }); setErrors({ ...errors, password: '' }); setAuthError(''); }}\n                  className={`w-full px-4 py-3 border-2 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500 ${\n                    errors.password ? 'border-rose-400 bg-rose-50' : 'border-gray-200 hover:border-gray-300'\n                  }`}\n                  placeholder=\"\"\n                />\n                {errors.password && <p className=\"text-rose-500 text-xs mt-1.5 flex items-center gap-1\"><span></span>{errors.password}</p>}\n              </div>\n\n              {/* Confirm Password (signup only) */}\n              {mode === 'signup' && (\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Confirm Password *</label>\n                  <input \n                    type=\"password\" \n                    value={form.confirmPassword} \n                    onChange={(e) => { setForm({ ...form, confirmPassword: e.target.value }); setErrors({ ...errors, confirmPassword: '' }); }}\n                    className={`w-full px-4 py-3 border-2 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500 ${\n                      errors.confirmPassword ? 'border-rose-400 bg-rose-50' : 'border-gray-200 hover:border-gray-300'\n                    }`}\n                    placeholder=\"\"\n                  />\n                  {errors.confirmPassword && <p className=\"text-rose-500 text-xs mt-1.5 flex items-center gap-1\"><span></span>{errors.confirmPassword}</p>}\n                </div>\n              )}\n\n              {/* Phone (signup only) */}\n              {mode === 'signup' && (\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    Phone <span className=\"text-gray-400 font-normal\">(optional)</span>\n                  </label>\n                  <input \n                    type=\"tel\" \n                    value={form.phone} \n                    onChange={(e) => setForm({ ...form, phone: e.target.value })}\n                    className=\"w-full px-4 py-3 border-2 border-gray-200 hover:border-gray-300 rounded-xl transition-all focus:ring-2 focus:ring-teal-100 focus:border-teal-500\"\n                    placeholder=\"+27 12 345 6789\"\n                  />\n                </div>\n              )}\n\n              {/* User Type (signup only) */}\n              {mode === 'signup' && (\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">I am a</label>\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <button\n                      type=\"button\"\n                      onClick={() => setForm({ ...form, type: 'renter' })}\n                      className={`p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1 ${\n                        form.type === 'renter' \n                          ? 'border-teal-500 bg-gradient-to-br from-teal-50 to-cyan-50 text-teal-700 shadow-md' \n                          : 'border-gray-200 hover:border-gray-300 text-gray-600 hover:bg-gray-50'\n                      }`}\n                    >\n                      <Search className={`w-5 h-5 ${form.type === 'renter' ? 'text-teal-500' : ''}`} />\n                      <span className=\"text-xs font-semibold\">Looking for a room</span>\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={() => setForm({ ...form, type: 'landlord' })}\n                      className={`p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1 ${\n                        form.type === 'landlord' \n                          ? 'border-rose-500 bg-gradient-to-br from-rose-50 to-pink-50 text-rose-700 shadow-md' \n                          : 'border-gray-200 hover:border-gray-300 text-gray-600 hover:bg-gray-50'\n                      }`}\n                    >\n                      <Home className={`w-5 h-5 ${form.type === 'landlord' ? 'text-rose-500' : ''}`} />\n                      <span className=\"text-xs font-semibold\">Listing rooms</span>\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {/* Forgot Password Link (signin only) */}\n              {mode === 'signin' && (\n                <button\n                  type=\"button\"\n                  onClick={() => { setMode('reset'); setAuthError(''); setResetSent(false); }}\n                  className=\"text-sm text-teal-600 hover:text-teal-700 font-medium\"\n                >\n                  Forgot your password?\n                </button>\n              )}\n            </>\n          )}\n\n          {/* Submit Button */}\n          <button \n            id=\"phone-sign-in-button\"\n            onClick={handleSubmit}\n            disabled={isSubmitting}\n            className={`w-full font-bold py-3 rounded-xl transition-all relative ${\n              isSubmitting \n                ? 'bg-teal-400 cursor-not-allowed' \n                : 'bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white shadow-lg hover:shadow-xl hover:shadow-teal-500/25'\n            }`}\n          >\n            {isSubmitting ? (\n              <>\n                <span className=\"opacity-0\">Submit</span>\n                <div className=\"absolute inset-0 flex items-center justify-center\">\n                  <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                </div>\n              </>\n            ) : (\n              <>\n                {mode === 'signin' && 'Sign In'}\n                {mode === 'signup' && 'Create Account'}\n                {mode === 'reset' && 'Send Reset Link'}\n                {mode === 'phone' && 'Send Verification Code'}\n                {mode === 'phone-verify' && 'Verify & Sign In'}\n              </>\n            )}\n          </button>\n\n          {/* reCAPTCHA container for phone auth */}\n          <div id=\"recaptcha-container\" className=\"flex justify-center\"></div>\n\n          {/* Toggle Mode */}\n          <div className=\"text-center text-sm text-gray-600\">\n            {mode === 'signin' && (\n              <>\n                Don't have an account?{' '}\n                <button \n                  onClick={() => { setMode('signup'); setAuthError(''); }} \n                  className=\"text-teal-600 hover:text-teal-700 font-semibold\"\n                >\n                  Sign up\n                </button>\n              </>\n            )}\n            {mode === 'signup' && (\n              <>\n                Already have an account?{' '}\n                <button \n                  onClick={() => { setMode('signin'); setAuthError(''); }} \n                  className=\"text-teal-600 hover:text-teal-700 font-semibold\"\n                >\n                  Sign in\n                </button>\n              </>\n            )}\n            {mode === 'reset' && (\n              <button \n                onClick={() => { setMode('signin'); setAuthError(''); setResetSent(false); }} \n                className=\"text-teal-600 hover:text-teal-700 font-semibold\"\n              >\n                 Back to sign in\n              </button>\n            )}\n            {(mode === 'phone' || mode === 'phone-verify') && (\n              <button \n                onClick={() => { setMode('signin'); setAuthError(''); setOtpSent(false); }} \n                className=\"text-teal-600 hover:text-teal-700 font-semibold\"\n              >\n                 Back to sign in\n              </button>\n            )}\n          </div>\n        </div>\n\n        {/* Footer */}\n        <p className=\"text-xs text-gray-400 text-center mt-6\">\n          By continuing, you agree to our <button className=\"text-teal-600 hover:underline\">Terms of Service</button> and <button className=\"text-teal-600 hover:underline\">Privacy Policy</button>\n        </p>\n      </div>\n    </div>\n  );\n}\n\nfunction BottomNav({ currentView, setCurrentView, userType }) {\n  const navItems = [\n    { id: 'browse', label: 'Browse', icon: <Search className=\"w-5 h-5\" />, activeColor: 'teal' },\n    { id: 'add', label: 'List', icon: <PlusCircle className=\"w-5 h-5\" />, requiresLandlord: true, activeColor: 'rose' },\n    { id: 'favorites', label: 'Saved', icon: <Heart className=\"w-5 h-5\" />, activeColor: 'rose' },\n    { id: 'profile', label: 'Profile', icon: <User className=\"w-5 h-5\" />, activeColor: 'blue' }\n  ];\n\n  return (\n    <div className=\"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md border-t border-gray-100 px-4 py-2 z-20 md:hidden safe-area-bottom\">\n      <div className=\"grid grid-cols-4 gap-1 max-w-md mx-auto\">\n        {navItems.map(item => {\n          const disabled = item.requiresLandlord && userType !== 'landlord';\n          const isActive = currentView === item.id;\n          const colorClasses = {\n            teal: 'text-teal-600 bg-teal-50',\n            rose: 'text-rose-600 bg-rose-50',\n            blue: 'text-blue-600 bg-blue-50'\n          };\n          return (\n            <button\n              key={item.id}\n              type=\"button\"\n              disabled={disabled}\n              onClick={() => !disabled && setCurrentView(item.id)}\n              className={`flex flex-col items-center gap-0.5 py-2 px-1 rounded-xl transition-all duration-200 ${\n                disabled \n                  ? 'opacity-40 cursor-not-allowed' \n                  : 'active:scale-95'\n              } ${\n                isActive \n                  ? `${colorClasses[item.activeColor]} font-semibold` \n                  : 'text-gray-400 hover:text-gray-600 hover:bg-gray-50'\n              }`}\n            >\n              <span className={`transition-transform duration-200 ${isActive ? 'scale-110' : ''}`}>\n                {item.icon}\n              </span>\n              <span className=\"text-[10px] font-medium\">{item.label}</span>\n            </button>\n          );\n        })}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}