{"ast":null,"code":"import _objectSpread from\"C:/Users/kutum/Documents/room-rental-platform/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Firebase client initialization for Room24\n// Replace placeholder environment variables with real Firebase project config.\n// Ensure you have added a web app in Firebase console and enabled Cloud Messaging.\nimport{initializeApp}from'firebase/app';import{getMessaging,getToken,onMessage}from'firebase/messaging';import{getAnalytics,logEvent}from'firebase/analytics';import{getFirestore,collection,doc,getDocs,addDoc,updateDoc,deleteDoc,query,where,orderBy,onSnapshot,serverTimestamp}from'firebase/firestore';const firebaseConfig={apiKey:process.env.REACT_APP_FIREBASE_API_KEY,authDomain:process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:process.env.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.REACT_APP_FIREBASE_APP_ID,measurementId:process.env.REACT_APP_FIREBASE_MEASUREMENT_ID};let messagingInstance;let analyticsInstance;let firestoreInstance;let firebaseApp;export function initFirebase(){firebaseApp=initializeApp(firebaseConfig);try{messagingInstance=getMessaging(firebaseApp);}catch(e){console.warn('Messaging not available',e);}// Initialize Firestore\ntry{firestoreInstance=getFirestore(firebaseApp);console.log('Firestore initialized');}catch(e){console.warn('Firestore not available',e);}return firebaseApp;}// Get Firestore instance\nexport function getDb(){if(!firestoreInstance&&firebaseApp){firestoreInstance=getFirestore(firebaseApp);}return firestoreInstance;}// ===========================\n// LISTINGS FIRESTORE FUNCTIONS\n// ===========================\n// Fetch all listings from Firestore\nexport async function fetchListings(){const db=getDb();if(!db){console.warn('Firestore not initialized, using localStorage');return null;// Fall back to localStorage\n}try{const listingsRef=collection(db,'listings');const q=query(listingsRef,orderBy('createdAt','desc'));const snapshot=await getDocs(q);const listings=snapshot.docs.map(doc=>{var _doc$data$createdAt,_doc$data$createdAt$t,_doc$data$createdAt$t2,_doc$data$availableDa,_doc$data$availableDa2,_doc$data$availableDa3;return _objectSpread(_objectSpread({id:doc.id},doc.data()),{},{// Convert Firestore timestamps to ISO strings\ncreatedAt:((_doc$data$createdAt=doc.data().createdAt)===null||_doc$data$createdAt===void 0?void 0:(_doc$data$createdAt$t=_doc$data$createdAt.toDate)===null||_doc$data$createdAt$t===void 0?void 0:(_doc$data$createdAt$t2=_doc$data$createdAt$t.call(_doc$data$createdAt))===null||_doc$data$createdAt$t2===void 0?void 0:_doc$data$createdAt$t2.toISOString())||doc.data().createdAt,availableDate:((_doc$data$availableDa=doc.data().availableDate)===null||_doc$data$availableDa===void 0?void 0:(_doc$data$availableDa2=_doc$data$availableDa.toDate)===null||_doc$data$availableDa2===void 0?void 0:(_doc$data$availableDa3=_doc$data$availableDa2.call(_doc$data$availableDa))===null||_doc$data$availableDa3===void 0?void 0:_doc$data$availableDa3.toISOString())||doc.data().availableDate});});console.log(\"Fetched \".concat(listings.length,\" listings from Firestore\"));return listings;}catch(error){console.error('Error fetching listings from Firestore:',error);return null;// Fall back to localStorage\n}}// Add a new listing to Firestore\nexport async function addListing(listingData){const db=getDb();if(!db){console.warn('Firestore not initialized');return null;}try{const listingsRef=collection(db,'listings');const docRef=await addDoc(listingsRef,_objectSpread(_objectSpread({},listingData),{},{createdAt:serverTimestamp(),status:'available'}));console.log('Listing added with ID:',docRef.id);return docRef.id;}catch(error){console.error('Error adding listing to Firestore:',error);throw error;}}// Update an existing listing\nexport async function updateListing(listingId,updates){const db=getDb();if(!db){console.warn('Firestore not initialized');return false;}try{const listingRef=doc(db,'listings',listingId);await updateDoc(listingRef,_objectSpread(_objectSpread({},updates),{},{updatedAt:serverTimestamp()}));console.log('Listing updated:',listingId);return true;}catch(error){console.error('Error updating listing in Firestore:',error);throw error;}}// Delete a listing\nexport async function deleteListing(listingId){const db=getDb();if(!db){console.warn('Firestore not initialized');return false;}try{const listingRef=doc(db,'listings',listingId);await deleteDoc(listingRef);console.log('Listing deleted:',listingId);return true;}catch(error){console.error('Error deleting listing from Firestore:',error);throw error;}}// Get listings by landlord ID\nexport async function fetchListingsByLandlord(landlordId){const db=getDb();if(!db)return null;try{const listingsRef=collection(db,'listings');const q=query(listingsRef,where('landlordId','==',landlordId));const snapshot=await getDocs(q);return snapshot.docs.map(doc=>{var _doc$data$createdAt2,_doc$data$createdAt2$,_doc$data$createdAt2$2,_doc$data$availableDa4,_doc$data$availableDa5,_doc$data$availableDa6;return _objectSpread(_objectSpread({id:doc.id},doc.data()),{},{createdAt:((_doc$data$createdAt2=doc.data().createdAt)===null||_doc$data$createdAt2===void 0?void 0:(_doc$data$createdAt2$=_doc$data$createdAt2.toDate)===null||_doc$data$createdAt2$===void 0?void 0:(_doc$data$createdAt2$2=_doc$data$createdAt2$.call(_doc$data$createdAt2))===null||_doc$data$createdAt2$2===void 0?void 0:_doc$data$createdAt2$2.toISOString())||doc.data().createdAt,availableDate:((_doc$data$availableDa4=doc.data().availableDate)===null||_doc$data$availableDa4===void 0?void 0:(_doc$data$availableDa5=_doc$data$availableDa4.toDate)===null||_doc$data$availableDa5===void 0?void 0:(_doc$data$availableDa6=_doc$data$availableDa5.call(_doc$data$availableDa4))===null||_doc$data$availableDa6===void 0?void 0:_doc$data$availableDa6.toISOString())||doc.data().availableDate});});}catch(error){console.error('Error fetching landlord listings:',error);return null;}}// Subscribe to real-time listing updates\nexport function subscribeToListings(callback){const db=getDb();if(!db){console.warn('Firestore not initialized for real-time updates');return null;}try{const listingsRef=collection(db,'listings');const q=query(listingsRef,orderBy('createdAt','desc'));const unsubscribe=onSnapshot(q,snapshot=>{const listings=snapshot.docs.map(doc=>{var _doc$data$createdAt3,_doc$data$createdAt3$,_doc$data$createdAt3$2,_doc$data$availableDa7,_doc$data$availableDa8,_doc$data$availableDa9;return _objectSpread(_objectSpread({id:doc.id},doc.data()),{},{createdAt:((_doc$data$createdAt3=doc.data().createdAt)===null||_doc$data$createdAt3===void 0?void 0:(_doc$data$createdAt3$=_doc$data$createdAt3.toDate)===null||_doc$data$createdAt3$===void 0?void 0:(_doc$data$createdAt3$2=_doc$data$createdAt3$.call(_doc$data$createdAt3))===null||_doc$data$createdAt3$2===void 0?void 0:_doc$data$createdAt3$2.toISOString())||doc.data().createdAt,availableDate:((_doc$data$availableDa7=doc.data().availableDate)===null||_doc$data$availableDa7===void 0?void 0:(_doc$data$availableDa8=_doc$data$availableDa7.toDate)===null||_doc$data$availableDa8===void 0?void 0:(_doc$data$availableDa9=_doc$data$availableDa8.call(_doc$data$availableDa7))===null||_doc$data$availableDa9===void 0?void 0:_doc$data$availableDa9.toISOString())||doc.data().availableDate});});console.log(\"Real-time update: \".concat(listings.length,\" listings\"));callback(listings);},error=>{console.error('Real-time listener error:',error);});return unsubscribe;}catch(error){console.error('Error setting up real-time listener:',error);return null;}}// Check if Firestore is available and configured\nexport function isFirestoreEnabled(){return!!process.env.REACT_APP_FIREBASE_PROJECT_ID&&!!getDb();}export function initAnalytics(app){if(process.env.REACT_APP_ENABLE_ANALYTICS!=='true')return;const consent=localStorage.getItem('analytics-consent');if(consent!=='yes')return;try{analyticsInstance=getAnalytics(app);console.log('Analytics initialized');}catch(e){console.warn('Analytics not available',e);}}export function trackEvent(eventName){let params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!analyticsInstance)return;try{logEvent(analyticsInstance,eventName,params);}catch(e){console.warn('Event tracking failed',e);}}// Request notification permission and fetch token\nexport async function requestFcmToken(){if(!messagingInstance)return null;const permission=await Notification.requestPermission();if(permission!=='granted'){console.log('Notification permission denied');return null;}try{const vapidKey=process.env.REACT_APP_FIREBASE_VAPID_KEY;// Public VAPID key\nconst currentToken=await getToken(messagingInstance,{vapidKey});if(currentToken){console.log('FCM token:',currentToken);// Persist token to backend if configured\ntry{const backend=process.env.REACT_APP_BACKEND_URL;if(backend){await fetch(\"\".concat(backend.replace(/\\/$/,''),\"/api/push/register\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({token:currentToken})});}}catch(e){console.warn('Token persistence failed',e);}return currentToken;}else{console.log('No registration token available.');return null;}}catch(err){console.error('An error occurred while retrieving token.',err);return null;}}export function listenForegroundMessages(callback){if(!messagingInstance)return;onMessage(messagingInstance,payload=>{console.log('Foreground message received',payload);if(callback)callback(payload);});}","map":{"version":3,"names":["initializeApp","getMessaging","getToken","onMessage","getAnalytics","logEvent","getFirestore","collection","doc","getDocs","addDoc","updateDoc","deleteDoc","query","where","orderBy","onSnapshot","serverTimestamp","firebaseConfig","apiKey","process","env","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","measurementId","REACT_APP_FIREBASE_MEASUREMENT_ID","messagingInstance","analyticsInstance","firestoreInstance","firebaseApp","initFirebase","e","console","warn","log","getDb","fetchListings","db","listingsRef","q","snapshot","listings","docs","map","_doc$data$createdAt","_doc$data$createdAt$t","_doc$data$createdAt$t2","_doc$data$availableDa","_doc$data$availableDa2","_doc$data$availableDa3","_objectSpread","id","data","createdAt","toDate","call","toISOString","availableDate","concat","length","error","addListing","listingData","docRef","status","updateListing","listingId","updates","listingRef","updatedAt","deleteListing","fetchListingsByLandlord","landlordId","_doc$data$createdAt2","_doc$data$createdAt2$","_doc$data$createdAt2$2","_doc$data$availableDa4","_doc$data$availableDa5","_doc$data$availableDa6","subscribeToListings","callback","unsubscribe","_doc$data$createdAt3","_doc$data$createdAt3$","_doc$data$createdAt3$2","_doc$data$availableDa7","_doc$data$availableDa8","_doc$data$availableDa9","isFirestoreEnabled","initAnalytics","app","REACT_APP_ENABLE_ANALYTICS","consent","localStorage","getItem","trackEvent","eventName","params","arguments","undefined","requestFcmToken","permission","Notification","requestPermission","vapidKey","REACT_APP_FIREBASE_VAPID_KEY","currentToken","backend","REACT_APP_BACKEND_URL","fetch","replace","method","headers","body","JSON","stringify","token","err","listenForegroundMessages","payload"],"sources":["C:/Users/kutum/Documents/room-rental-platform/src/firebase.js"],"sourcesContent":["// Firebase client initialization for Room24\r\n// Replace placeholder environment variables with real Firebase project config.\r\n// Ensure you have added a web app in Firebase console and enabled Cloud Messaging.\r\n\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getMessaging, getToken, onMessage } from 'firebase/messaging';\r\nimport { getAnalytics, logEvent } from 'firebase/analytics';\r\nimport { \r\n  getFirestore, \r\n  collection, \r\n  doc, \r\n  getDocs, \r\n  addDoc, \r\n  updateDoc, \r\n  deleteDoc, \r\n  query, \r\n  where, \r\n  orderBy,\r\n  onSnapshot,\r\n  serverTimestamp \r\n} from 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\r\n};\r\n\r\nlet messagingInstance;\r\nlet analyticsInstance;\r\nlet firestoreInstance;\r\nlet firebaseApp;\r\n\r\nexport function initFirebase() {\r\n  firebaseApp = initializeApp(firebaseConfig);\r\n  try {\r\n    messagingInstance = getMessaging(firebaseApp);\r\n  } catch (e) {\r\n    console.warn('Messaging not available', e);\r\n  }\r\n  // Initialize Firestore\r\n  try {\r\n    firestoreInstance = getFirestore(firebaseApp);\r\n    console.log('Firestore initialized');\r\n  } catch (e) {\r\n    console.warn('Firestore not available', e);\r\n  }\r\n  return firebaseApp;\r\n}\r\n\r\n// Get Firestore instance\r\nexport function getDb() {\r\n  if (!firestoreInstance && firebaseApp) {\r\n    firestoreInstance = getFirestore(firebaseApp);\r\n  }\r\n  return firestoreInstance;\r\n}\r\n\r\n// ===========================\r\n// LISTINGS FIRESTORE FUNCTIONS\r\n// ===========================\r\n\r\n// Fetch all listings from Firestore\r\nexport async function fetchListings() {\r\n  const db = getDb();\r\n  if (!db) {\r\n    console.warn('Firestore not initialized, using localStorage');\r\n    return null; // Fall back to localStorage\r\n  }\r\n  try {\r\n    const listingsRef = collection(db, 'listings');\r\n    const q = query(listingsRef, orderBy('createdAt', 'desc'));\r\n    const snapshot = await getDocs(q);\r\n    const listings = snapshot.docs.map(doc => ({\r\n      id: doc.id,\r\n      ...doc.data(),\r\n      // Convert Firestore timestamps to ISO strings\r\n      createdAt: doc.data().createdAt?.toDate?.()?.toISOString() || doc.data().createdAt,\r\n      availableDate: doc.data().availableDate?.toDate?.()?.toISOString() || doc.data().availableDate,\r\n    }));\r\n    console.log(`Fetched ${listings.length} listings from Firestore`);\r\n    return listings;\r\n  } catch (error) {\r\n    console.error('Error fetching listings from Firestore:', error);\r\n    return null; // Fall back to localStorage\r\n  }\r\n}\r\n\r\n// Add a new listing to Firestore\r\nexport async function addListing(listingData) {\r\n  const db = getDb();\r\n  if (!db) {\r\n    console.warn('Firestore not initialized');\r\n    return null;\r\n  }\r\n  try {\r\n    const listingsRef = collection(db, 'listings');\r\n    const docRef = await addDoc(listingsRef, {\r\n      ...listingData,\r\n      createdAt: serverTimestamp(),\r\n      status: 'available',\r\n    });\r\n    console.log('Listing added with ID:', docRef.id);\r\n    return docRef.id;\r\n  } catch (error) {\r\n    console.error('Error adding listing to Firestore:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n// Update an existing listing\r\nexport async function updateListing(listingId, updates) {\r\n  const db = getDb();\r\n  if (!db) {\r\n    console.warn('Firestore not initialized');\r\n    return false;\r\n  }\r\n  try {\r\n    const listingRef = doc(db, 'listings', listingId);\r\n    await updateDoc(listingRef, {\r\n      ...updates,\r\n      updatedAt: serverTimestamp(),\r\n    });\r\n    console.log('Listing updated:', listingId);\r\n    return true;\r\n  } catch (error) {\r\n    console.error('Error updating listing in Firestore:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n// Delete a listing\r\nexport async function deleteListing(listingId) {\r\n  const db = getDb();\r\n  if (!db) {\r\n    console.warn('Firestore not initialized');\r\n    return false;\r\n  }\r\n  try {\r\n    const listingRef = doc(db, 'listings', listingId);\r\n    await deleteDoc(listingRef);\r\n    console.log('Listing deleted:', listingId);\r\n    return true;\r\n  } catch (error) {\r\n    console.error('Error deleting listing from Firestore:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n// Get listings by landlord ID\r\nexport async function fetchListingsByLandlord(landlordId) {\r\n  const db = getDb();\r\n  if (!db) return null;\r\n  try {\r\n    const listingsRef = collection(db, 'listings');\r\n    const q = query(listingsRef, where('landlordId', '==', landlordId));\r\n    const snapshot = await getDocs(q);\r\n    return snapshot.docs.map(doc => ({\r\n      id: doc.id,\r\n      ...doc.data(),\r\n      createdAt: doc.data().createdAt?.toDate?.()?.toISOString() || doc.data().createdAt,\r\n      availableDate: doc.data().availableDate?.toDate?.()?.toISOString() || doc.data().availableDate,\r\n    }));\r\n  } catch (error) {\r\n    console.error('Error fetching landlord listings:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\n// Subscribe to real-time listing updates\r\nexport function subscribeToListings(callback) {\r\n  const db = getDb();\r\n  if (!db) {\r\n    console.warn('Firestore not initialized for real-time updates');\r\n    return null;\r\n  }\r\n  try {\r\n    const listingsRef = collection(db, 'listings');\r\n    const q = query(listingsRef, orderBy('createdAt', 'desc'));\r\n    \r\n    const unsubscribe = onSnapshot(q, (snapshot) => {\r\n      const listings = snapshot.docs.map(doc => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n        createdAt: doc.data().createdAt?.toDate?.()?.toISOString() || doc.data().createdAt,\r\n        availableDate: doc.data().availableDate?.toDate?.()?.toISOString() || doc.data().availableDate,\r\n      }));\r\n      console.log(`Real-time update: ${listings.length} listings`);\r\n      callback(listings);\r\n    }, (error) => {\r\n      console.error('Real-time listener error:', error);\r\n    });\r\n    \r\n    return unsubscribe;\r\n  } catch (error) {\r\n    console.error('Error setting up real-time listener:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\n// Check if Firestore is available and configured\r\nexport function isFirestoreEnabled() {\r\n  return !!process.env.REACT_APP_FIREBASE_PROJECT_ID && !!getDb();\r\n}\r\n\r\nexport function initAnalytics(app) {\r\n  if (process.env.REACT_APP_ENABLE_ANALYTICS !== 'true') return;\r\n  const consent = localStorage.getItem('analytics-consent');\r\n  if (consent !== 'yes') return;\r\n  try {\r\n    analyticsInstance = getAnalytics(app);\r\n    console.log('Analytics initialized');\r\n  } catch (e) {\r\n    console.warn('Analytics not available', e);\r\n  }\r\n}\r\n\r\nexport function trackEvent(eventName, params = {}) {\r\n  if (!analyticsInstance) return;\r\n  try {\r\n    logEvent(analyticsInstance, eventName, params);\r\n  } catch (e) {\r\n    console.warn('Event tracking failed', e);\r\n  }\r\n}\r\n\r\n// Request notification permission and fetch token\r\nexport async function requestFcmToken() {\r\n  if (!messagingInstance) return null;\r\n  const permission = await Notification.requestPermission();\r\n  if (permission !== 'granted') {\r\n    console.log('Notification permission denied');\r\n    return null;\r\n  }\r\n  try {\r\n    const vapidKey = process.env.REACT_APP_FIREBASE_VAPID_KEY; // Public VAPID key\r\n    const currentToken = await getToken(messagingInstance, { vapidKey });\r\n    if (currentToken) {\r\n      console.log('FCM token:', currentToken);\r\n      // Persist token to backend if configured\r\n      try {\r\n        const backend = process.env.REACT_APP_BACKEND_URL;\r\n        if (backend) {\r\n          await fetch(`${backend.replace(/\\/$/, '')}/api/push/register`, {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ token: currentToken })\r\n          });\r\n        }\r\n      } catch (e) {\r\n        console.warn('Token persistence failed', e);\r\n      }\r\n      return currentToken;\r\n    } else {\r\n      console.log('No registration token available.');\r\n      return null;\r\n    }\r\n  } catch (err) {\r\n    console.error('An error occurred while retrieving token.', err);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function listenForegroundMessages(callback) {\r\n  if (!messagingInstance) return;\r\n  onMessage(messagingInstance, payload => {\r\n    console.log('Foreground message received', payload);\r\n    if (callback) callback(payload);\r\n  });\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}