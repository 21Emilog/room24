{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kutum\\\\Documents\\\\room-rental-platform\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$(),\n  _s0 = $RefreshSig$(),\n  _s1 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker } from 'react-leaflet';\nimport { Home, MessageSquare, PlusCircle, Search, MapPin, X, Send, ArrowLeft, User, Phone, Mail, Edit, Menu, CheckCircle } from 'lucide-react';\nimport MapView from './MapView';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function RentalPlatform() {\n  _s();\n  const [currentView, setCurrentView] = useState('browse');\n  const [mapView, setMapView] = useState(false);\n  const [userType, setUserType] = useState(null);\n  const [listings, setListings] = useState([]);\n  const [conversations, setConversations] = useState([]);\n  const [selectedListing, setSelectedListing] = useState(null);\n  const [selectedConversation, setSelectedConversation] = useState(null);\n  const [searchLocation, setSearchLocation] = useState('');\n  const [priceRange, setPriceRange] = useState([0, 10000]);\n  const [selectedAmenities, setSelectedAmenities] = useState([]);\n  const [sortBy, setSortBy] = useState('newest');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [showAuthModal, setShowAuthModal] = useState(false);\n  const [authDefaultType, setAuthDefaultType] = useState('renter');\n  const [nearbyMode, setNearbyMode] = useState(false);\n  const [nearbyRadius, setNearbyRadius] = useState(5); // km\n  const [userLocation, setUserLocation] = useState(null);\n  const [nearbyStatus, setNearbyStatus] = useState('');\n  const [showLocationConsent, setShowLocationConsent] = useState(false);\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\n  const [toast, setToast] = useState(null);\n  const openAuthModal = (type = 'renter') => {\n    setAuthDefaultType(type);\n    setShowAuthModal(true);\n  };\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  // Guard: if someone navigates to 'add' without landlord auth, prompt to sign in\n  useEffect(() => {\n    if (currentView === 'add') {\n      if (!currentUser) {\n        openAuthModal('landlord');\n        setCurrentView('browse');\n      } else if (userType !== 'landlord') {\n        // Not a landlord - prompt to become one\n        openAuthModal('landlord');\n        setCurrentView('browse');\n      } else if (!currentUser.landlordComplete) {\n        // Landlord but hasn't completed onboarding\n        setCurrentView('landlord-onboarding');\n      }\n    }\n  }, [currentView, currentUser, userType]);\n  const loadData = async () => {\n    try {\n      const listingsResult = localStorage.getItem('listings');\n      const conversationsResult = localStorage.getItem('conversations');\n      const userResult = localStorage.getItem('current-user');\n      if (listingsResult) setListings(JSON.parse(listingsResult));\n      if (conversationsResult) setConversations(JSON.parse(conversationsResult));\n      if (userResult) {\n        const user = JSON.parse(userResult);\n        setCurrentUser(user);\n        setUserType(user.type);\n      }\n    } catch (error) {\n      console.log('No existing data found, starting fresh');\n      // Add sample listings for testing the map\n      const sampleListings = [{\n        id: 'listing-1',\n        title: 'Cozy Room in Soweto',\n        price: 2500,\n        location: 'Soweto, Johannesburg',\n        description: 'Comfortable room with bathroom and kitchen access',\n        photos: [],\n        status: 'available',\n        availableDate: new Date().toISOString(),\n        amenities: ['WiFi', 'Kitchen'],\n        landlordId: 'landlord-1',\n        landlordName: 'John Smith',\n        landlordPhone: '+27 123 456 7890',\n        landlordEmail: 'john@example.com',\n        landlordPhoto: '',\n        createdAt: new Date().toISOString()\n      }, {\n        id: 'listing-2',\n        title: 'Modern Apartment in Sandton',\n        price: 4500,\n        location: 'Sandton, Johannesburg',\n        description: 'Luxurious apartment with parking and security',\n        photos: [],\n        status: 'available',\n        availableDate: new Date().toISOString(),\n        amenities: ['WiFi', 'Parking', 'Air Conditioning'],\n        landlordId: 'landlord-2',\n        landlordName: 'Jane Doe',\n        landlordPhone: '+27 987 654 3210',\n        landlordEmail: 'jane@example.com',\n        landlordPhoto: '',\n        createdAt: new Date().toISOString()\n      }, {\n        id: 'listing-3',\n        title: 'Studio in Midrand',\n        price: 3200,\n        location: 'Midrand, Johannesburg',\n        description: 'Spacious studio flat with laundry facilities',\n        photos: [],\n        status: 'available',\n        availableDate: new Date().toISOString(),\n        amenities: ['Laundry', 'WiFi'],\n        landlordId: 'landlord-3',\n        landlordName: 'Mike Johnson',\n        landlordPhone: '+27 555 555 5555',\n        landlordEmail: 'mike@example.com',\n        landlordPhoto: '',\n        createdAt: new Date().toISOString()\n      }];\n      setListings(sampleListings);\n    }\n  };\n\n  // Haversine formula to compute distance in kilometers between two coords\n  const haversineDistance = (lat1, lon1, lat2, lon2) => {\n    const toRad = v => v * Math.PI / 180;\n    const R = 6371; // km\n    const dLat = toRad(lat2 - lat1);\n    const dLon = toRad(lon2 - lon1);\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  };\n  const handleFindNearby = () => {\n    if (!navigator.geolocation) {\n      setNearbyStatus('Geolocation not supported');\n      return;\n    }\n    // Show consent modal before accessing location\n    setShowLocationConsent(true);\n  };\n  const handleLocationConsentAccept = () => {\n    setShowLocationConsent(false);\n    setNearbyStatus('Locating...');\n    navigator.geolocation.getCurrentPosition(pos => {\n      const lat = pos.coords.latitude;\n      const lon = pos.coords.longitude;\n      setUserLocation({\n        lat,\n        lon\n      });\n      setNearbyMode(true);\n      setNearbyStatus('Nearby mode enabled');\n      setTimeout(() => setNearbyStatus(''), 2000);\n    }, err => {\n      console.error('Geolocation error', err);\n      setNearbyStatus('Could not get location');\n    }, {\n      enableHighAccuracy: true,\n      timeout: 10000\n    });\n  };\n  const clearNearby = () => {\n    setNearbyMode(false);\n    setUserLocation(null);\n    setNearbyStatus('');\n  };\n\n  // Toast notification helper\n  const showToast = (message, type = 'info', title = '') => {\n    setToast({\n      message,\n      type,\n      title\n    });\n    setTimeout(() => setToast(null), 5000);\n  };\n  const saveListings = async newListings => {\n    try {\n      localStorage.setItem('listings', JSON.stringify(newListings));\n      setListings(newListings);\n    } catch (error) {\n      console.error('Error saving listings:', error);\n    }\n  };\n  const saveConversations = async newConversations => {\n    try {\n      localStorage.setItem('conversations', JSON.stringify(newConversations));\n      setConversations(newConversations);\n    } catch (error) {\n      console.error('Error saving conversations:', error);\n    }\n  };\n  const saveSubscriptions = async subscriptions => {\n    try {\n      localStorage.setItem('subscriptions', JSON.stringify(subscriptions));\n    } catch (error) {\n      console.error('Error saving subscriptions:', error);\n    }\n  };\n  const getSubscriptions = async () => {\n    try {\n      const res = localStorage.getItem('subscriptions');\n      return res ? JSON.parse(res) : {};\n    } catch (err) {\n      console.error('Error loading subscriptions', err);\n    }\n    return {};\n  };\n  const subscribeToArea = async (userId, area) => {\n    if (!userId) {\n      openAuthModal('renter');\n      return;\n    }\n    if (!area || area.trim() === '') {\n      alert('Please enter a location to subscribe to.');\n      return;\n    }\n    try {\n      const subs = await getSubscriptions();\n      subs[userId] = subs[userId] || [];\n      if (!subs[userId].includes(area)) {\n        subs[userId].push(area);\n        await saveSubscriptions(subs);\n        alert(`Subscribed to updates for ${area}`);\n      } else {\n        alert(`You are already subscribed to ${area}`);\n      }\n    } catch (err) {\n      console.error('Subscribe failed', err);\n      alert('Could not subscribe. Please try again.');\n    }\n  };\n  const handleProfileSetup = async profileData => {\n    try {\n      const userId = `user-${Date.now()}`;\n      const user = {\n        id: userId,\n        type: userType,\n        ...profileData,\n        createdAt: new Date().toISOString()\n      };\n      localStorage.setItem('current-user', JSON.stringify(user));\n      setCurrentUser(user);\n      showToast('Profile created successfully!', 'success', 'Welcome!');\n      setCurrentView('browse');\n    } catch (error) {\n      console.error('Error saving profile:', error);\n      // Still set the user locally even if storage fails\n      const userId = `user-${Date.now()}`;\n      const user = {\n        id: userId,\n        type: userType,\n        ...profileData,\n        createdAt: new Date().toISOString()\n      };\n      setCurrentUser(user);\n      showToast('Profile created (data may not be persisted)', 'error');\n      setCurrentView('browse');\n    }\n  };\n  const handleUpdateProfile = async profileData => {\n    try {\n      const updatedUser = {\n        ...currentUser,\n        ...profileData\n      };\n      localStorage.setItem('current-user', JSON.stringify(updatedUser));\n      setCurrentUser(updatedUser);\n      showToast('Profile updated successfully!', 'success');\n      setCurrentView('browse');\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      const updatedUser = {\n        ...currentUser,\n        ...profileData\n      };\n      setCurrentUser(updatedUser);\n      showToast('Profile updated (data may not be persisted)', 'error');\n      setCurrentView('browse');\n    }\n  };\n  const handleQuickAuth = async profileData => {\n    // Lightweight auth (used by AuthModal) - create and persist a user\n    try {\n      const userId = `user-${Date.now()}`;\n      const user = {\n        id: userId,\n        type: profileData.type || 'renter',\n        name: profileData.name,\n        phone: profileData.phone || '',\n        email: profileData.email || '',\n        photo: profileData.photo || '',\n        createdAt: new Date().toISOString()\n      };\n      localStorage.setItem('current-user', JSON.stringify(user));\n      setCurrentUser(user);\n      setUserType(user.type);\n      setShowAuthModal(false);\n      // If landlord, route to onboarding to complete setup before posting\n      if (user.type === 'landlord') {\n        setCurrentView('landlord-onboarding');\n      } else {\n        setCurrentView('browse');\n      }\n    } catch (err) {\n      console.error('Auth failed', err);\n    }\n  };\n\n  // Sign out helper so you can re-auth as renter for perspective preview\n  const handleSignOut = () => {\n    try {\n      localStorage.removeItem('current-user');\n    } catch (e) {\n      console.warn('Could not clear localStorage current-user');\n    }\n    setCurrentUser(null);\n    setUserType(null);\n    setCurrentView('browse');\n    showToast('Signed out. You can now sign in as Renter.', 'info');\n  };\n  const handleCompleteOnboarding = async onboardData => {\n    try {\n      const updated = {\n        ...currentUser,\n        landlordComplete: true,\n        landlordInfo: onboardData\n      };\n      localStorage.setItem('current-user', JSON.stringify(updated));\n      setCurrentUser(updated);\n      setCurrentView('browse');\n    } catch (err) {\n      console.error('Onboarding save failed', err);\n      setCurrentUser({\n        ...currentUser,\n        landlordComplete: true,\n        landlordInfo: onboardData\n      });\n      setCurrentView('browse');\n    }\n  };\n  const handleAddListing = async listingData => {\n    var _listingData$latitude, _listingData$longitud;\n    const newListing = {\n      id: `listing-${Date.now()}`,\n      title: listingData.title,\n      price: listingData.price,\n      location: listingData.location,\n      description: listingData.description,\n      photos: listingData.photos || [],\n      status: listingData.status || 'available',\n      availableDate: listingData.availableDate || new Date().toISOString(),\n      amenities: listingData.amenities || [],\n      latitude: (_listingData$latitude = listingData.latitude) !== null && _listingData$latitude !== void 0 ? _listingData$latitude : null,\n      longitude: (_listingData$longitud = listingData.longitude) !== null && _listingData$longitud !== void 0 ? _listingData$longitud : null,\n      landlordId: currentUser.id,\n      landlordName: currentUser.name,\n      landlordPhone: currentUser.phone,\n      landlordEmail: currentUser.email,\n      landlordPhoto: currentUser.photo,\n      createdAt: new Date().toISOString()\n    };\n    const updatedListings = [...listings, newListing];\n    await saveListings(updatedListings);\n    showToast('Listing created successfully!', 'success', 'Success!');\n    setCurrentView('browse');\n    // Scroll to top to see new listing\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n  const handleSendMessage = async (listingId, message) => {\n    const conversationId = `${currentUser.id}-${listingId}`;\n    const existingConv = conversations.find(c => c.id === conversationId);\n    const newMessage = {\n      id: `msg-${Date.now()}`,\n      sender: currentUser.type,\n      text: message,\n      timestamp: new Date().toISOString()\n    };\n    let updatedConversations;\n    if (existingConv) {\n      updatedConversations = conversations.map(c => c.id === conversationId ? {\n        ...c,\n        messages: [...c.messages, newMessage]\n      } : c);\n    } else {\n      const newConv = {\n        id: conversationId,\n        listingId,\n        renterId: currentUser.id,\n        messages: [newMessage]\n      };\n      updatedConversations = [...conversations, newConv];\n    }\n    await saveConversations(updatedConversations);\n  };\n  const filteredListings = listings.map(listing => {\n    // attach distance if we have userLocation\n    if (userLocation && listing.latitude != null && listing.longitude != null) {\n      const d = haversineDistance(userLocation.lat, userLocation.lon, listing.latitude, listing.longitude);\n      return {\n        ...listing,\n        __distanceKm: d\n      };\n    }\n    if (userLocation && (listing.latitude == null || listing.longitude == null)) {\n      // try to geocode-less accurate: leave distance undefined\n      return {\n        ...listing\n      };\n    }\n    return {\n      ...listing\n    };\n  }).filter(listing => {\n    const matchesLocation = !searchLocation || (listing.location || '').toLowerCase().includes(searchLocation.toLowerCase());\n    const price = parseFloat(listing.price);\n    const matchesPrice = price >= priceRange[0] && price <= priceRange[1];\n    const matchesAmenities = selectedAmenities.length === 0 || selectedAmenities.every(amenity => {\n      var _listing$amenities;\n      return (_listing$amenities = listing.amenities) === null || _listing$amenities === void 0 ? void 0 : _listing$amenities.includes(amenity);\n    });\n    let passesNearby = true;\n    if (nearbyMode && userLocation) {\n      // require listing to have coordinates to be included\n      if (listing.latitude != null && listing.longitude != null) {\n        var _listing$__distanceKm;\n        const d = (_listing$__distanceKm = listing.__distanceKm) !== null && _listing$__distanceKm !== void 0 ? _listing$__distanceKm : haversineDistance(userLocation.lat, userLocation.lon, listing.latitude, listing.longitude);\n        passesNearby = d <= nearbyRadius;\n      } else {\n        passesNearby = false;\n      }\n    }\n    return matchesLocation && matchesPrice && matchesAmenities && passesNearby;\n  }).sort((a, b) => {\n    if (nearbyMode && userLocation) {\n      var _a$__distanceKm, _b$__distanceKm;\n      const da = (_a$__distanceKm = a.__distanceKm) !== null && _a$__distanceKm !== void 0 ? _a$__distanceKm : Infinity;\n      const db = (_b$__distanceKm = b.__distanceKm) !== null && _b$__distanceKm !== void 0 ? _b$__distanceKm : Infinity;\n      return da - db;\n    }\n    if (sortBy === 'newest') {\n      return new Date(b.createdAt) - new Date(a.createdAt);\n    } else if (sortBy === 'cheapest') {\n      return parseFloat(a.price) - parseFloat(b.price);\n    } else if (sortBy === 'expensive') {\n      return parseFloat(b.price) - parseFloat(a.price);\n    }\n    return 0;\n  });\n  const userConversations = currentUser ? conversations.filter(conv => {\n    if (userType === 'landlord') {\n      const listing = listings.find(l => l.id === conv.listingId);\n      return listing && listing.landlordId === currentUser.id;\n    }\n    return conv.renterId === currentUser.id;\n  }) : [];\n\n  // Allow guests to land on Browse by default. If userType isn't set,\n  // show a gentle callout in the header (below) so users can pick a role\n  // when they want to post or set up their profile.\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"#main-content\",\n      className: \"absolute left-2 top-2 -translate-y-full focus:translate-y-0 transition bg-blue-600 text-white px-3 py-2 rounded shadow\",\n      style: {\n        clipPath: 'inset(0)',\n        zIndex: 1000\n      },\n      children: \"Skip to main content\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 py-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-blue-600\",\n              children: \"Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"24\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 58\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hidden md:flex items-center gap-4\",\n            children: [!currentUser && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => openAuthModal('renter'),\n                className: \"text-gray-600 hover:text-gray-800 px-3 py-2 rounded-lg\",\n                children: \"Sign in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => openAuthModal('landlord'),\n                className: \"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg\",\n                children: \"List Your Room\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 17\n            }, this), currentUser && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 text-sm mr-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-semibold\",\n                  children: currentUser.name.charAt(0)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 489,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium text-gray-800\",\n                    children: currentUser.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500\",\n                    children: currentUser.type === 'landlord' ? 'Property Owner' : 'Looking for a Room'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 19\n              }, this), userConversations.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCurrentView('messages'),\n                className: \"relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition\",\n                \"aria-label\": \"Messages\",\n                children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n                  className: \"w-6 h-6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 23\n                }, this), userConversations.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold\",\n                  children: userConversations.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 506,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCurrentView('profile'),\n                className: \"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition\",\n                \"aria-label\": \"Profile\",\n                children: /*#__PURE__*/_jsxDEV(User, {\n                  className: \"w-6 h-6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSignOut,\n                className: \"text-xs text-gray-500 hover:text-gray-700 px-2 py-1 rounded-lg border border-gray-200 hover:border-gray-300 transition\",\n                \"aria-label\": \"Sign out\",\n                children: \"Sign Out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex md:hidden items-center gap-2\",\n            children: !currentUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => openAuthModal('renter'),\n                className: \"text-sm text-gray-600 hover:text-gray-800 px-2 py-1\",\n                children: \"Sign in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => openAuthModal('landlord'),\n                className: \"text-sm bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded\",\n                children: \"List Room\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowMobileMenu(!showMobileMenu),\n              className: \"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition\",\n              \"aria-label\": \"Menu\",\n              children: showMobileMenu ? /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 37\n              }, this) : /*#__PURE__*/_jsxDEV(Menu, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 65\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 11\n        }, this), currentUser && showMobileMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:hidden mt-3 pb-3 border-t border-gray-200 pt-3 animate-slideDown\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3 mb-4 pb-3 border-b border-gray-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-semibold\",\n              children: currentUser.name.charAt(0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium text-gray-800\",\n                children: currentUser.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: currentUser.type === 'landlord' ? 'Property Owner' : 'Looking for a Room'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 557,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-1\",\n            children: [userConversations.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setCurrentView('messages');\n                setShowMobileMenu(false);\n              },\n              className: \"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition\",\n              children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Messages\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 21\n              }, this), userConversations.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-auto bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold\",\n                children: userConversations.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setCurrentView('profile');\n                setShowMobileMenu(false);\n              },\n              className: \"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition\",\n              children: [/*#__PURE__*/_jsxDEV(User, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 581,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                handleSignOut();\n                setShowMobileMenu(false);\n              },\n              className: \"w-full flex items-center gap-3 px-3 py-2 text-gray-500 hover:bg-gray-100 rounded-lg transition text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(X, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Sign Out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 589,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 584,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 7\n    }, this), toast && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed top-20 right-4 z-50 bg-white border-l-4 ${toast.type === 'success' ? 'border-green-500' : toast.type === 'error' ? 'border-red-500' : 'border-blue-500'} rounded shadow-lg p-4 animate-slideInRight flex items-start gap-3 max-w-sm`,\n      children: [toast.type === 'success' && /*#__PURE__*/_jsxDEV(CheckCircle, {\n        className: \"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 40\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [toast.title && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-semibold text-gray-800 mb-1\",\n          children: toast.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: toast.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 605,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setToast(null),\n        className: \"text-gray-400 hover:text-gray-600\",\n        \"aria-label\": \"Close notification\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 599,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"main-content\",\n      className: \"max-w-6xl mx-auto pb-20\",\n      role: \"main\",\n      children: [currentView === 'setup-profile' && /*#__PURE__*/_jsxDEV(ProfileSetupView, {\n        onSubmit: handleProfileSetup,\n        userType: userType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 621,\n        columnNumber: 11\n      }, this), currentView === 'profile' && currentUser && /*#__PURE__*/_jsxDEV(ProfileView, {\n        user: currentUser,\n        onEdit: () => setCurrentView('edit-profile')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 625,\n        columnNumber: 11\n      }, this), currentView === 'edit-profile' && currentUser && /*#__PURE__*/_jsxDEV(EditProfileView, {\n        user: currentUser,\n        onSubmit: handleUpdateProfile,\n        onCancel: () => setCurrentView('profile')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 11\n      }, this), currentView === 'landlord-onboarding' && currentUser && userType === 'landlord' && /*#__PURE__*/_jsxDEV(LandlordOnboardingView, {\n        onComplete: handleCompleteOnboarding,\n        onCancel: () => setCurrentView('browse'),\n        currentUser: currentUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 633,\n        columnNumber: 11\n      }, this), currentView === 'browse' && /*#__PURE__*/_jsxDEV(BrowseView, {\n        listings: filteredListings,\n        searchLocation: searchLocation,\n        setSearchLocation: setSearchLocation,\n        priceRange: priceRange,\n        setPriceRange: setPriceRange,\n        selectedAmenities: selectedAmenities,\n        setSelectedAmenities: setSelectedAmenities,\n        sortBy: sortBy,\n        setSortBy: setSortBy,\n        mapView: mapView,\n        setMapView: setMapView,\n        onSelectListing: setSelectedListing,\n        setCurrentView: setCurrentView,\n        currentUser: currentUser,\n        onRequireAuth: openAuthModal,\n        subscribeToArea: subscribeToArea,\n        onFindNearby: handleFindNearby,\n        nearbyRadius: nearbyRadius,\n        setNearbyRadius: setNearbyRadius,\n        nearbyMode: nearbyMode,\n        clearNearby: clearNearby,\n        userLocation: userLocation,\n        nearbyStatus: nearbyStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 637,\n        columnNumber: 11\n      }, this), currentView === 'messages' && /*#__PURE__*/_jsxDEV(MessagesView, {\n        conversations: userConversations,\n        listings: listings,\n        userType: userType,\n        onSelectConversation: setSelectedConversation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 11\n      }, this), currentView === 'add' && /*#__PURE__*/_jsxDEV(AddListingView, {\n        onSubmit: handleAddListing,\n        onCancel: () => setCurrentView('browse'),\n        currentUser: currentUser,\n        userType: userType,\n        onRequireAuth: openAuthModal,\n        onRequireOnboarding: () => setCurrentView('landlord-onboarding')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 11\n      }, this), currentView === 'my-listings' && currentUser && userType === 'landlord' && /*#__PURE__*/_jsxDEV(MyListingsView, {\n        listings: listings.filter(l => l.landlordId === currentUser.id),\n        onDelete: async id => {\n          const updated = listings.filter(l => l.id !== id);\n          await saveListings(updated);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 685,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 7\n    }, this), selectedListing && /*#__PURE__*/_jsxDEV(ListingDetailModal, {\n      listing: selectedListing,\n      landlord: {\n        name: selectedListing.landlordName,\n        phone: selectedListing.landlordPhone,\n        email: selectedListing.landlordEmail,\n        photo: selectedListing.landlordPhoto\n      },\n      onClose: () => setSelectedListing(null),\n      onSendMessage: handleSendMessage,\n      userType: userType,\n      currentUser: currentUser,\n      onRequireAuth: openAuthModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 696,\n      columnNumber: 9\n    }, this), selectedConversation && /*#__PURE__*/_jsxDEV(ConversationModal, {\n      conversation: selectedConversation,\n      listing: listings.find(l => l.id === selectedConversation.listingId),\n      onClose: () => setSelectedConversation(null),\n      onSendMessage: handleSendMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 713,\n      columnNumber: 9\n    }, this), showAuthModal && /*#__PURE__*/_jsxDEV(AuthModal, {\n      defaultType: authDefaultType,\n      onClose: () => setShowAuthModal(false),\n      onSubmit: handleQuickAuth\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 722,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(BottomNav, {\n      currentView: currentView,\n      setCurrentView: setCurrentView,\n      userType: userType,\n      messageCount: userConversations.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 729,\n      columnNumber: 7\n    }, this), showLocationConsent && /*#__PURE__*/_jsxDEV(LocationConsentModal, {\n      onAccept: handleLocationConsentAccept,\n      onDecline: () => setShowLocationConsent(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 737,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"bg-gray-800 text-gray-300 py-8 mt-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-8 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-white font-bold text-lg mb-3\",\n              children: \"Room24\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 748,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-400\",\n              children: \"Find your perfect room in South Africa. Connect with verified landlords and renters.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 749,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-white font-semibold mb-3\",\n              children: \"Legal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-2 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#privacy\",\n                  className: \"hover:text-white transition\",\n                  children: \"Privacy Policy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 754,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 754,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#terms\",\n                  className: \"hover:text-white transition\",\n                  children: \"Terms of Service\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 755,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 755,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#cookies\",\n                  className: \"hover:text-white transition\",\n                  children: \"Cookie Policy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 756,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 756,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 753,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 751,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-white font-semibold mb-3\",\n              children: \"Contact\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 760,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-2 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"mailto:support@room24.co.za\",\n                  className: \"hover:text-white transition\",\n                  children: \"support@room24.co.za\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 762,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 762,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#help\",\n                  className: \"hover:text-white transition\",\n                  children: \"Help Center\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 763,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 763,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 761,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 759,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 746,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t border-gray-700 pt-6 text-sm text-gray-400\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\xA9 \", new Date().getFullYear(), \" Room24. All rights reserved.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 768,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2\",\n            children: \"By using this site, you agree to our use of location services and cookies for improved user experience.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 769,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 767,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 745,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 744,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 465,\n    columnNumber: 5\n  }, this);\n}\n_s(RentalPlatform, \"yb1QO/JGAgTBey8a1d2P6NeOQqc=\");\n_c = RentalPlatform;\nfunction ProfileSetupView({\n  onSubmit,\n  userType\n}) {\n  _s2();\n  const [formData, setFormData] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    photo: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n  const validateField = (name, value) => {\n    const newErrors = {\n      ...errors\n    };\n    switch (name) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'phone':\n        if (!value || !/^[+]?[-0-9()\\s]{7,}$/.test(value.trim())) {\n          newErrors.phone = 'Enter a valid phone number (min 7 digits)';\n        } else {\n          delete newErrors.phone;\n        }\n        break;\n      case 'email':\n        if (!value || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value.trim())) {\n          newErrors.email = 'Enter a valid email address';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      case 'photo':\n        if (value === 'FILE_TOO_LARGE') {\n          newErrors.photo = 'Photo is too large (max 2MB)';\n        } else {\n          delete newErrors.photo;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n  const handlePhotoUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 2 * 1024 * 1024) {\n        // 2MB limit\n        setFormData({\n          ...formData,\n          photo: ''\n        });\n        validateField('photo', 'FILE_TOO_LARGE');\n        return;\n      }\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({\n          ...formData,\n          photo: reader.result\n        });\n        validateField('photo', reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleSubmit = () => {\n    // Touch all fields\n    const allTouched = {\n      name: true,\n      phone: true,\n      email: true,\n      photo: true\n    };\n    setTouched(allTouched);\n    validateField('name', formData.name);\n    validateField('phone', formData.phone);\n    validateField('email', formData.email);\n    if (Object.keys(errors).length === 0 && formData.name && formData.phone && formData.email) {\n      onSubmit(formData);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 min-h-screen bg-gray-50 pb-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-bold text-gray-800 mb-2\",\n            children: \"Complete Your Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 860,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Help others know who you are\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 861,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 859,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center mb-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [formData.photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: formData.photo,\n                alt: \"Profile\",\n                className: \"w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 869,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-blue-200 shadow-lg\",\n                children: /*#__PURE__*/_jsxDEV(User, {\n                  className: \"w-16 h-16 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 876,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 875,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition group\",\n                \"aria-label\": \"Upload profile photo\",\n                children: [/*#__PURE__*/_jsxDEV(Edit, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 880,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/*\",\n                  onChange: handlePhotoUpload,\n                  className: \"hidden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 881,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 879,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 867,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Full Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 893,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              required: true,\n              value: formData.name,\n              onChange: e => {\n                setFormData({\n                  ...formData,\n                  name: e.target.value\n                });\n                if (touched.name) validateField('name', e.target.value);\n              },\n              onBlur: e => {\n                setTouched({\n                  ...touched,\n                  name: true\n                });\n                validateField('name', e.target.value);\n              },\n              placeholder: \"Enter your full name\",\n              \"aria-invalid\": errors.name ? 'true' : 'false',\n              \"aria-describedby\": errors.name ? 'profile-name-error' : undefined,\n              className: `w-full px-4 py-3 border ${errors.name ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 894,\n              columnNumber: 15\n            }, this), errors.name && touched.name && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"profile-name-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 905,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 892,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Phone Number *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 909,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 911,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                required: true,\n                value: formData.phone,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    phone: e.target.value\n                  });\n                  if (touched.phone) validateField('phone', e.target.value);\n                },\n                onBlur: e => {\n                  setTouched({\n                    ...touched,\n                    phone: true\n                  });\n                  validateField('phone', e.target.value);\n                },\n                placeholder: \"e.g., +27 12 345 6789\",\n                \"aria-invalid\": errors.phone ? 'true' : 'false',\n                \"aria-describedby\": errors.phone ? 'profile-phone-error' : undefined,\n                className: `w-full pl-11 pr-4 py-3 border ${errors.phone ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 912,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 910,\n              columnNumber: 15\n            }, this), errors.phone && touched.phone && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"profile-phone-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 924,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 908,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Email Address *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 928,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Mail, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 930,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                required: true,\n                value: formData.email,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    email: e.target.value\n                  });\n                  if (touched.email) validateField('email', e.target.value);\n                },\n                onBlur: e => {\n                  setTouched({\n                    ...touched,\n                    email: true\n                  });\n                  validateField('email', e.target.value);\n                },\n                placeholder: \"your.email@example.com\",\n                \"aria-invalid\": errors.email ? 'true' : 'false',\n                \"aria-describedby\": errors.email ? 'profile-email-error' : undefined,\n                className: `w-full pl-11 pr-4 py-3 border ${errors.email ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 931,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 929,\n              columnNumber: 15\n            }, this), errors.email && touched.email && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"profile-email-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 943,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 927,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            className: \"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition mt-8 shadow-sm\",\n            children: \"Complete Setup\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 947,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 864,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 858,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 857,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 856,\n    columnNumber: 5\n  }, this);\n}\n_s2(ProfileSetupView, \"H00kZB6h1C/QFWr4plpFNlXEsCw=\");\n_c2 = ProfileSetupView;\nfunction ProfileView({\n  user,\n  onEdit\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow p-6 max-w-xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-start mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: \"My Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 965,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onEdit,\n          className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Edit, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 970,\n            columnNumber: 13\n          }, this), \"Edit\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 966,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 964,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center mb-6\",\n        children: [user.photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: user.photo,\n          alt: \"Profile\",\n          className: \"w-32 h-32 rounded-full object-cover border-4 border-blue-500 mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 977,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center border-4 border-gray-300 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(User, {\n            className: \"w-16 h-16 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 980,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 979,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 983,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inline-block mt-2 px-4 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold\",\n          children: user.type === 'landlord' ? 'Landlord' : 'Renter'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 984,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 975,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(Phone, {\n              className: \"w-5 h-5 mr-3 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 992,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mb-1\",\n                children: \"Phone Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 994,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800\",\n                children: user.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 995,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 993,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 991,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 990,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(Mail, {\n              className: \"w-5 h-5 mr-3 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1002,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mb-1\",\n                children: \"Email Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1004,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800\",\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1005,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1003,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1001,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1000,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(User, {\n              className: \"w-5 h-5 mr-3 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1012,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mb-1\",\n                children: \"Member Since\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1014,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800\",\n                children: new Date(user.createdAt).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1015,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1013,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1011,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1010,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 989,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 963,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 962,\n    columnNumber: 5\n  }, this);\n}\n_c3 = ProfileView;\nfunction LandlordOnboardingView({\n  onComplete,\n  onCancel,\n  currentUser\n}) {\n  _s3();\n  const [form, setForm] = useState({\n    businessName: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || '',\n    bankDetails: '',\n    idNumber: '',\n    agree: false\n  });\n  const handleSubmit = () => {\n    if (!form.businessName || !form.agree) {\n      alert('Please provide a display name and agree to the terms.');\n      return;\n    }\n    onComplete(form);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 min-h-screen bg-gray-50 pb-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-6 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-16 h-16 rounded-full bg-blue-50 flex items-center justify-center text-blue-600 text-2xl font-bold\",\n            children: currentUser && currentUser.name ? currentUser.name.charAt(0) : 'L'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1043,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold text-gray-800\",\n              children: [\"Welcome, \", (currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || 'Landlord']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1047,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"A few details to get your listings live and increase trust with renters.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1048,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1046,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1042,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-1\",\n              children: \"Display Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1054,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: form.businessName,\n              onChange: e => setForm({\n                ...form,\n                businessName: e.target.value\n              }),\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1055,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: \"This name is shown to renters on your listings and messages.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1056,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1053,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-1\",\n              children: \"How do you want to receive payments?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1060,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: form.bankDetails,\n              onChange: e => setForm({\n                ...form,\n                bankDetails: e.target.value\n              }),\n              placeholder: \"Bank account or payment details (optional)\",\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1061,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1059,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-1\",\n              children: \"ID Number (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1065,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: form.idNumber,\n              onChange: e => setForm({\n                ...form,\n                idNumber: e.target.value\n              }),\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1066,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1064,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: form.agree,\n              onChange: e => setForm({\n                ...form,\n                agree: e.target.checked\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1070,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"I confirm I am authorised to list these properties and agree to the \", /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: e => e.preventDefault(),\n                className: \"text-blue-600 underline p-0\",\n                children: \"terms of service\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1071,\n                columnNumber: 122\n              }, this), \".\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1071,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1069,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3 pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onCancel,\n              className: \"flex-1 bg-gray-100 hover:bg-gray-200 py-3 rounded\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1075,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubmit,\n              className: \"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded\",\n              children: \"Complete and Start Listing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1076,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1074,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1052,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1041,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1040,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1039,\n    columnNumber: 5\n  }, this);\n}\n_s3(LandlordOnboardingView, \"Ac17KE539D878YeIRIQ45kYstio=\");\n_c4 = LandlordOnboardingView;\nfunction EditProfileView({\n  user,\n  onSubmit,\n  onCancel\n}) {\n  _s4();\n  const [formData, setFormData] = useState({\n    name: user.name || '',\n    phone: user.phone || '',\n    email: user.email || '',\n    photo: user.photo || ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n  const validateField = (name, value) => {\n    const newErrors = {\n      ...errors\n    };\n    switch (name) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'phone':\n        if (!value || !/^[+]?[-0-9()\\s]{7,}$/.test(value.trim())) {\n          newErrors.phone = 'Enter a valid phone number';\n        } else {\n          delete newErrors.phone;\n        }\n        break;\n      case 'email':\n        if (!value || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value.trim())) {\n          newErrors.email = 'Enter a valid email';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n  const handlePhotoUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({\n          ...formData,\n          photo: reader.result\n        });\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleSubmit = () => {\n    setTouched({\n      name: true,\n      phone: true,\n      email: true\n    });\n    validateField('name', formData.name);\n    validateField('phone', formData.phone);\n    validateField('email', formData.email);\n    if (Object.keys(errors).length === 0 && formData.name && formData.phone && formData.email) {\n      onSubmit(formData);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 min-h-screen bg-gray-50 pb-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-bold text-gray-800\",\n            children: \"Edit Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onCancel,\n            className: \"text-gray-400 hover:text-gray-600 transition\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1153,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1152,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center mb-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [formData.photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: formData.photo,\n                alt: \"Profile\",\n                className: \"w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1162,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-blue-200 shadow-lg\",\n                children: /*#__PURE__*/_jsxDEV(User, {\n                  className: \"w-16 h-16 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1165,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1164,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition\",\n                \"aria-label\": \"Upload new profile photo\",\n                children: [/*#__PURE__*/_jsxDEV(Edit, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1169,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/*\",\n                  onChange: handlePhotoUpload,\n                  className: \"hidden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1170,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1168,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1160,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Full Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1182,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              required: true,\n              value: formData.name,\n              onChange: e => {\n                setFormData({\n                  ...formData,\n                  name: e.target.value\n                });\n                if (touched.name) validateField('name', e.target.value);\n              },\n              onBlur: e => {\n                setTouched({\n                  ...touched,\n                  name: true\n                });\n                validateField('name', e.target.value);\n              },\n              \"aria-invalid\": errors.name ? 'true' : 'false',\n              \"aria-describedby\": errors.name ? 'edit-name-error' : undefined,\n              className: `w-full px-4 py-3 border ${errors.name ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1183,\n              columnNumber: 15\n            }, this), errors.name && touched.name && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"edit-name-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1193,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1199,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                required: true,\n                value: formData.phone,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    phone: e.target.value\n                  });\n                  if (touched.phone) validateField('phone', e.target.value);\n                },\n                onBlur: e => {\n                  setTouched({\n                    ...touched,\n                    phone: true\n                  });\n                  validateField('phone', e.target.value);\n                },\n                \"aria-invalid\": errors.phone ? 'true' : 'false',\n                \"aria-describedby\": errors.phone ? 'edit-phone-error' : undefined,\n                className: `w-full pl-11 pr-4 py-3 border ${errors.phone ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1200,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1198,\n              columnNumber: 15\n            }, this), errors.phone && touched.phone && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"edit-phone-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1211,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Email Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Mail, {\n                className: \"absolute left-4 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1217,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                required: true,\n                value: formData.email,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    email: e.target.value\n                  });\n                  if (touched.email) validateField('email', e.target.value);\n                },\n                onBlur: e => {\n                  setTouched({\n                    ...touched,\n                    email: true\n                  });\n                  validateField('email', e.target.value);\n                },\n                \"aria-invalid\": errors.email ? 'true' : 'false',\n                \"aria-describedby\": errors.email ? 'edit-email-error' : undefined,\n                className: `w-full pl-11 pr-4 py-3 border ${errors.email ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1218,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1216,\n              columnNumber: 15\n            }, this), errors.email && touched.email && /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"edit-email-error\",\n              className: \"mt-1 text-xs text-red-600\",\n              children: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1229,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3 pt-6 border-t border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onCancel,\n              className: \"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 rounded-lg transition\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubmit,\n              className: \"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition shadow-sm\",\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1240,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1149,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1148,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1147,\n    columnNumber: 5\n  }, this);\n}\n_s4(EditProfileView, \"yBT7+jXpbrDE8w7ZT5045H8PilI=\");\n_c5 = EditProfileView;\nfunction BrowseView({\n  listings,\n  searchLocation,\n  setSearchLocation,\n  priceRange,\n  setPriceRange,\n  selectedAmenities,\n  setSelectedAmenities,\n  sortBy,\n  setSortBy,\n  mapView,\n  setMapView,\n  onSelectListing,\n  setCurrentView,\n  currentUser,\n  onRequireAuth,\n  subscribeToArea,\n  onFindNearby,\n  nearbyRadius,\n  setNearbyRadius,\n  nearbyMode,\n  clearNearby,\n  userLocation,\n  nearbyStatus\n}) {\n  _s5();\n  const [showAdvancedFilters, setShowAdvancedFilters] = useState(false);\n  const [isDesktop, setIsDesktop] = useState(typeof window !== 'undefined' ? window.innerWidth >= 1024 : false);\n  useEffect(() => {\n    const handleResize = () => setIsDesktop(window.innerWidth >= 1024);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Sidebar navigation items (desktop only)\n  const desktopNavItems = [{\n    id: 'browse',\n    label: 'Browse',\n    icon: Search\n  }, {\n    id: 'messages',\n    label: 'Messages',\n    icon: MessageSquare\n  }, {\n    id: 'add',\n    label: 'List Room',\n    icon: PlusCircle,\n    show: currentUser && currentUser.type === 'landlord'\n  }, {\n    id: 'my-listings',\n    label: 'My Rooms',\n    icon: Home,\n    show: currentUser && currentUser.type === 'landlord'\n  }, {\n    id: 'profile',\n    label: 'Profile',\n    icon: User\n  }];\n  const renderFiltersBox = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"filters-box\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-2 mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(MapPin, {\n        className: \"w-4 h-4 text-gray-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search location...\",\n        value: searchLocation,\n        onChange: e => setSearchLocation(e.target.value),\n        className: \"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1293,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1291,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"text-xs font-semibold text-gray-600\",\n        children: \"Price Range\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2 text-xs bg-gray-50 px-2 py-1 rounded border border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"R\", priceRange[0].toLocaleString(), \" - R\", priceRange[1].toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: priceRange[0],\n          onChange: e => setPriceRange([parseInt(e.target.value), priceRange[1]]),\n          className: \"bg-transparent border-l border-gray-300 pl-2 focus:outline-none\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"0\",\n            children: \"Min\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"500\",\n            children: \"R500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1000\",\n            children: \"R1000\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1500\",\n            children: \"R1500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1313,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"text-xs font-semibold text-gray-600 mt-2\",\n        children: \"Sort\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: sortBy,\n        onChange: e => setSortBy(e.target.value),\n        className: \"text-sm bg-white border border-gray-300 px-2 py-1 rounded focus:ring-2 focus:ring-blue-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"newest\",\n          children: \"Newest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"cheapest\",\n          children: \"Cheapest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"expensive\",\n          children: \"Most Expensive\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1324,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowAdvancedFilters(!showAdvancedFilters),\n        className: \"mt-2 text-xs text-blue-600 hover:text-blue-700 font-semibold px-2 py-1 rounded hover:bg-blue-50 transition\",\n        children: showAdvancedFilters ? 'Close Filters' : 'More Filters'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1326,\n        columnNumber: 9\n      }, this), showAdvancedFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 p-2 bg-gray-50 border border-gray-200 rounded\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-600\",\n          children: \"(Advanced filters placeholder)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1334,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1333,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex flex-col gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xs font-semibold text-gray-600\",\n          children: \"Nearby Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1338,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => onFindNearby && onFindNearby(),\n            className: \"flex-1 bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded text-xs font-medium\",\n            children: \"Find Nearby\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1340,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: nearbyRadius,\n            onChange: e => setNearbyRadius(parseInt(e.target.value)),\n            className: \"text-xs bg-gray-50 border border-gray-300 px-2 py-1 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: 1,\n              children: \"1km\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 3,\n              children: \"3km\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1353,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 5,\n              children: \"5km\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1354,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 10,\n              children: \"10km\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1355,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1347,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1339,\n          columnNumber: 11\n        }, this), nearbyMode && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearNearby,\n          className: \"text-xs bg-white border border-gray-300 text-gray-700 px-2 py-1 rounded\",\n          children: \"Clear Nearby\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1359,\n          columnNumber: 13\n        }, this), nearbyStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: nearbyStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1366,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1337,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1301,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1290,\n    columnNumber: 5\n  }, this);\n\n  // Desktop layout (sidebar + split view)\n  if (isDesktop) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-50 min-h-screen pb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"layout-desktop\",\n        children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n          className: \"sidebar-nav\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold flex items-center gap-2 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-blue-600\",\n                children: \"Room\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1379,\n                columnNumber: 78\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-500\",\n                children: \"24\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1379,\n                columnNumber: 121\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1379,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sidebar-section-title mb-2\",\n              children: \"Navigation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1380,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sidebar-menu\",\n              children: desktopNavItems.filter(i => i.show === undefined || i.show).map(item => {\n                const Icon = item.icon;\n                const isActive = item.id === 'browse';\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setCurrentView(item.id),\n                  className: isActive ? 'active' : '',\n                  \"aria-label\": item.label,\n                  children: [/*#__PURE__*/_jsxDEV(Icon, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1392,\n                    columnNumber: 23\n                  }, this), \" \", item.label]\n                }, item.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1386,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1381,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1378,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sidebar-section-title mb-2\",\n              children: \"Filters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1399,\n              columnNumber: 15\n            }, this), renderFiltersBox()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1398,\n            columnNumber: 13\n          }, this), !currentUser && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-auto pt-4 border-t border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mb-2\",\n              children: \"Join to list rooms or message landlords.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1404,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => onRequireAuth && onRequireAuth('renter'),\n                className: \"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 text-xs py-2 rounded\",\n                children: \"Sign In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1406,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => onRequireAuth && onRequireAuth('landlord'),\n                className: \"flex-1 bg-red-500 hover:bg-red-600 text-white text-xs py-2 rounded\",\n                children: \"List Room\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1407,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1405,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1403,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1377,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          className: \"desktop-split\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"list-pane\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-semibold text-gray-800\",\n                children: listings.length === 0 ? 'No rooms' : `${listings.length} rooms`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1415,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setMapView(!mapView),\n                className: \"text-xs px-3 py-1.5 rounded border border-gray-300 bg-white hover:bg-gray-50 transition\",\n                children: mapView ? 'Hide Map' : 'Show Map'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1416,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1414,\n              columnNumber: 15\n            }, this), listings.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white border border-gray-200 rounded-lg p-8 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 text-sm\",\n                children: \"No rooms match your filters.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1426,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1425,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6\",\n              children: listings.map(listing => /*#__PURE__*/_jsxDEV(ListingCard, {\n                listing: listing,\n                onClick: () => onSelectListing(listing)\n              }, listing.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1431,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1429,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1413,\n            columnNumber: 13\n          }, this), mapView && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"map-pane\",\n            children: /*#__PURE__*/_jsxDEV(MapView, {\n              listings: listings,\n              onMarkerClick: l => onSelectListing(l),\n              userLocation: userLocation,\n              nearbyRadius: nearbyRadius,\n              fullHeight: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1438,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1437,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1412,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1376,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1375,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Mobile / tablet existing layout\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-50 min-h-screen pb-20\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border-b border-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 py-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 relative\",\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                className: \"absolute left-3 top-3.5 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1463,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search by location, suburb, or area...\",\n                value: searchLocation,\n                onChange: e => setSearchLocation(e.target.value),\n                className: \"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1464,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1462,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition font-semibold shadow-sm\",\n                children: \"Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1473,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  if (!searchLocation || searchLocation.trim() === '') {\n                    alert('Enter a location to subscribe to updates for that area.');\n                    return;\n                  }\n                  if (!currentUser) {\n                    onRequireAuth && onRequireAuth('renter');\n                    return;\n                  }\n                  subscribeToArea && subscribeToArea(currentUser.id, searchLocation.trim());\n                },\n                className: \"bg-white border border-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition text-sm\",\n                children: \"Subscribe to area\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1477,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => onFindNearby && onFindNearby(),\n                className: \"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition\",\n                children: \"Find Nearby\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1494,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: nearbyRadius,\n                onChange: e => setNearbyRadius(parseInt(e.target.value)),\n                className: \"text-sm bg-gray-50 border border-gray-200 px-3 py-2 rounded-lg text-gray-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: 1,\n                  children: \"1 km\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1503,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: 3,\n                  children: \"3 km\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1504,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: 5,\n                  children: \"5 km\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1505,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: 10,\n                  children: \"10 km\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1506,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1502,\n                columnNumber: 17\n              }, this), nearbyMode && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: clearNearby,\n                className: \"bg-white border border-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm\",\n                children: \"Clear\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1510,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600\",\n                children: nearbyStatus\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1513,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1472,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1461,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1460,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2 mb-4 flex-wrap items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 bg-gray-50 px-3 py-2 rounded-lg border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600 font-medium\",\n              children: [\"R\", priceRange[0].toLocaleString(), \" - R\", priceRange[1].toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1524,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: priceRange[0],\n              onChange: e => setPriceRange([parseInt(e.target.value), priceRange[1]]),\n              className: \"text-xs bg-transparent border-l border-gray-300 pl-2 text-gray-600 focus:outline-none\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"0\",\n                children: \"Min\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1530,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"500\",\n                children: \"R500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1531,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1000\",\n                children: \"R1000\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1532,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1500\",\n                children: \"R1500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1533,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1525,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1523,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Sort:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1539,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: sortBy,\n              onChange: e => setSortBy(e.target.value),\n              className: \"text-sm bg-gray-50 border border-gray-200 px-3 py-2 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"newest\",\n                children: \"Newest\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1545,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cheapest\",\n                children: \"Cheapest\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1546,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"expensive\",\n                children: \"Most Expensive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1547,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1540,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1538,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowAdvancedFilters(!showAdvancedFilters),\n            className: \"text-sm text-blue-600 hover:text-blue-700 font-medium px-3 py-2 rounded-lg hover:bg-blue-50 transition\",\n            children: showAdvancedFilters ? ' Close Filters' : ' More Filters'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1552,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1521,\n          columnNumber: 11\n        }, this), showAdvancedFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm font-semibold text-gray-700 block mb-2\",\n                children: \"Property Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1565,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"w-full text-sm border border-gray-300 px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"Any\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1567,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"Room\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1568,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"Apartment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1569,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"House\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1570,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1566,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1564,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm font-semibold text-gray-700 block mb-2\",\n                children: \"Max Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1574,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: priceRange[1],\n                onChange: e => setPriceRange([priceRange[0], parseInt(e.target.value)]),\n                className: \"w-full text-sm border border-gray-300 px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"10000\",\n                  children: \"Up to R10,000\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1580,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"5000\",\n                  children: \"Up to R5,000\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1581,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"3000\",\n                  children: \"Up to R3,000\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1582,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"2000\",\n                  children: \"Up to R2,000\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1583,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1575,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1573,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1563,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1562,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1458,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1457,\n      columnNumber: 7\n    }, this), listings.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-6 mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-bold text-gray-800 mb-1\",\n              children: \"Have a room to rent?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1598,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 text-sm\",\n              children: \"Join thousands of landlords earning with Room24\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1599,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1597,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentView('add'),\n            className: \"bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-semibold transition shadow-md\",\n            children: \"List Your Room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1601,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1596,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1595,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1594,\n      columnNumber: 9\n    }, this), listings.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: mapView ? 'Click markers to view details' : `Showing ${listings.length} results`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1615,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setMapView(!mapView),\n          className: \"text-sm px-4 py-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 transition flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1622,\n            columnNumber: 15\n          }, this), mapView ? 'Show List' : 'Show Map']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1618,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1614,\n        columnNumber: 11\n      }, this), mapView && /*#__PURE__*/_jsxDEV(MapView, {\n        listings: listings,\n        onMarkerClick: l => onSelectListing(l),\n        userLocation: userLocation,\n        nearbyRadius: nearbyRadius,\n        fullHeight: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1627,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1613,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: listings.length === 0 ? 'No rooms available' : `${listings.length} Rooms Available`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1641,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500 mt-1\",\n          children: \"Find your perfect room today\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1644,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1640,\n        columnNumber: 9\n      }, this), listings.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg border border-gray-200 p-12 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(Home, {\n          className: \"w-16 h-16 mx-auto mb-4 text-gray-300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1649,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 font-medium mb-2\",\n          children: \"No rooms match your search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1650,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-sm mb-4\",\n          children: \"Try adjusting your filters or search in a different location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1651,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setSearchLocation('');\n            setPriceRange([0, 10000]);\n          },\n          className: \"text-blue-600 hover:text-blue-700 font-medium text-sm\",\n          children: \"Clear all filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1652,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1648,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12\",\n        children: listings.map(listing => /*#__PURE__*/_jsxDEV(ListingCard, {\n          listing: listing,\n          onClick: () => onSelectListing(listing)\n        }, listing.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1665,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1663,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1639,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1455,\n    columnNumber: 5\n  }, this);\n}\n_s5(BrowseView, \"X5VcWTI9lzSzLymN4esMeUyVPe0=\");\n_c6 = BrowseView;\nfunction ListingCard({\n  listing,\n  onClick\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onClick,\n    className: \"bg-white rounded-lg shadow hover:shadow-xl transition-all duration-200 cursor-pointer overflow-hidden border border-gray-100 hover:border-blue-300 group\",\n    children: [listing.photos && listing.photos.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative bg-gray-200 aspect-video overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: listing.photos[0],\n        alt: \"Room\",\n        className: \"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 skeleton\",\n        onLoad: e => e.target.classList.remove('skeleton')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1682,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-3 right-3 flex gap-2\",\n        children: [listing.photos.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-black bg-opacity-60 text-white px-2 py-1 rounded-md text-xs font-semibold\",\n          children: [listing.photos.length, \" \\uD83D\\uDCF8\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1690,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `px-2 py-1 rounded-md text-xs font-semibold ${listing.status === 'available' ? 'bg-green-500 text-white' : 'bg-gray-700 text-white'}`,\n          children: listing.status === 'available' ? 'Available' : 'Rented'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1695,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1688,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 bg-black opacity-0 group-hover:opacity-5 transition-opacity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1703,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1681,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-br from-gray-200 to-gray-300 aspect-video flex items-center justify-center relative\",\n      children: [/*#__PURE__*/_jsxDEV(Home, {\n        className: \"w-12 h-12 text-gray-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1707,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `absolute top-3 right-3 px-2 py-1 rounded-md text-xs font-semibold ${listing.status === 'available' ? 'bg-green-500 text-white' : 'bg-gray-700 text-white'}`,\n        children: listing.status === 'available' ? 'Available' : 'Rented'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1709,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1706,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold text-lg text-gray-800 group-hover:text-blue-600 transition mb-1 line-clamp-2\",\n          children: listing.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1723,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600 font-bold text-xl\",\n          children: [\"R\", listing.price.toLocaleString(), \"/month\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1726,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1722,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center text-gray-600 text-sm mb-3 pb-3 border-b border-gray-100\",\n        children: [/*#__PURE__*/_jsxDEV(MapPin, {\n          className: \"w-4 h-4 mr-2 text-blue-500 flex-shrink-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1731,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"truncate\",\n          children: listing.location\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1732,\n          columnNumber: 11\n        }, this), typeof listing.__distanceKm === 'number' && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-2 text-xs text-gray-500\",\n          children: [\"\\u2022 \", listing.__distanceKm.toFixed(1), \" km\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1734,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1730,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 text-sm line-clamp-2 mb-3\",\n        children: listing.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1739,\n        columnNumber: 9\n      }, this), listing.amenities && listing.amenities.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-1 mb-4\",\n        children: [listing.amenities.slice(0, 3).map((amenity, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inline-block bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded-full font-medium\",\n          children: amenity\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1747,\n          columnNumber: 15\n        }, this)), listing.amenities.length > 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inline-block bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full font-medium\",\n          children: [\"+\", listing.amenities.length - 3]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1752,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1745,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-semibold text-sm transition\",\n        children: \"View Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1760,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1720,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1675,\n    columnNumber: 5\n  }, this);\n}\n_c7 = ListingCard;\nfunction AddListingView({\n  onSubmit,\n  onCancel,\n  currentUser,\n  userType,\n  onRequireAuth,\n  onRequireOnboarding\n}) {\n  _s7();\n  var _s6 = $RefreshSig$();\n  const GEOCODER_KEY = process.env.REACT_APP_GEOCODER_API_KEY;\n  const GEOCODER_PROVIDER = (process.env.REACT_APP_GEOCODER_PROVIDER || '').toLowerCase();\n  const [formData, setFormData] = useState({\n    title: '',\n    price: '',\n    location: '',\n    streetAddress: '',\n    description: '',\n    photos: [],\n    status: 'available',\n    availableDate: new Date().toISOString().split('T')[0],\n    amenities: [],\n    latitude: null,\n    longitude: null\n  });\n  const [geocodingStatus, setGecodingStatus] = useState('');\n  const [errors, setErrors] = useState({});\n  const availableAmenities = ['WiFi', 'Parking', 'Kitchen', 'Laundry', 'Air Conditioning', 'Heating', 'TV', 'Furnished', 'Pet Friendly', 'Garden'];\n  const validateField = (name, value) => {\n    const newErrors = {\n      ...errors\n    };\n    switch (name) {\n      case 'title':\n        if (!value || value.trim().length < 5) {\n          newErrors.title = 'Title must be at least 5 characters';\n        } else {\n          delete newErrors.title;\n        }\n        break;\n      case 'price':\n        if (!value || parseFloat(value) <= 0) {\n          newErrors.price = 'Price must be greater than 0';\n        } else if (parseFloat(value) < 500) {\n          newErrors.price = 'Price seems too low (minimum R500)';\n        } else if (parseFloat(value) > 50000) {\n          newErrors.price = 'Price seems too high (maximum R50,000)';\n        } else {\n          delete newErrors.price;\n        }\n        break;\n      case 'location':\n        if (!value || value.trim().length < 3) {\n          newErrors.location = 'Location is required (min 3 characters)';\n        } else {\n          delete newErrors.location;\n        }\n        break;\n      case 'description':\n        if (value && value.length > 500) {\n          newErrors.description = 'Description is too long (max 500 characters)';\n        } else {\n          delete newErrors.description;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n\n  // Geocode address using Nominatim (OpenStreetMap)\n  // Use browser geolocation and reverse-geocode to fill address/coords\n  const geolocateCurrentPosition = () => {\n    if (!navigator.geolocation) {\n      setGecodingStatus('Geolocation not supported by your browser');\n      return;\n    }\n    setGecodingStatus('Locating...');\n    navigator.geolocation.getCurrentPosition(async pos => {\n      const lat = pos.coords.latitude;\n      const lon = pos.coords.longitude;\n      setFormData({\n        ...formData,\n        latitude: lat,\n        longitude: lon\n      });\n\n      // Reverse geocode to get a readable address\n      try {\n        if (GEOCODER_PROVIDER === 'mapbox' && GEOCODER_KEY) {\n          const rev = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${lon},${lat}.json?access_token=${GEOCODER_KEY}&limit=1&country=za`);\n          const revData = await rev.json();\n          if (revData && revData.features && revData.features.length > 0) {\n            const place = revData.features[0].place_name || '';\n            const parts = place.split(',').map(p => p.trim());\n            const street = parts.slice(0, 2).join(', ');\n            const area = parts.slice(2, 4).join(', ');\n            setFormData(prev => ({\n              ...prev,\n              streetAddress: street || prev.streetAddress,\n              location: area || prev.location\n            }));\n            setGecodingStatus(' Current location set');\n            setTimeout(() => setGecodingStatus(''), 2500);\n            return;\n          }\n        } else {\n          const rev = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`);\n          const revData = await rev.json();\n          if (revData) {\n            const display = revData.display_name || '';\n            // Try to split display name into street and area\n            const parts = display.split(',').map(p => p.trim());\n            const street = parts.slice(0, 2).join(', ');\n            const area = parts.slice(2, 4).join(', ');\n            setFormData(prev => ({\n              ...prev,\n              streetAddress: street || prev.streetAddress,\n              location: area || prev.location\n            }));\n            setGecodingStatus(' Current location set');\n            setTimeout(() => setGecodingStatus(''), 2500);\n            return;\n          }\n        }\n      } catch (e) {\n        console.error('Reverse geocode failed', e);\n      }\n      setGecodingStatus(' Coordinates obtained');\n      setTimeout(() => setGecodingStatus(''), 2000);\n    }, err => {\n      console.error('Geolocation error', err);\n      setGecodingStatus('Could not get your location');\n    }, {\n      enableHighAccuracy: true,\n      timeout: 10000\n    });\n  };\n  const geocodeAddress = async () => {\n    if (!formData.streetAddress) {\n      setGecodingStatus('Please enter a street address');\n      return;\n    }\n    setGecodingStatus('Finding coordinates...');\n    try {\n      const fullAddress = `${formData.streetAddress}, ${formData.location}, South Africa`;\n      // Try Mapbox if configured\n      if (GEOCODER_PROVIDER === 'mapbox' && GEOCODER_KEY) {\n        try {\n          const resp = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(fullAddress)}.json?access_token=${GEOCODER_KEY}&limit=1&country=za`);\n          const data = await resp.json();\n          if (data && data.features && data.features.length > 0) {\n            const [lon, lat] = data.features[0].center || [];\n            setFormData({\n              ...formData,\n              latitude: parseFloat(lat),\n              longitude: parseFloat(lon)\n            });\n            setGecodingStatus(' Address found (Mapbox)!');\n            setTimeout(() => setGecodingStatus(''), 2000);\n            return;\n          }\n        } catch (err) {\n          console.warn('Mapbox geocoding failed, falling back to Nominatim', err);\n        }\n      }\n\n      // Default / fallback: Nominatim\n      const response = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(fullAddress)}`);\n      const results = await response.json();\n      if (results.length > 0) {\n        const {\n          lat,\n          lon\n        } = results[0];\n        setFormData({\n          ...formData,\n          latitude: parseFloat(lat),\n          longitude: parseFloat(lon)\n        });\n        setGecodingStatus(' Address found!');\n        setTimeout(() => setGecodingStatus(''), 2000);\n      } else {\n        setGecodingStatus('Address not found. Trying with area only...');\n        // Fallback: just use the area/city\n        const areaResponse = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(formData.location + ', South Africa')}`);\n        const areaResults = await areaResponse.json();\n        if (areaResults.length > 0) {\n          const {\n            lat,\n            lon\n          } = areaResults[0];\n          setFormData({\n            ...formData,\n            latitude: parseFloat(lat),\n            longitude: parseFloat(lon)\n          });\n          setGecodingStatus(' Area found!');\n          setTimeout(() => setGecodingStatus(''), 2000);\n        } else {\n          setGecodingStatus('Could not find location');\n        }\n      }\n    } catch (error) {\n      console.error('Geocoding error:', error);\n      setGecodingStatus('Error finding address. Check your connection.');\n    }\n  };\n\n  // Draggable preview marker component for Add Listing\n  function DraggablePreview({\n    lat,\n    lng\n  }) {\n    _s6();\n    const [pos, setPos] = useState(lat && lng ? [lat, lng] : null);\n    useEffect(() => {\n      if (lat && lng) setPos([lat, lng]);\n    }, [lat, lng]);\n    if (!pos) return null;\n    return /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: pos,\n      zoom: 15,\n      className: \"w-full h-48 rounded-lg\",\n      whenCreated: () => {},\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1970,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Marker, {\n        position: pos,\n        draggable: true,\n        eventHandlers: {\n          dragend: e => {\n            const ll = e.target.getLatLng();\n            setPos([ll.lat, ll.lng]);\n            setFormData(prev => ({\n              ...prev,\n              latitude: ll.lat,\n              longitude: ll.lng\n            }));\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1971,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1969,\n      columnNumber: 7\n    }, this);\n  }\n  _s6(DraggablePreview, \"SDl6jF453+K8vrXJIuE2WAgzv1g=\");\n  const toggleAmenity = amenity => {\n    if (formData.amenities.includes(amenity)) {\n      setFormData({\n        ...formData,\n        amenities: formData.amenities.filter(a => a !== amenity)\n      });\n    } else {\n      setFormData({\n        ...formData,\n        amenities: [...formData.amenities, amenity]\n      });\n    }\n  };\n  const handlePhotoUpload = e => {\n    const files = Array.from(e.target.files || []);\n    if (files.length === 0) return;\n    const readers = files.map(file => new Promise(resolve => {\n      const reader = new FileReader();\n      reader.onloadend = () => resolve(reader.result);\n      reader.readAsDataURL(file);\n    }));\n    Promise.all(readers).then(images => {\n      const combined = [...formData.photos, ...images].slice(0, 5); // cap at 5\n      setFormData({\n        ...formData,\n        photos: combined\n      });\n    });\n  };\n  const removePhoto = index => {\n    const newPhotos = formData.photos.filter((_, i) => i !== index);\n    setFormData({\n      ...formData,\n      photos: newPhotos\n    });\n  };\n  const handleSubmit = () => {\n    // Enforce auth and onboarding checks before allowing submission\n    if (!currentUser) {\n      onRequireAuth && onRequireAuth('landlord');\n      return;\n    }\n    if (userType !== 'landlord') {\n      // prompt to become landlord\n      onRequireAuth && onRequireAuth('landlord');\n      return;\n    }\n    if (!currentUser.landlordComplete) {\n      // send to onboarding\n      onRequireOnboarding && onRequireOnboarding();\n      return;\n    }\n\n    // Validate all fields\n    validateField('title', formData.title);\n    validateField('price', formData.price);\n    validateField('location', formData.location);\n    validateField('description', formData.description);\n    if (!formData.title || formData.title.trim().length < 5) {\n      setErrors(prev => ({\n        ...prev,\n        title: 'Title must be at least 5 characters'\n      }));\n      return;\n    }\n    if (!formData.price || parseFloat(formData.price) <= 0) {\n      setErrors(prev => ({\n        ...prev,\n        price: 'Price must be greater than 0'\n      }));\n      return;\n    }\n    if (!formData.location || formData.location.trim().length < 3) {\n      setErrors(prev => ({\n        ...prev,\n        location: 'Location is required'\n      }));\n      return;\n    }\n    if (Object.keys(errors).length > 0) {\n      return;\n    }\n    onSubmit(formData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 bg-gray-50 min-h-screen pb-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl mx-auto mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-bold text-gray-800\",\n            children: \"Post a Room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2062,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onCancel,\n            className: \"text-gray-400 hover:text-gray-600 transition\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2064,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2063,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2061,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Room Title *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2071,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              required: true,\n              value: formData.title,\n              onChange: e => {\n                setFormData({\n                  ...formData,\n                  title: e.target.value\n                });\n                validateField('title', e.target.value);\n              },\n              onBlur: e => validateField('title', e.target.value),\n              placeholder: \"e.g., Cozy backroom with bathroom\",\n              className: `w-full px-4 py-3 border ${errors.title ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.title ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2072,\n              columnNumber: 15\n            }, this), errors.title && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-1\",\n              children: errors.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2084,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2070,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Monthly Price (R) *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2089,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              required: true,\n              value: formData.price,\n              onChange: e => {\n                setFormData({\n                  ...formData,\n                  price: e.target.value\n                });\n                validateField('price', e.target.value);\n              },\n              onBlur: e => validateField('price', e.target.value),\n              placeholder: \"e.g., 2500\",\n              className: `w-full px-4 py-3 border ${errors.price ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.price ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2090,\n              columnNumber: 15\n            }, this), errors.price && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-1\",\n              children: errors.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2102,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2088,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Area / City *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2108,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                required: true,\n                value: formData.location,\n                onChange: e => {\n                  setFormData({\n                    ...formData,\n                    location: e.target.value\n                  });\n                  validateField('location', e.target.value);\n                },\n                onBlur: e => validateField('location', e.target.value),\n                placeholder: \"e.g., Soweto, Johannesburg\",\n                className: `w-full px-4 py-3 border ${errors.location ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.location ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2109,\n                columnNumber: 17\n              }, this), errors.location && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-xs mt-1\",\n                children: errors.location\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2121,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Street Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2125,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: formData.streetAddress,\n                onChange: e => setFormData({\n                  ...formData,\n                  streetAddress: e.target.value\n                }),\n                placeholder: \"e.g., 123 Main Street\",\n                className: \"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2126,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2124,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 border-2 border-blue-200 rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start gap-3 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                className: \"w-6 h-6 text-blue-600 flex-shrink-0 mt-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2139,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-1\",\n                  children: \"Set Location on Map\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2141,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Help renters find your listing by pinpointing its exact location.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2142,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2140,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-3 items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: geocodeAddress,\n                className: \"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg text-sm font-semibold transition shadow-sm flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2152,\n                  columnNumber: 19\n                }, this), \"Find on Map\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2147,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: geolocateCurrentPosition,\n                className: \"bg-white hover:bg-gray-50 border-2 border-gray-300 text-gray-800 px-6 py-3 rounded-lg text-sm font-semibold transition shadow-sm flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2161,\n                  columnNumber: 19\n                }, this), \"Use Current Location\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2156,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm flex-1\",\n                children: [geocodingStatus && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `${geocodingStatus.startsWith('') ? 'text-green-600 font-semibold' : 'text-gray-700'} flex items-center gap-1`,\n                  children: [geocodingStatus.startsWith('') && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2168,\n                    columnNumber: 59\n                  }, this), geocodingStatus]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2167,\n                  columnNumber: 21\n                }, this), formData.latitude && formData.longitude && !geocodingStatus && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-600 font-semibold flex items-center gap-1\",\n                  children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2174,\n                    columnNumber: 23\n                  }, this), \"Location set: \", formData.latitude.toFixed(4), \", \", formData.longitude.toFixed(4)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2173,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2165,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4\",\n              children: formData.latitude && formData.longitude ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                  children: \"Fine-tune Location (drag pin)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2185,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(DraggablePreview, {\n                  lat: formData.latitude,\n                  lng: formData.longitude\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2186,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2184,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600 bg-white border border-gray-200 rounded-lg p-4 text-center\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  className: \"w-8 h-8 mx-auto mb-2 text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2190,\n                  columnNumber: 21\n                }, this), \"No location set yet. Click \\\"Find on Map\\\" or \\\"Use Current Location\\\" to place a pin.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2189,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2182,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2200,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: formData.status,\n                onChange: e => setFormData({\n                  ...formData,\n                  status: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"available\",\n                  children: \"Available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2206,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"rented\",\n                  children: \"Rented\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2207,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2201,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2199,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-800 mb-2\",\n                children: \"Available Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2212,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: formData.availableDate,\n                onChange: e => setFormData({\n                  ...formData,\n                  availableDate: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2213,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2211,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: [\"Description\", formData.description && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `ml-2 text-xs ${formData.description.length > 500 ? 'text-red-500' : 'text-gray-500'}`,\n                children: [\"(\", formData.description.length, \"/500 characters)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2227,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: formData.description,\n              onChange: e => {\n                setFormData({\n                  ...formData,\n                  description: e.target.value\n                });\n                validateField('description', e.target.value);\n              },\n              onBlur: e => validateField('description', e.target.value),\n              placeholder: \"Describe the room, amenities, rules, and any other details...\",\n              rows: \"4\",\n              className: `w-full px-4 py-3 border ${errors.description ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.description ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2232,\n              columnNumber: 15\n            }, this), errors.description && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-1\",\n              children: errors.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2243,\n              columnNumber: 38\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-3\",\n              children: \"Amenities\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2248,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-3 gap-2\",\n              children: availableAmenities.map(amenity => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => toggleAmenity(amenity),\n                className: `px-4 py-2 rounded-lg text-sm font-medium transition ${formData.amenities.includes(amenity) ? 'bg-blue-600 text-white shadow-sm' : 'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'}`,\n                children: amenity\n              }, amenity, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2251,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2249,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2247,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-800 mb-2\",\n              children: \"Photos (Max 5)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2269,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              multiple: true,\n              onChange: handlePhotoUpload,\n              disabled: formData.photos.length >= 5,\n              className: \"w-full px-4 py-3 border border-gray-300 bg-white text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition cursor-pointer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2270,\n              columnNumber: 15\n            }, this), formData.photos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 grid grid-cols-2 md:grid-cols-3 gap-3\",\n              children: formData.photos.map((photo, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative group\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: photo,\n                  alt: `Preview ${index + 1}`,\n                  className: \"w-full h-32 object-cover rounded-lg border border-gray-200 shadow-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2282,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => removePhoto(index),\n                  className: \"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-lg opacity-0 group-hover:opacity-100 transition\",\n                  children: /*#__PURE__*/_jsxDEV(X, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2292,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2287,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2281,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2279,\n              columnNumber: 17\n            }, this), formData.photos.length >= 5 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mt-2\",\n              children: \"Maximum 5 photos reached\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2299,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t border-gray-200 pt-6\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubmit,\n              className: \"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition shadow-sm\",\n              children: \"Post Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2305,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2304,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2068,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2060,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2059,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2058,\n    columnNumber: 5\n  }, this);\n}\n_s7(AddListingView, \"V7UpxD9I7OfJUkXcZy77cod6KxM=\");\n_c8 = AddListingView;\nfunction MessagesView({\n  conversations,\n  listings,\n  userType,\n  onSelectConversation\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4 text-gray-800\",\n      children: \"Messages\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2322,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3\",\n      children: conversations.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-8 text-center text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n          className: \"w-16 h-16 mx-auto mb-4 text-gray-300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2326,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No messages yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2327,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2325,\n        columnNumber: 11\n      }, this) : conversations.map(conv => {\n        const listing = listings.find(l => l.id === conv.listingId);\n        const lastMessage = conv.messages[conv.messages.length - 1];\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => onSelectConversation(conv),\n          className: \"bg-white rounded-lg shadow p-4 cursor-pointer hover:shadow-lg transition\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start justify-between mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-800\",\n              children: (listing === null || listing === void 0 ? void 0 : listing.title) || 'Room'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2340,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: new Date(lastMessage.timestamp).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2341,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2339,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 line-clamp-2\",\n            children: lastMessage.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2345,\n            columnNumber: 17\n          }, this)]\n        }, conv.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2334,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2323,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2321,\n    columnNumber: 5\n  }, this);\n}\n_c9 = MessagesView;\nfunction MyListingsView({\n  listings,\n  onDelete\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4 text-gray-800\",\n      children: \"My Listings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2358,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: listings.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-8 text-center text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(Home, {\n          className: \"w-16 h-16 mx-auto mb-4 text-gray-300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2362,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You haven't posted any rooms yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2363,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2361,\n        columnNumber: 11\n      }, this) : listings.map(listing => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-4\",\n        children: [listing.photos && listing.photos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: listing.photos[0],\n            alt: \"Room\",\n            className: \"w-full h-32 object-cover rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2370,\n            columnNumber: 5\n          }, this), listing.photos.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-2 right-2 bg-black bg-opacity-60 text-white px-2 py-1 rounded text-xs\",\n            children: [listing.photos.length, \" photos\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2372,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2369,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold text-lg mb-1\",\n          children: listing.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2378,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-blue-600 font-bold mb-2\",\n          children: [\"R\", listing.price, \"/month\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2379,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center text-gray-600 text-sm mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            className: \"w-4 h-4 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2381,\n            columnNumber: 17\n          }, this), listing.location]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2380,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onDelete(listing.id),\n          className: \"w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg transition\",\n          children: \"Delete Listing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2384,\n          columnNumber: 15\n        }, this)]\n      }, listing.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2367,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2359,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2357,\n    columnNumber: 5\n  }, this);\n}\n_c0 = MyListingsView;\nfunction ListingDetailModal({\n  listing,\n  landlord,\n  onClose,\n  onSendMessage,\n  userType,\n  currentUser,\n  onRequireAuth\n}) {\n  _s8();\n  const [message, setMessage] = useState('');\n  const [showContact, setShowContact] = useState(false);\n  const [showGallery, setShowGallery] = useState(false);\n  const [currentPhotoIndex, setCurrentPhotoIndex] = useState(0);\n  const handleNavigate = (direction, index) => {\n    if (direction === 'next' && currentPhotoIndex < listing.photos.length - 1) {\n      setCurrentPhotoIndex(currentPhotoIndex + 1);\n    } else if (direction === 'prev' && currentPhotoIndex > 0) {\n      setCurrentPhotoIndex(currentPhotoIndex - 1);\n    } else if (direction === 'goto') {\n      setCurrentPhotoIndex(index);\n    }\n  };\n  const handleSend = () => {\n    if (message.trim() && userType === 'renter') {\n      onSendMessage(listing.id, message);\n      setMessage('');\n      alert('Message sent to landlord!');\n      onClose();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sticky top-0 bg-white border-b p-4 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-gray-800\",\n          children: \"Room Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2427,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-500 hover:text-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2429,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2428,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2426,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4\",\n        children: [listing.photos && listing.photos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative mb-4 cursor-pointer\",\n          onClick: () => setShowGallery(true),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: listing.photos[currentPhotoIndex],\n            alt: \"Room\",\n            className: \"w-full h-64 object-cover rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2436,\n            columnNumber: 5\n          }, this), listing.photos.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute bottom-3 right-3 bg-black bg-opacity-60 text-white px-3 py-1 rounded-full text-sm flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2439,\n              columnNumber: 9\n            }, this), \"View all \", listing.photos.length, \" photos\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2438,\n            columnNumber: 7\n          }, this), listing.photos.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute bottom-3 left-3 flex gap-1\",\n            children: listing.photos.map((_, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-2 h-2 rounded-full ${index === currentPhotoIndex ? 'bg-white' : 'bg-white bg-opacity-50'}`\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2446,\n              columnNumber: 11\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2444,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2435,\n          columnNumber: 3\n        }, this), showGallery && listing.photos && /*#__PURE__*/_jsxDEV(PhotoGallery, {\n          photos: listing.photos,\n          currentIndex: currentPhotoIndex,\n          onClose: () => setShowGallery(false),\n          onNavigate: handleNavigate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2459,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-2xl font-bold mb-2 text-gray-800\",\n          children: listing.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2467,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-blue-600 font-bold text-2xl mb-4\",\n          children: [\"R\", listing.price, \"/month\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2468,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center text-gray-600 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            className: \"w-5 h-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2471,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-lg\",\n            children: listing.location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2472,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2470,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 rounded-lg p-4 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold mb-2 text-gray-700\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2476,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: listing.description || 'No description provided.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2477,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2475,\n          columnNumber: 11\n        }, this), userType === 'renter' && landlord && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 rounded-lg p-4 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-gray-700\",\n              children: \"Landlord Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2483,\n              columnNumber: 17\n            }, this), currentUser ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowContact(!showContact),\n              className: \"text-blue-600 hover:text-blue-700 text-sm font-medium\",\n              children: [showContact ? 'Hide' : 'Show', \" Contact\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2485,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onRequireAuth && onRequireAuth('renter'),\n              className: \"text-blue-600 hover:text-blue-700 text-sm font-medium\",\n              children: \"Sign in to view contact\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2492,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2482,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-3\",\n            children: [landlord.photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: landlord.photo,\n              alt: landlord.name,\n              className: \"w-12 h-12 rounded-full object-cover mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2503,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center mr-3\",\n              children: /*#__PURE__*/_jsxDEV(User, {\n                className: \"w-6 h-6 text-gray-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2506,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2505,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800\",\n                children: landlord.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2510,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: \"Property Owner\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2511,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2509,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2501,\n            columnNumber: 15\n          }, this), currentUser && showContact && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 pt-3 border-t border-blue-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"w-4 h-4 mr-2 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2518,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `tel:${landlord.phone}`,\n                className: \"text-blue-600 hover:underline\",\n                children: landlord.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2519,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2517,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(Mail, {\n                className: \"w-4 h-4 mr-2 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2524,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `mailto:${landlord.email}`,\n                className: \"text-blue-600 hover:underline\",\n                children: landlord.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2525,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2523,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2516,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2481,\n          columnNumber: 13\n        }, this), userType === 'renter' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold mb-3 text-gray-700\",\n            children: \"Send a Message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2536,\n            columnNumber: 15\n          }, this), currentUser ? /*#__PURE__*/_jsxDEV(ListingInlineMessageBox, {\n            landlord: landlord,\n            listing: listing,\n            onSend: handleSend\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2538,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onRequireAuth && onRequireAuth('renter'),\n              className: \"w-full bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition\",\n              children: \"Sign in to message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2541,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2540,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2535,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2433,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2425,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2424,\n    columnNumber: 5\n  }, this);\n}\n\n// Inline message box component with validation for listing detail view\n_s8(ListingDetailModal, \"xiZpC0PFAZ5iaq3Ezon17QEvyLQ=\");\n_c1 = ListingDetailModal;\nfunction ListingInlineMessageBox({\n  landlord,\n  listing,\n  onSend\n}) {\n  _s9();\n  const [text, setText] = useState('');\n  const [error, setError] = useState('');\n  const validate = val => {\n    if (!val.trim()) {\n      setError('Message cannot be empty');\n      return false;\n    }\n    if (val.length > 500) {\n      setError('Message too long (max 500 characters)');\n      return false;\n    }\n    setError('');\n    return true;\n  };\n  const handleSend = () => {\n    if (validate(text)) {\n      onSend(listing.id, text.trim());\n      setText('');\n      setError('');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col gap-2\",\n    \"aria-label\": \"Send a message to landlord\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: text,\n        onChange: e => {\n          setText(e.target.value);\n          validate(e.target.value);\n        },\n        onKeyDown: e => {\n          if (e.key === 'Enter') {\n            e.preventDefault();\n            handleSend();\n          }\n        },\n        placeholder: `Message ${landlord ? landlord.name : 'landlord'}...`,\n        \"aria-invalid\": error ? 'true' : 'false',\n        \"aria-describedby\": error ? 'inline-message-error' : undefined,\n        maxLength: 500,\n        className: `flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${error ? 'border-red-500' : 'border-gray-300'}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2586,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSend,\n        disabled: !!error || !text.trim(),\n        className: `px-6 py-2 rounded-lg transition flex items-center justify-center ${!error && text.trim() ? 'bg-blue-600 hover:bg-blue-700 text-white' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`,\n        \"aria-label\": \"Send message\",\n        children: /*#__PURE__*/_jsxDEV(Send, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2603,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2597,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2585,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      id: \"inline-message-error\",\n      className: \"text-xs text-red-600\",\n      \"aria-live\": \"polite\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2606,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2584,\n    columnNumber: 5\n  }, this);\n}\n_s9(ListingInlineMessageBox, \"GJ8BakR6dBgu531egyN1DFyGCCI=\");\n_c10 = ListingInlineMessageBox;\nfunction ConversationModal({\n  conversation,\n  listing,\n  onClose,\n  onSendMessage\n}) {\n  _s0();\n  const [message, setMessage] = useState('');\n  const [messageError, setMessageError] = useState('');\n  const validateMessage = val => {\n    if (!val.trim()) {\n      setMessageError('Message cannot be empty');\n      return false;\n    }\n    if (val.length > 500) {\n      setMessageError('Message too long (max 500 characters)');\n      return false;\n    }\n    setMessageError('');\n    return true;\n  };\n  const handleSend = () => {\n    if (validateMessage(message)) {\n      onSendMessage(listing.id, message.trim());\n      setMessage('');\n      setMessageError('');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white border-b p-4 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"mr-3 text-gray-500 hover:text-gray-700\",\n          \"aria-label\": \"Close conversation\",\n          children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2641,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2640,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"font-bold text-gray-800\",\n            children: listing === null || listing === void 0 ? void 0 : listing.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2644,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: listing === null || listing === void 0 ? void 0 : listing.location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2645,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2643,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2639,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-4 space-y-3\",\n        children: conversation.messages.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex ${msg.sender === 'landlord' ? 'justify-start' : 'justify-end'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `max-w-xs px-4 py-2 rounded-lg ${msg.sender === 'landlord' ? 'bg-gray-200 text-gray-800' : 'bg-blue-600 text-white'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: msg.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2662,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs opacity-75\",\n              children: new Date(msg.timestamp).toLocaleTimeString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2663,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2655,\n            columnNumber: 15\n          }, this)\n        }, msg.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2651,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2649,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t p-4 flex flex-col gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: message,\n            onChange: e => {\n              setMessage(e.target.value);\n              validateMessage(e.target.value);\n            },\n            onKeyDown: e => {\n              if (e.key === 'Enter') {\n                e.preventDefault();\n                handleSend();\n              }\n            },\n            placeholder: \"Type a message...\",\n            \"aria-invalid\": messageError ? 'true' : 'false',\n            \"aria-describedby\": messageError ? 'conversation-message-error' : undefined,\n            maxLength: 500,\n            className: `flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${messageError ? 'border-red-500' : 'border-gray-300'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2673,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSend,\n            disabled: !!messageError || !message.trim(),\n            className: `px-6 py-2 rounded-lg transition flex items-center justify-center ${!messageError && message.trim() ? 'bg-blue-600 hover:bg-blue-700 text-white' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`,\n            \"aria-label\": \"Send message\",\n            children: /*#__PURE__*/_jsxDEV(Send, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2690,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2684,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2672,\n          columnNumber: 11\n        }, this), messageError && /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"conversation-message-error\",\n          className: \"text-xs text-red-600\",\n          \"aria-live\": \"polite\",\n          children: messageError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2693,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2671,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2638,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2637,\n    columnNumber: 5\n  }, this);\n}\n_s0(ConversationModal, \"jjDhTLQSQFCanHhXB7fW82MOfvA=\");\n_c11 = ConversationModal;\nfunction AuthModal({\n  defaultType = 'renter',\n  onClose,\n  onSubmit\n}) {\n  _s1();\n  const [form, setForm] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    type: defaultType,\n    photo: ''\n  });\n  const handleSubmit = () => {\n    if (!form.name || !form.email) {\n      alert('Please add a name and email');\n      return;\n    }\n    onSubmit(form);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg w-full max-w-md p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-bold\",\n          children: \"Sign in / Create account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2715,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-400 hover:text-gray-600\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2716,\n            columnNumber: 83\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2716,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2714,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-1\",\n            children: \"Full name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2721,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: form.name,\n            onChange: e => setForm({\n              ...form,\n              name: e.target.value\n            }),\n            className: \"w-full px-3 py-2 border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2722,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2720,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-1\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2726,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: form.email,\n            onChange: e => setForm({\n              ...form,\n              email: e.target.value\n            }),\n            className: \"w-full px-3 py-2 border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2727,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2725,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-1\",\n            children: \"Phone (optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2731,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            value: form.phone,\n            onChange: e => setForm({\n              ...form,\n              phone: e.target.value\n            }),\n            className: \"w-full px-3 py-2 border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2732,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2730,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-1\",\n            children: \"I am a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2736,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: form.type,\n            onChange: e => setForm({\n              ...form,\n              type: e.target.value\n            }),\n            className: \"w-full px-3 py-2 border rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"renter\",\n              children: \"Looking for a room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2738,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"landlord\",\n              children: \"Listing rooms\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2739,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2737,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2735,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-3 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"flex-1 bg-gray-100 hover:bg-gray-200 py-2 rounded\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2744,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            className: \"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded\",\n            children: \"Continue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2745,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2743,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2719,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2713,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2712,\n    columnNumber: 5\n  }, this);\n}\n_s1(AuthModal, \"KSXT3UZrHuGXthkX1NrI+EZFyAk=\");\n_c12 = AuthModal;\nfunction LocationConsentModal({\n  onAccept,\n  onDecline\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg max-w-md w-full p-6 shadow-xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(MapPin, {\n          className: \"w-8 h-8 text-blue-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2758,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-gray-800\",\n          children: \"Location Access\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2759,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2757,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-4\",\n        children: \"Room24 would like to access your location to show nearby rental listings. Your location data:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2762,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"text-sm text-gray-600 mb-6 space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-start gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-600 mt-0.5\",\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2768,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Is only used to calculate distances to listings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2769,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2767,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-start gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-600 mt-0.5\",\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2772,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Is not stored on our servers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2773,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2771,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-start gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-600 mt-0.5\",\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2776,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Is not shared with third parties\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2777,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2775,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2766,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onDecline,\n          className: \"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 rounded-lg transition\",\n          children: \"Not Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2782,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onAccept,\n          className: \"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition\",\n          children: \"Allow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2788,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2781,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mt-4 text-center\",\n        children: \"You can change this permission anytime in your browser settings.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2796,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2756,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2755,\n    columnNumber: 5\n  }, this);\n}\n_c13 = LocationConsentModal;\nfunction PhotoGallery({\n  photos,\n  currentIndex,\n  onClose,\n  onNavigate\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black z-50 flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center p-4 text-white\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-sm\",\n        children: [currentIndex + 1, \" / \", photos.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2808,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"hover:bg-gray-800 p-2 rounded-full\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          className: \"w-6 h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2810,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2809,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2807,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex items-center justify-center relative\",\n      children: [currentIndex > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onNavigate('prev'),\n        className: \"absolute left-4 bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-70 z-10\",\n        children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n          className: \"w-6 h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2820,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2816,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: photos[currentIndex],\n        alt: \"\",\n        className: \"max-w-full max-h-full object-contain\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2824,\n        columnNumber: 9\n      }, this), currentIndex < photos.length - 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onNavigate('next'),\n        className: \"absolute right-4 bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-70 z-10\",\n        children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n          className: \"w-6 h-6 transform rotate-180\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2835,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2831,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2814,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 flex gap-2 overflow-x-auto\",\n      children: photos.map((photo, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n        src: photo,\n        alt: `Thumbnail ${index + 1}`,\n        onClick: () => onNavigate('goto', index),\n        className: `w-16 h-16 object-cover rounded cursor-pointer ${index === currentIndex ? 'ring-2 ring-blue-500' : 'opacity-60'}`\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2842,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2840,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2806,\n    columnNumber: 5\n  }, this);\n}\n_c14 = PhotoGallery;\nfunction BottomNav({\n  currentView,\n  setCurrentView,\n  userType,\n  messageCount\n}) {\n  const navItems = [{\n    id: 'browse',\n    label: 'Browse',\n    icon: Search,\n    show: true\n  }, {\n    id: 'messages',\n    label: 'Messages',\n    icon: MessageSquare,\n    badge: messageCount,\n    show: true\n  }, {\n    id: 'add',\n    label: 'List Room',\n    icon: PlusCircle,\n    show: userType === 'landlord'\n  }, {\n    id: 'my-listings',\n    label: 'My Rooms',\n    icon: Home,\n    show: userType === 'landlord'\n  }, {\n    id: 'profile',\n    label: 'Profile',\n    icon: User,\n    show: true\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-2xl\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto flex justify-around\",\n      children: navItems.filter(item => item.show).map(item => {\n        const Icon = item.icon;\n        const isActive = currentView === item.id || item.id === 'profile' && currentView === 'edit-profile';\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentView(item.id),\n          className: `flex-1 flex flex-col items-center justify-center py-3 px-2 transition relative border-t-2 ${isActive ? 'border-blue-600 text-blue-600 bg-blue-50' : 'border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2888,\n              columnNumber: 19\n            }, this), item.badge && item.badge > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold\",\n              children: item.badge > 99 ? '99+' : item.badge\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2890,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2887,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs mt-1 font-medium\",\n            children: item.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2895,\n            columnNumber: 17\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2878,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2870,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2869,\n    columnNumber: 5\n  }, this);\n}\n_c15 = BottomNav;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15;\n$RefreshReg$(_c, \"RentalPlatform\");\n$RefreshReg$(_c2, \"ProfileSetupView\");\n$RefreshReg$(_c3, \"ProfileView\");\n$RefreshReg$(_c4, \"LandlordOnboardingView\");\n$RefreshReg$(_c5, \"EditProfileView\");\n$RefreshReg$(_c6, \"BrowseView\");\n$RefreshReg$(_c7, \"ListingCard\");\n$RefreshReg$(_c8, \"AddListingView\");\n$RefreshReg$(_c9, \"MessagesView\");\n$RefreshReg$(_c0, \"MyListingsView\");\n$RefreshReg$(_c1, \"ListingDetailModal\");\n$RefreshReg$(_c10, \"ListingInlineMessageBox\");\n$RefreshReg$(_c11, \"ConversationModal\");\n$RefreshReg$(_c12, \"AuthModal\");\n$RefreshReg$(_c13, \"LocationConsentModal\");\n$RefreshReg$(_c14, \"PhotoGallery\");\n$RefreshReg$(_c15, \"BottomNav\");","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","Marker","Home","MessageSquare","PlusCircle","Search","MapPin","X","Send","ArrowLeft","User","Phone","Mail","Edit","Menu","CheckCircle","MapView","jsxDEV","_jsxDEV","Fragment","_Fragment","RentalPlatform","_s","currentView","setCurrentView","mapView","setMapView","userType","setUserType","listings","setListings","conversations","setConversations","selectedListing","setSelectedListing","selectedConversation","setSelectedConversation","searchLocation","setSearchLocation","priceRange","setPriceRange","selectedAmenities","setSelectedAmenities","sortBy","setSortBy","currentUser","setCurrentUser","showAuthModal","setShowAuthModal","authDefaultType","setAuthDefaultType","nearbyMode","setNearbyMode","nearbyRadius","setNearbyRadius","userLocation","setUserLocation","nearbyStatus","setNearbyStatus","showLocationConsent","setShowLocationConsent","showMobileMenu","setShowMobileMenu","toast","setToast","openAuthModal","type","loadData","landlordComplete","listingsResult","localStorage","getItem","conversationsResult","userResult","JSON","parse","user","error","console","log","sampleListings","id","title","price","location","description","photos","status","availableDate","Date","toISOString","amenities","landlordId","landlordName","landlordPhone","landlordEmail","landlordPhoto","createdAt","haversineDistance","lat1","lon1","lat2","lon2","toRad","v","Math","PI","R","dLat","dLon","a","sin","cos","c","atan2","sqrt","handleFindNearby","navigator","geolocation","handleLocationConsentAccept","getCurrentPosition","pos","lat","coords","latitude","lon","longitude","setTimeout","err","enableHighAccuracy","timeout","clearNearby","showToast","message","saveListings","newListings","setItem","stringify","saveConversations","newConversations","saveSubscriptions","subscriptions","getSubscriptions","res","subscribeToArea","userId","area","trim","alert","subs","includes","push","handleProfileSetup","profileData","now","handleUpdateProfile","updatedUser","handleQuickAuth","name","phone","email","photo","handleSignOut","removeItem","e","warn","handleCompleteOnboarding","onboardData","updated","landlordInfo","handleAddListing","listingData","_listingData$latitude","_listingData$longitud","newListing","updatedListings","window","scrollTo","top","behavior","handleSendMessage","listingId","conversationId","existingConv","find","newMessage","sender","text","timestamp","updatedConversations","map","messages","newConv","renterId","filteredListings","listing","d","__distanceKm","filter","matchesLocation","toLowerCase","parseFloat","matchesPrice","matchesAmenities","length","every","amenity","_listing$amenities","passesNearby","_listing$__distanceKm","sort","b","_a$__distanceKm","_b$__distanceKm","da","Infinity","db","userConversations","conv","l","className","children","href","style","clipPath","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","onClick","charAt","role","ProfileSetupView","onSubmit","ProfileView","onEdit","EditProfileView","onCancel","LandlordOnboardingView","onComplete","BrowseView","onSelectListing","onRequireAuth","onFindNearby","MessagesView","onSelectConversation","AddListingView","onRequireOnboarding","MyListingsView","onDelete","ListingDetailModal","landlord","onClose","onSendMessage","ConversationModal","conversation","AuthModal","defaultType","BottomNav","messageCount","LocationConsentModal","onAccept","onDecline","getFullYear","_c","_s2","formData","setFormData","errors","setErrors","touched","setTouched","validateField","value","newErrors","test","handlePhotoUpload","file","target","files","size","reader","FileReader","onloadend","result","readAsDataURL","handleSubmit","allTouched","Object","keys","src","alt","accept","onChange","required","onBlur","placeholder","undefined","_c2","toLocaleDateString","_c3","_s3","form","setForm","businessName","bankDetails","idNumber","agree","checked","preventDefault","_c4","_s4","_c5","_s5","showAdvancedFilters","setShowAdvancedFilters","isDesktop","setIsDesktop","innerWidth","handleResize","addEventListener","removeEventListener","desktopNavItems","label","icon","show","renderFiltersBox","toLocaleString","parseInt","i","item","Icon","isActive","ListingCard","onMarkerClick","fullHeight","_c6","onLoad","classList","remove","toFixed","slice","index","_c7","_s7","_s6","$RefreshSig$","GEOCODER_KEY","process","env","REACT_APP_GEOCODER_API_KEY","GEOCODER_PROVIDER","REACT_APP_GEOCODER_PROVIDER","streetAddress","split","geocodingStatus","setGecodingStatus","availableAmenities","geolocateCurrentPosition","rev","fetch","revData","json","features","place","place_name","parts","p","street","join","prev","display","display_name","geocodeAddress","fullAddress","resp","encodeURIComponent","data","center","response","results","areaResponse","areaResults","DraggablePreview","lng","setPos","zoom","whenCreated","url","position","draggable","eventHandlers","dragend","ll","getLatLng","toggleAmenity","Array","from","readers","Promise","resolve","all","then","images","combined","removePhoto","newPhotos","_","startsWith","rows","multiple","disabled","_c8","lastMessage","_c9","_c0","_s8","setMessage","showContact","setShowContact","showGallery","setShowGallery","currentPhotoIndex","setCurrentPhotoIndex","handleNavigate","direction","handleSend","PhotoGallery","currentIndex","onNavigate","ListingInlineMessageBox","onSend","_c1","_s9","setText","setError","validate","val","onKeyDown","key","maxLength","_c10","_s0","messageError","setMessageError","validateMessage","msg","toLocaleTimeString","_c11","_s1","_c12","_c13","_c14","navItems","badge","_c15","$RefreshReg$"],"sources":["C:/Users/kutum/Documents/room-rental-platform/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker } from 'react-leaflet';\nimport { Home, MessageSquare, PlusCircle, Search, MapPin, X, Send, ArrowLeft, User, Phone, Mail, Edit, Menu, CheckCircle } from 'lucide-react';\nimport MapView from './MapView';\nexport default function RentalPlatform() {\n  const [currentView, setCurrentView] = useState('browse');\n  const [mapView, setMapView] = useState(false);\n  const [userType, setUserType] = useState(null);\n  const [listings, setListings] = useState([]);\n  const [conversations, setConversations] = useState([]);\n  const [selectedListing, setSelectedListing] = useState(null);\n  const [selectedConversation, setSelectedConversation] = useState(null);\n  const [searchLocation, setSearchLocation] = useState('');\n  const [priceRange, setPriceRange] = useState([0, 10000]);\n  const [selectedAmenities, setSelectedAmenities] = useState([]);\n  const [sortBy, setSortBy] = useState('newest');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [showAuthModal, setShowAuthModal] = useState(false);\n  const [authDefaultType, setAuthDefaultType] = useState('renter');\n  const [nearbyMode, setNearbyMode] = useState(false);\n  const [nearbyRadius, setNearbyRadius] = useState(5); // km\n  const [userLocation, setUserLocation] = useState(null);\n  const [nearbyStatus, setNearbyStatus] = useState('');\n  const [showLocationConsent, setShowLocationConsent] = useState(false);\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\n  const [toast, setToast] = useState(null);\n\n  const openAuthModal = (type = 'renter') => {\n    setAuthDefaultType(type);\n    setShowAuthModal(true);\n  };\n  \n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  // Guard: if someone navigates to 'add' without landlord auth, prompt to sign in\n  useEffect(() => {\n    if (currentView === 'add') {\n      if (!currentUser) {\n        openAuthModal('landlord');\n        setCurrentView('browse');\n      } else if (userType !== 'landlord') {\n        // Not a landlord - prompt to become one\n        openAuthModal('landlord');\n        setCurrentView('browse');\n      } else if (!currentUser.landlordComplete) {\n        // Landlord but hasn't completed onboarding\n        setCurrentView('landlord-onboarding');\n      }\n    }\n  }, [currentView, currentUser, userType]);\n\n  const loadData = async () => {\n    try {\n      const listingsResult = localStorage.getItem('listings');\n      const conversationsResult = localStorage.getItem('conversations');\n      const userResult = localStorage.getItem('current-user');\n      \n      if (listingsResult) setListings(JSON.parse(listingsResult));\n      if (conversationsResult) setConversations(JSON.parse(conversationsResult));\n      if (userResult) {\n        const user = JSON.parse(userResult);\n        setCurrentUser(user);\n        setUserType(user.type);\n      }\n    } catch (error) {\n      console.log('No existing data found, starting fresh');\n      // Add sample listings for testing the map\n      const sampleListings = [\n        {\n          id: 'listing-1',\n          title: 'Cozy Room in Soweto',\n          price: 2500,\n          location: 'Soweto, Johannesburg',\n          description: 'Comfortable room with bathroom and kitchen access',\n          photos: [],\n          status: 'available',\n          availableDate: new Date().toISOString(),\n          amenities: ['WiFi', 'Kitchen'],\n          landlordId: 'landlord-1',\n          landlordName: 'John Smith',\n          landlordPhone: '+27 123 456 7890',\n          landlordEmail: 'john@example.com',\n          landlordPhoto: '',\n          createdAt: new Date().toISOString()\n        },\n        {\n          id: 'listing-2',\n          title: 'Modern Apartment in Sandton',\n          price: 4500,\n          location: 'Sandton, Johannesburg',\n          description: 'Luxurious apartment with parking and security',\n          photos: [],\n          status: 'available',\n          availableDate: new Date().toISOString(),\n          amenities: ['WiFi', 'Parking', 'Air Conditioning'],\n          landlordId: 'landlord-2',\n          landlordName: 'Jane Doe',\n          landlordPhone: '+27 987 654 3210',\n          landlordEmail: 'jane@example.com',\n          landlordPhoto: '',\n          createdAt: new Date().toISOString()\n        },\n        {\n          id: 'listing-3',\n          title: 'Studio in Midrand',\n          price: 3200,\n          location: 'Midrand, Johannesburg',\n          description: 'Spacious studio flat with laundry facilities',\n          photos: [],\n          status: 'available',\n          availableDate: new Date().toISOString(),\n          amenities: ['Laundry', 'WiFi'],\n          landlordId: 'landlord-3',\n          landlordName: 'Mike Johnson',\n          landlordPhone: '+27 555 555 5555',\n          landlordEmail: 'mike@example.com',\n          landlordPhoto: '',\n          createdAt: new Date().toISOString()\n        }\n      ];\n      setListings(sampleListings);\n    }\n  };\n\n  // Haversine formula to compute distance in kilometers between two coords\n  const haversineDistance = (lat1, lon1, lat2, lon2) => {\n    const toRad = (v) => (v * Math.PI) / 180;\n    const R = 6371; // km\n    const dLat = toRad(lat2 - lat1);\n    const dLon = toRad(lon2 - lon1);\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  };\n\n  const handleFindNearby = () => {\n    if (!navigator.geolocation) {\n      setNearbyStatus('Geolocation not supported');\n      return;\n    }\n    // Show consent modal before accessing location\n    setShowLocationConsent(true);\n  };\n\n  const handleLocationConsentAccept = () => {\n    setShowLocationConsent(false);\n    setNearbyStatus('Locating...');\n    navigator.geolocation.getCurrentPosition((pos) => {\n      const lat = pos.coords.latitude;\n      const lon = pos.coords.longitude;\n      setUserLocation({ lat, lon });\n      setNearbyMode(true);\n      setNearbyStatus('Nearby mode enabled');\n      setTimeout(() => setNearbyStatus(''), 2000);\n    }, (err) => {\n      console.error('Geolocation error', err);\n      setNearbyStatus('Could not get location');\n    }, { enableHighAccuracy: true, timeout: 10000 });\n  };\n\n  const clearNearby = () => {\n    setNearbyMode(false);\n    setUserLocation(null);\n    setNearbyStatus('');\n  };\n\n  // Toast notification helper\n  const showToast = (message, type = 'info', title = '') => {\n    setToast({ message, type, title });\n    setTimeout(() => setToast(null), 5000);\n  };\n\n  const saveListings = async (newListings) => {\n    try {\n      localStorage.setItem('listings', JSON.stringify(newListings));\n      setListings(newListings);\n    } catch (error) {\n      console.error('Error saving listings:', error);\n    }\n  };\n\n  const saveConversations = async (newConversations) => {\n    try {\n      localStorage.setItem('conversations', JSON.stringify(newConversations));\n      setConversations(newConversations);\n    } catch (error) {\n      console.error('Error saving conversations:', error);\n    }\n  };\n\n  const saveSubscriptions = async (subscriptions) => {\n    try {\n      localStorage.setItem('subscriptions', JSON.stringify(subscriptions));\n    } catch (error) {\n      console.error('Error saving subscriptions:', error);\n    }\n  };\n\n  const getSubscriptions = async () => {\n    try {\n      const res = localStorage.getItem('subscriptions');\n      return res ? JSON.parse(res) : {};\n    } catch (err) {\n      console.error('Error loading subscriptions', err);\n    }\n    return {};\n  };\n\n  const subscribeToArea = async (userId, area) => {\n    if (!userId) {\n      openAuthModal('renter');\n      return;\n    }\n    if (!area || area.trim() === '') {\n      alert('Please enter a location to subscribe to.');\n      return;\n    }\n    try {\n      const subs = await getSubscriptions();\n      subs[userId] = subs[userId] || [];\n      if (!subs[userId].includes(area)) {\n        subs[userId].push(area);\n        await saveSubscriptions(subs);\n        alert(`Subscribed to updates for ${area}`);\n      } else {\n        alert(`You are already subscribed to ${area}`);\n      }\n    } catch (err) {\n      console.error('Subscribe failed', err);\n      alert('Could not subscribe. Please try again.');\n    }\n  };\n\n  \n\nconst handleProfileSetup = async (profileData) => {\n  try {\n    const userId = `user-${Date.now()}`;\n    const user = { \n      id: userId, \n      type: userType, \n      ...profileData,\n      createdAt: new Date().toISOString()\n    };\n    \n    localStorage.setItem('current-user', JSON.stringify(user));\n    setCurrentUser(user);\n    showToast('Profile created successfully!', 'success', 'Welcome!');\n    setCurrentView('browse');\n  } catch (error) {\n    console.error('Error saving profile:', error);\n    // Still set the user locally even if storage fails\n    const userId = `user-${Date.now()}`;\n    const user = { \n      id: userId, \n      type: userType, \n      ...profileData,\n      createdAt: new Date().toISOString()\n    };\n    setCurrentUser(user);\n    showToast('Profile created (data may not be persisted)', 'error');\n    setCurrentView('browse');\n  }\n};\n\nconst handleUpdateProfile = async (profileData) => {\n  try {\n    const updatedUser = { ...currentUser, ...profileData };\n    \n    localStorage.setItem('current-user', JSON.stringify(updatedUser));\n    setCurrentUser(updatedUser);\n    showToast('Profile updated successfully!', 'success');\n    setCurrentView('browse');\n  } catch (error) {\n    console.error('Error updating profile:', error);\n    const updatedUser = { ...currentUser, ...profileData };\n    setCurrentUser(updatedUser);\n    showToast('Profile updated (data may not be persisted)', 'error');\n    setCurrentView('browse');\n  }\n};\n\nconst handleQuickAuth = async (profileData) => {\n  // Lightweight auth (used by AuthModal) - create and persist a user\n  try {\n    const userId = `user-${Date.now()}`;\n    const user = {\n      id: userId,\n      type: profileData.type || 'renter',\n      name: profileData.name,\n      phone: profileData.phone || '',\n      email: profileData.email || '',\n      photo: profileData.photo || '',\n      createdAt: new Date().toISOString()\n    };\n    localStorage.setItem('current-user', JSON.stringify(user));\n    setCurrentUser(user);\n    setUserType(user.type);\n    setShowAuthModal(false);\n    // If landlord, route to onboarding to complete setup before posting\n    if (user.type === 'landlord') {\n      setCurrentView('landlord-onboarding');\n    } else {\n      setCurrentView('browse');\n    }\n  } catch (err) {\n    console.error('Auth failed', err);\n  }\n};\n\n// Sign out helper so you can re-auth as renter for perspective preview\nconst handleSignOut = () => {\n  try {\n    localStorage.removeItem('current-user');\n  } catch (e) {\n    console.warn('Could not clear localStorage current-user');\n  }\n  setCurrentUser(null);\n  setUserType(null);\n  setCurrentView('browse');\n  showToast('Signed out. You can now sign in as Renter.', 'info');\n};\n\nconst handleCompleteOnboarding = async (onboardData) => {\n  try {\n    const updated = { ...currentUser, landlordComplete: true, landlordInfo: onboardData };\n    localStorage.setItem('current-user', JSON.stringify(updated));\n    setCurrentUser(updated);\n    setCurrentView('browse');\n  } catch (err) {\n    console.error('Onboarding save failed', err);\n    setCurrentUser({ ...currentUser, landlordComplete: true, landlordInfo: onboardData });\n    setCurrentView('browse');\n  }\n};\n\nconst handleAddListing = async (listingData) => {\n  const newListing = {\n    id: `listing-${Date.now()}`,\n    title: listingData.title,\n    price: listingData.price,\n    location: listingData.location,\n    description: listingData.description,\n    photos: listingData.photos || [],\n    status: listingData.status || 'available',\n    availableDate: listingData.availableDate || new Date().toISOString(),\n    amenities: listingData.amenities || [],\n    latitude: listingData.latitude ?? null,\n    longitude: listingData.longitude ?? null,\n    landlordId: currentUser.id,\n    landlordName: currentUser.name,\n    landlordPhone: currentUser.phone,\n    landlordEmail: currentUser.email,\n    landlordPhoto: currentUser.photo,\n    createdAt: new Date().toISOString()\n  };\n\n    const updatedListings = [...listings, newListing];\n    await saveListings(updatedListings);\n    showToast('Listing created successfully!', 'success', 'Success!');\n    setCurrentView('browse');\n    // Scroll to top to see new listing\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  const handleSendMessage = async (listingId, message) => {\n    const conversationId = `${currentUser.id}-${listingId}`;\n    const existingConv = conversations.find(c => c.id === conversationId);\n    \n    const newMessage = {\n      id: `msg-${Date.now()}`,\n      sender: currentUser.type,\n      text: message,\n      timestamp: new Date().toISOString()\n    };\n\n    let updatedConversations;\n    if (existingConv) {\n      updatedConversations = conversations.map(c => \n        c.id === conversationId \n          ? { ...c, messages: [...c.messages, newMessage] }\n          : c\n      );\n    } else {\n      const newConv = {\n        id: conversationId,\n        listingId,\n        renterId: currentUser.id,\n        messages: [newMessage]\n      };\n      updatedConversations = [...conversations, newConv];\n    }\n    \n    await saveConversations(updatedConversations);\n  };\n\nconst filteredListings = listings\n  .map(listing => {\n    // attach distance if we have userLocation\n    if (userLocation && listing.latitude != null && listing.longitude != null) {\n      const d = haversineDistance(userLocation.lat, userLocation.lon, listing.latitude, listing.longitude);\n      return { ...listing, __distanceKm: d };\n    }\n    if (userLocation && (listing.latitude == null || listing.longitude == null)) {\n      // try to geocode-less accurate: leave distance undefined\n      return { ...listing };\n    }\n    return { ...listing };\n  })\n  .filter(listing => {\n    const matchesLocation = !searchLocation || \n      (listing.location || '').toLowerCase().includes(searchLocation.toLowerCase());\n    const price = parseFloat(listing.price);\n    const matchesPrice = price >= priceRange[0] && price <= priceRange[1];\n    const matchesAmenities = selectedAmenities.length === 0 || \n      selectedAmenities.every(amenity => listing.amenities?.includes(amenity));\n\n    let passesNearby = true;\n    if (nearbyMode && userLocation) {\n      // require listing to have coordinates to be included\n      if (listing.latitude != null && listing.longitude != null) {\n        const d = listing.__distanceKm ?? haversineDistance(userLocation.lat, userLocation.lon, listing.latitude, listing.longitude);\n        passesNearby = d <= nearbyRadius;\n      } else {\n        passesNearby = false;\n      }\n    }\n\n    return matchesLocation && matchesPrice && matchesAmenities && passesNearby;\n  })\n  .sort((a, b) => {\n    if (nearbyMode && userLocation) {\n      const da = a.__distanceKm ?? Infinity;\n      const db = b.__distanceKm ?? Infinity;\n      return da - db;\n    }\n    if (sortBy === 'newest') {\n      return new Date(b.createdAt) - new Date(a.createdAt);\n    } else if (sortBy === 'cheapest') {\n      return parseFloat(a.price) - parseFloat(b.price);\n    } else if (sortBy === 'expensive') {\n      return parseFloat(b.price) - parseFloat(a.price);\n    }\n    return 0;\n  });\n\n  const userConversations = currentUser\n    ? conversations.filter(conv => {\n        if (userType === 'landlord') {\n          const listing = listings.find(l => l.id === conv.listingId);\n          return listing && listing.landlordId === currentUser.id;\n        }\n        return conv.renterId === currentUser.id;\n      })\n    : [];\n\n  // Allow guests to land on Browse by default. If userType isn't set,\n  // show a gentle callout in the header (below) so users can pick a role\n  // when they want to post or set up their profile.\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Accessibility: Skip link */}\n      <a href=\"#main-content\" className=\"absolute left-2 top-2 -translate-y-full focus:translate-y-0 transition bg-blue-600 text-white px-3 py-2 rounded shadow\" style={{clipPath: 'inset(0)', zIndex: 1000}}>Skip to main content</a>\n      {/* Modern Professional Header */}\n      <div className=\"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm\">\n        <div className=\"max-w-7xl mx-auto px-4 py-3\">\n          <div className=\"flex items-center justify-between\">\n            {/* Logo */}\n            <h1 className=\"text-2xl font-bold\">\n              <span className=\"text-blue-600\">Room</span><span className=\"text-red-500\">24</span>\n            </h1>\n\n            {/* Desktop Navigation */}\n            <div className=\"hidden md:flex items-center gap-4\">\n              {!currentUser && (\n                <div className=\"flex items-center gap-3\">\n                  <button onClick={() => openAuthModal('renter')} className=\"text-gray-600 hover:text-gray-800 px-3 py-2 rounded-lg\">Sign in</button>\n                  <button onClick={() => openAuthModal('landlord')} className=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg\">List Your Room</button>\n                </div>\n              )}\n              \n              {currentUser && (\n                <>\n                  <div className=\"flex items-center gap-2 text-sm mr-4\">\n                    <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-semibold\">\n                      {currentUser.name.charAt(0)}\n                    </div>\n                    <div>\n                      <p className=\"font-medium text-gray-800\">{currentUser.name}</p>\n                      <p className=\"text-xs text-gray-500\">{currentUser.type === 'landlord' ? 'Property Owner' : 'Looking for a Room'}</p>\n                    </div>\n                  </div>\n                  \n                  {userConversations.length > 0 && (\n                    <button \n                      onClick={() => setCurrentView('messages')}\n                      className=\"relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition\"\n                      aria-label=\"Messages\"\n                    >\n                      <MessageSquare className=\"w-6 h-6\" />\n                      {userConversations.length > 0 && (\n                        <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold\">\n                          {userConversations.length}\n                        </span>\n                      )}\n                    </button>\n                  )}\n                  \n                  <button \n                    onClick={() => setCurrentView('profile')}\n                    className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition\"\n                    aria-label=\"Profile\"\n                  >\n                    <User className=\"w-6 h-6\" />\n                  </button>\n                  <button\n                    onClick={handleSignOut}\n                    className=\"text-xs text-gray-500 hover:text-gray-700 px-2 py-1 rounded-lg border border-gray-200 hover:border-gray-300 transition\"\n                    aria-label=\"Sign out\"\n                  >Sign Out</button>\n                </>\n              )}\n            </div>\n\n            {/* Mobile: CTAs and Hamburger */}\n            <div className=\"flex md:hidden items-center gap-2\">\n              {!currentUser ? (\n                <>\n                  <button onClick={() => openAuthModal('renter')} className=\"text-sm text-gray-600 hover:text-gray-800 px-2 py-1\">Sign in</button>\n                  <button onClick={() => openAuthModal('landlord')} className=\"text-sm bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded\">List Room</button>\n                </>\n              ) : (\n                <button \n                  onClick={() => setShowMobileMenu(!showMobileMenu)}\n                  className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition\"\n                  aria-label=\"Menu\"\n                >\n                  {showMobileMenu ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\n                </button>\n              )}\n            </div>\n          </div>\n\n          {/* Mobile Menu Dropdown */}\n          {currentUser && showMobileMenu && (\n            <div className=\"md:hidden mt-3 pb-3 border-t border-gray-200 pt-3 animate-slideDown\">\n              <div className=\"flex items-center gap-3 mb-4 pb-3 border-b border-gray-100\">\n                <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-semibold\">\n                  {currentUser.name.charAt(0)}\n                </div>\n                <div>\n                  <p className=\"font-medium text-gray-800\">{currentUser.name}</p>\n                  <p className=\"text-xs text-gray-500\">{currentUser.type === 'landlord' ? 'Property Owner' : 'Looking for a Room'}</p>\n                </div>\n              </div>\n              \n              <div className=\"space-y-1\">\n                {userConversations.length > 0 && (\n                  <button \n                    onClick={() => { setCurrentView('messages'); setShowMobileMenu(false); }}\n                    className=\"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition\"\n                  >\n                    <MessageSquare className=\"w-5 h-5\" />\n                    <span>Messages</span>\n                    {userConversations.length > 0 && (\n                      <span className=\"ml-auto bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold\">\n                        {userConversations.length}\n                      </span>\n                    )}\n                  </button>\n                )}\n                \n                <button \n                  onClick={() => { setCurrentView('profile'); setShowMobileMenu(false); }}\n                  className=\"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition\"\n                >\n                  <User className=\"w-5 h-5\" />\n                  <span>Profile</span>\n                </button>\n                <button\n                  onClick={() => { handleSignOut(); setShowMobileMenu(false); }}\n                  className=\"w-full flex items-center gap-3 px-3 py-2 text-gray-500 hover:bg-gray-100 rounded-lg transition text-sm\"\n                >\n                  <X className=\"w-5 h-5\" />\n                  <span>Sign Out</span>\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Toast Notification */}\n      {toast && (\n        <div className={`fixed top-20 right-4 z-50 bg-white border-l-4 ${\n          toast.type === 'success' ? 'border-green-500' : \n          toast.type === 'error' ? 'border-red-500' : \n          'border-blue-500'\n        } rounded shadow-lg p-4 animate-slideInRight flex items-start gap-3 max-w-sm`}>\n          {toast.type === 'success' && <CheckCircle className=\"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5\" />}\n          <div className=\"flex-1\">\n            {toast.title && <p className=\"font-semibold text-gray-800 mb-1\">{toast.title}</p>}\n            <p className=\"text-sm text-gray-600\">{toast.message}</p>\n          </div>\n          <button \n            onClick={() => setToast(null)}\n            className=\"text-gray-400 hover:text-gray-600\"\n            aria-label=\"Close notification\"\n          >\n            <X className=\"w-4 h-4\" />\n          </button>\n        </div>\n      )}\n\n      <div id=\"main-content\" className=\"max-w-6xl mx-auto pb-20\" role=\"main\">\n        {currentView === 'setup-profile' && (\n          <ProfileSetupView onSubmit={handleProfileSetup} userType={userType} />\n        )}\n\n        {currentView === 'profile' && currentUser && (\n          <ProfileView user={currentUser} onEdit={() => setCurrentView('edit-profile')} />\n        )}\n\n        {currentView === 'edit-profile' && currentUser && (\n          <EditProfileView user={currentUser} onSubmit={handleUpdateProfile} onCancel={() => setCurrentView('profile')} />\n        )}\n\n        {currentView === 'landlord-onboarding' && currentUser && userType === 'landlord' && (\n          <LandlordOnboardingView onComplete={handleCompleteOnboarding} onCancel={() => setCurrentView('browse')} currentUser={currentUser} />\n        )}\n\n        {currentView === 'browse' && (\n          <BrowseView \n            listings={filteredListings}\n            searchLocation={searchLocation}\n            setSearchLocation={setSearchLocation}\n            priceRange={priceRange}\n            setPriceRange={setPriceRange}\n            selectedAmenities={selectedAmenities}\n            setSelectedAmenities={setSelectedAmenities}\n            sortBy={sortBy}\n            setSortBy={setSortBy}\n            mapView={mapView}\n            setMapView={setMapView}\n            onSelectListing={setSelectedListing}\n            setCurrentView={setCurrentView}\n            currentUser={currentUser}\n            onRequireAuth={openAuthModal}\n            subscribeToArea={subscribeToArea}\n            onFindNearby={handleFindNearby}\n            nearbyRadius={nearbyRadius}\n            setNearbyRadius={setNearbyRadius}\n            nearbyMode={nearbyMode}\n            clearNearby={clearNearby}\n            userLocation={userLocation}\n            nearbyStatus={nearbyStatus}\n          />\n        )}\n\n        {currentView === 'messages' && (\n          <MessagesView \n            conversations={userConversations}\n            listings={listings}\n            userType={userType}\n            onSelectConversation={setSelectedConversation}\n          />\n        )}\n\n        {currentView === 'add' && (\n          <AddListingView\n            onSubmit={handleAddListing}\n            onCancel={() => setCurrentView('browse')}\n            currentUser={currentUser}\n            userType={userType}\n            onRequireAuth={openAuthModal}\n            onRequireOnboarding={() => setCurrentView('landlord-onboarding')}\n          />\n        )}\n\n        {currentView === 'my-listings' && currentUser && userType === 'landlord' && (\n          <MyListingsView \n            listings={listings.filter(l => l.landlordId === currentUser.id)}\n            onDelete={async (id) => {\n              const updated = listings.filter(l => l.id !== id);\n              await saveListings(updated);\n            }}\n          />\n        )}\n      </div>\n\n      {selectedListing && (\n        <ListingDetailModal \n          listing={selectedListing}\n          landlord={{\n            name: selectedListing.landlordName,\n            phone: selectedListing.landlordPhone,\n            email: selectedListing.landlordEmail,\n            photo: selectedListing.landlordPhoto\n          }}\n          onClose={() => setSelectedListing(null)}\n          onSendMessage={handleSendMessage}\n          userType={userType}\n          currentUser={currentUser}\n          onRequireAuth={openAuthModal}\n        />\n      )}\n\n      {selectedConversation && (\n        <ConversationModal\n          conversation={selectedConversation}\n          listing={listings.find(l => l.id === selectedConversation.listingId)}\n          onClose={() => setSelectedConversation(null)}\n          onSendMessage={handleSendMessage}\n        />\n      )}\n\n      {showAuthModal && (\n        <AuthModal\n          defaultType={authDefaultType}\n          onClose={() => setShowAuthModal(false)}\n          onSubmit={handleQuickAuth}\n        />\n      )}\n\n      <BottomNav \n        currentView={currentView}\n        setCurrentView={setCurrentView}\n        userType={userType}\n        messageCount={userConversations.length}\n      />\n\n      {showLocationConsent && (\n        <LocationConsentModal\n          onAccept={handleLocationConsentAccept}\n          onDecline={() => setShowLocationConsent(false)}\n        />\n      )}\n\n      {/* Footer */}\n      <footer className=\"bg-gray-800 text-gray-300 py-8 mt-auto\">\n        <div className=\"max-w-7xl mx-auto px-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 mb-6\">\n            <div>\n              <h3 className=\"text-white font-bold text-lg mb-3\">Room24</h3>\n              <p className=\"text-sm text-gray-400\">Find your perfect room in South Africa. Connect with verified landlords and renters.</p>\n            </div>\n            <div>\n              <h4 className=\"text-white font-semibold mb-3\">Legal</h4>\n              <ul className=\"space-y-2 text-sm\">\n                <li><a href=\"#privacy\" className=\"hover:text-white transition\">Privacy Policy</a></li>\n                <li><a href=\"#terms\" className=\"hover:text-white transition\">Terms of Service</a></li>\n                <li><a href=\"#cookies\" className=\"hover:text-white transition\">Cookie Policy</a></li>\n              </ul>\n            </div>\n            <div>\n              <h4 className=\"text-white font-semibold mb-3\">Contact</h4>\n              <ul className=\"space-y-2 text-sm\">\n                <li><a href=\"mailto:support@room24.co.za\" className=\"hover:text-white transition\">support@room24.co.za</a></li>\n                <li><a href=\"#help\" className=\"hover:text-white transition\">Help Center</a></li>\n              </ul>\n            </div>\n          </div>\n          <div className=\"border-t border-gray-700 pt-6 text-sm text-gray-400\">\n            <p> {new Date().getFullYear()} Room24. All rights reserved.</p>\n            <p className=\"mt-2\">By using this site, you agree to our use of location services and cookies for improved user experience.</p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\n\n\nfunction ProfileSetupView({ onSubmit, userType }) {\n  const [formData, setFormData] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    photo: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n\n  const validateField = (name, value) => {\n    const newErrors = { ...errors };\n    switch (name) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'phone':\n        if (!value || !/^[+]?[-0-9()\\s]{7,}$/.test(value.trim())) {\n          newErrors.phone = 'Enter a valid phone number (min 7 digits)';\n        } else {\n          delete newErrors.phone;\n        }\n        break;\n      case 'email':\n        if (!value || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value.trim())) {\n          newErrors.email = 'Enter a valid email address';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      case 'photo':\n        if (value === 'FILE_TOO_LARGE') {\n          newErrors.photo = 'Photo is too large (max 2MB)';\n        } else {\n          delete newErrors.photo;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n\n  const handlePhotoUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 2 * 1024 * 1024) { // 2MB limit\n        setFormData({ ...formData, photo: '' });\n        validateField('photo', 'FILE_TOO_LARGE');\n        return;\n      }\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({ ...formData, photo: reader.result });\n        validateField('photo', reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleSubmit = () => {\n    // Touch all fields\n    const allTouched = { name: true, phone: true, email: true, photo: true };\n    setTouched(allTouched);\n    validateField('name', formData.name);\n    validateField('phone', formData.phone);\n    validateField('email', formData.email);\n    if (Object.keys(errors).length === 0 && formData.name && formData.phone && formData.email) {\n      onSubmit(formData);\n    }\n  };\n\n  return (\n    <div className=\"p-4 min-h-screen bg-gray-50 pb-20\">\n      <div className=\"max-w-2xl mx-auto mt-8\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n          <div className=\"text-center mb-8\">\n            <h2 className=\"text-3xl font-bold text-gray-800 mb-2\">Complete Your Profile</h2>\n            <p className=\"text-gray-600\">Help others know who you are</p>\n          </div>\n\n          <div className=\"space-y-6\">\n            {/* Photo Upload */}\n            <div className=\"flex justify-center mb-8\">\n              <div className=\"relative\">\n                {formData.photo ? (\n                  <img \n                    src={formData.photo} \n                    alt=\"Profile\" \n                    className=\"w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-lg\" \n                  />\n                ) : (\n                  <div className=\"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-blue-200 shadow-lg\">\n                    <User className=\"w-16 h-16 text-blue-600\" />\n                  </div>\n                )}\n                <label className=\"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition group\" aria-label=\"Upload profile photo\">\n                  <Edit className=\"w-5 h-5\" />\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handlePhotoUpload}\n                    className=\"hidden\"\n                  />\n                </label>\n              </div>\n            </div>\n\n            {/* Form Fields */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Full Name *</label>\n              <input\n                type=\"text\"\n                required\n                value={formData.name}\n                onChange={(e) => { setFormData({ ...formData, name: e.target.value }); if (touched.name) validateField('name', e.target.value); }}\n                onBlur={(e) => { setTouched({ ...touched, name: true }); validateField('name', e.target.value); }}\n                placeholder=\"Enter your full name\"\n                aria-invalid={errors.name ? 'true' : 'false'}\n                aria-describedby={errors.name ? 'profile-name-error' : undefined}\n                className={`w-full px-4 py-3 border ${errors.name ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.name && touched.name && <p id=\"profile-name-error\" className=\"mt-1 text-xs text-red-600\">{errors.name}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Phone Number *</label>\n              <div className=\"relative\">\n                <Phone className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"tel\"\n                  required\n                  value={formData.phone}\n                  onChange={(e) => { setFormData({ ...formData, phone: e.target.value }); if (touched.phone) validateField('phone', e.target.value); }}\n                  onBlur={(e) => { setTouched({ ...touched, phone: true }); validateField('phone', e.target.value); }}\n                  placeholder=\"e.g., +27 12 345 6789\"\n                  aria-invalid={errors.phone ? 'true' : 'false'}\n                  aria-describedby={errors.phone ? 'profile-phone-error' : undefined}\n                  className={`w-full pl-11 pr-4 py-3 border ${errors.phone ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n                />\n              </div>\n              {errors.phone && touched.phone && <p id=\"profile-phone-error\" className=\"mt-1 text-xs text-red-600\">{errors.phone}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Email Address *</label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"email\"\n                  required\n                  value={formData.email}\n                  onChange={(e) => { setFormData({ ...formData, email: e.target.value }); if (touched.email) validateField('email', e.target.value); }}\n                  onBlur={(e) => { setTouched({ ...touched, email: true }); validateField('email', e.target.value); }}\n                  placeholder=\"your.email@example.com\"\n                  aria-invalid={errors.email ? 'true' : 'false'}\n                  aria-describedby={errors.email ? 'profile-email-error' : undefined}\n                  className={`w-full pl-11 pr-4 py-3 border ${errors.email ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n                />\n              </div>\n              {errors.email && touched.email && <p id=\"profile-email-error\" className=\"mt-1 text-xs text-red-600\">{errors.email}</p>}\n            </div>\n\n            {/* Submit Button */}\n            <button\n              onClick={handleSubmit}\n              className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition mt-8 shadow-sm\"\n            >\n              Complete Setup\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ProfileView({ user, onEdit }) {\n  return (\n    <div className=\"p-4\">\n      <div className=\"bg-white rounded-lg shadow p-6 max-w-xl mx-auto\">\n        <div className=\"flex justify-between items-start mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-800\">My Profile</h2>\n          <button\n            onClick={onEdit}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition flex items-center gap-2\"\n          >\n            <Edit className=\"w-4 h-4\" />\n            Edit\n          </button>\n        </div>\n\n        <div className=\"flex flex-col items-center mb-6\">\n          {user.photo ? (\n            <img src={user.photo} alt=\"Profile\" className=\"w-32 h-32 rounded-full object-cover border-4 border-blue-500 mb-4\" />\n          ) : (\n            <div className=\"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center border-4 border-gray-300 mb-4\">\n              <User className=\"w-16 h-16 text-gray-400\" />\n            </div>\n          )}\n          <h3 className=\"text-2xl font-bold text-gray-800\">{user.name}</h3>\n          <span className=\"inline-block mt-2 px-4 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold\">\n            {user.type === 'landlord' ? 'Landlord' : 'Renter'}\n          </span>\n        </div>\n\n        <div className=\"space-y-4\">\n          <div className=\"bg-gray-50 rounded-lg p-4\">\n            <div className=\"flex items-center text-gray-600\">\n              <Phone className=\"w-5 h-5 mr-3 text-blue-600\" />\n              <div>\n                <p className=\"text-xs text-gray-500 mb-1\">Phone Number</p>\n                <p className=\"font-semibold text-gray-800\">{user.phone}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-gray-50 rounded-lg p-4\">\n            <div className=\"flex items-center text-gray-600\">\n              <Mail className=\"w-5 h-5 mr-3 text-blue-600\" />\n              <div>\n                <p className=\"text-xs text-gray-500 mb-1\">Email Address</p>\n                <p className=\"font-semibold text-gray-800\">{user.email}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-gray-50 rounded-lg p-4\">\n            <div className=\"flex items-center text-gray-600\">\n              <User className=\"w-5 h-5 mr-3 text-blue-600\" />\n              <div>\n                <p className=\"text-xs text-gray-500 mb-1\">Member Since</p>\n                <p className=\"font-semibold text-gray-800\">\n                  {new Date(user.createdAt).toLocaleDateString()}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction LandlordOnboardingView({ onComplete, onCancel, currentUser }) {\n  const [form, setForm] = useState({ businessName: currentUser?.name || '', bankDetails: '', idNumber: '', agree: false });\n\n  const handleSubmit = () => {\n    if (!form.businessName || !form.agree) {\n      alert('Please provide a display name and agree to the terms.');\n      return;\n    }\n    onComplete(form);\n  };\n\n  return (\n    <div className=\"p-4 min-h-screen bg-gray-50 pb-20\">\n      <div className=\"max-w-2xl mx-auto mt-8\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n          <div className=\"flex items-center gap-6 mb-6\">\n            <div className=\"w-16 h-16 rounded-full bg-blue-50 flex items-center justify-center text-blue-600 text-2xl font-bold\">\n              {currentUser && currentUser.name ? currentUser.name.charAt(0) : 'L'}\n            </div>\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-800\">Welcome, {currentUser?.name || 'Landlord'}</h2>\n              <p className=\"text-gray-600\">A few details to get your listings live and increase trust with renters.</p>\n            </div>\n          </div>\n\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-1\">Display Name *</label>\n              <input value={form.businessName} onChange={(e) => setForm({ ...form, businessName: e.target.value })} className=\"w-full px-4 py-3 border border-gray-300 rounded-lg\" />\n              <p className=\"text-xs text-gray-500 mt-1\">This name is shown to renters on your listings and messages.</p>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-1\">How do you want to receive payments?</label>\n              <input value={form.bankDetails} onChange={(e) => setForm({ ...form, bankDetails: e.target.value })} placeholder=\"Bank account or payment details (optional)\" className=\"w-full px-4 py-3 border border-gray-300 rounded-lg\" />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-1\">ID Number (optional)</label>\n              <input value={form.idNumber} onChange={(e) => setForm({ ...form, idNumber: e.target.value })} className=\"w-full px-4 py-3 border border-gray-300 rounded-lg\" />\n            </div>\n\n            <div className=\"flex items-start gap-2\">\n              <input type=\"checkbox\" checked={form.agree} onChange={(e) => setForm({ ...form, agree: e.target.checked })} />\n              <div className=\"text-sm text-gray-600\">I confirm I am authorised to list these properties and agree to the <button type=\"button\" onClick={(e) => e.preventDefault()} className=\"text-blue-600 underline p-0\">terms of service</button>.</div>\n            </div>\n\n            <div className=\"flex gap-3 pt-4\">\n              <button onClick={onCancel} className=\"flex-1 bg-gray-100 hover:bg-gray-200 py-3 rounded\">Cancel</button>\n              <button onClick={handleSubmit} className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded\">Complete and Start Listing</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction EditProfileView({ user, onSubmit, onCancel }) {\n  const [formData, setFormData] = useState({\n    name: user.name || '',\n    phone: user.phone || '',\n    email: user.email || '',\n    photo: user.photo || ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n\n  const validateField = (name, value) => {\n    const newErrors = { ...errors };\n    switch (name) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          newErrors.name = 'Name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'phone':\n        if (!value || !/^[+]?[-0-9()\\s]{7,}$/.test(value.trim())) {\n          newErrors.phone = 'Enter a valid phone number';\n        } else {\n          delete newErrors.phone;\n        }\n        break;\n      case 'email':\n        if (!value || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value.trim())) {\n          newErrors.email = 'Enter a valid email';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      default:\n        break;\n    }\n    setErrors(newErrors);\n  };\n\n  const handlePhotoUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({ ...formData, photo: reader.result });\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleSubmit = () => {\n    setTouched({ name: true, phone: true, email: true });\n    validateField('name', formData.name);\n    validateField('phone', formData.phone);\n    validateField('email', formData.email);\n    if (Object.keys(errors).length === 0 && formData.name && formData.phone && formData.email) {\n      onSubmit(formData);\n    }\n  };\n\n  return (\n    <div className=\"p-4 min-h-screen bg-gray-50 pb-20\">\n      <div className=\"max-w-2xl mx-auto mt-8\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n          <div className=\"flex items-center justify-between mb-8\">\n            <h2 className=\"text-3xl font-bold text-gray-800\">Edit Profile</h2>\n            <button onClick={onCancel} className=\"text-gray-400 hover:text-gray-600 transition\">\n              <X className=\"w-6 h-6\" />\n            </button>\n          </div>\n\n          <div className=\"space-y-6\">\n            {/* Photo Upload */}\n            <div className=\"flex justify-center mb-8\">\n              <div className=\"relative\">\n                {formData.photo ? (\n                  <img src={formData.photo} alt=\"Profile\" className=\"w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-lg\" />\n                ) : (\n                  <div className=\"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-blue-200 shadow-lg\">\n                    <User className=\"w-16 h-16 text-blue-600\" />\n                  </div>\n                )}\n                <label className=\"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition\" aria-label=\"Upload new profile photo\">\n                  <Edit className=\"w-5 h-5\" />\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handlePhotoUpload}\n                    className=\"hidden\"\n                  />\n                </label>\n              </div>\n            </div>\n\n            {/* Form Fields */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Full Name</label>\n              <input\n                type=\"text\"\n                required\n                value={formData.name}\n                onChange={(e) => { setFormData({ ...formData, name: e.target.value }); if (touched.name) validateField('name', e.target.value); }}\n                onBlur={(e) => { setTouched({ ...touched, name: true }); validateField('name', e.target.value); }}\n                aria-invalid={errors.name ? 'true' : 'false'}\n                aria-describedby={errors.name ? 'edit-name-error' : undefined}\n                className={`w-full px-4 py-3 border ${errors.name ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.name && touched.name && <p id=\"edit-name-error\" className=\"mt-1 text-xs text-red-600\">{errors.name}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Phone Number</label>\n              <div className=\"relative\">\n                <Phone className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"tel\"\n                  required\n                  value={formData.phone}\n                  onChange={(e) => { setFormData({ ...formData, phone: e.target.value }); if (touched.phone) validateField('phone', e.target.value); }}\n                  onBlur={(e) => { setTouched({ ...touched, phone: true }); validateField('phone', e.target.value); }}\n                  aria-invalid={errors.phone ? 'true' : 'false'}\n                  aria-describedby={errors.phone ? 'edit-phone-error' : undefined}\n                  className={`w-full pl-11 pr-4 py-3 border ${errors.phone ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n                />\n              </div>\n              {errors.phone && touched.phone && <p id=\"edit-phone-error\" className=\"mt-1 text-xs text-red-600\">{errors.phone}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Email Address</label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-4 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"email\"\n                  required\n                  value={formData.email}\n                  onChange={(e) => { setFormData({ ...formData, email: e.target.value }); if (touched.email) validateField('email', e.target.value); }}\n                  onBlur={(e) => { setTouched({ ...touched, email: true }); validateField('email', e.target.value); }}\n                  aria-invalid={errors.email ? 'true' : 'false'}\n                  aria-describedby={errors.email ? 'edit-email-error' : undefined}\n                  className={`w-full pl-11 pr-4 py-3 border ${errors.email ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400`}\n                />\n              </div>\n              {errors.email && touched.email && <p id=\"edit-email-error\" className=\"mt-1 text-xs text-red-600\">{errors.email}</p>}\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex gap-3 pt-6 border-t border-gray-200\">\n              <button\n                onClick={onCancel}\n                className=\"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 rounded-lg transition\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleSubmit}\n                className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition shadow-sm\"\n              >\n                Save Changes\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction BrowseView({ \n  listings, \n  searchLocation, \n  setSearchLocation, \n  priceRange, \n  setPriceRange,\n  selectedAmenities,\n  setSelectedAmenities,\n  sortBy,\n  setSortBy,\n  mapView,\n  setMapView,\n  onSelectListing,\n  setCurrentView,\n  currentUser, onRequireAuth, subscribeToArea,\n  onFindNearby, nearbyRadius, setNearbyRadius, nearbyMode, clearNearby, userLocation, nearbyStatus\n}) {\n  const [showAdvancedFilters, setShowAdvancedFilters] = useState(false);\n  const [isDesktop, setIsDesktop] = useState(typeof window !== 'undefined' ? window.innerWidth >= 1024 : false);\n\n  useEffect(() => {\n    const handleResize = () => setIsDesktop(window.innerWidth >= 1024);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Sidebar navigation items (desktop only)\n  const desktopNavItems = [\n    { id: 'browse', label: 'Browse', icon: Search },\n    { id: 'messages', label: 'Messages', icon: MessageSquare },\n    { id: 'add', label: 'List Room', icon: PlusCircle, show: currentUser && currentUser.type === 'landlord' },\n    { id: 'my-listings', label: 'My Rooms', icon: Home, show: currentUser && currentUser.type === 'landlord' },\n    { id: 'profile', label: 'Profile', icon: User }\n  ];\n\n  const renderFiltersBox = () => (\n    <div className=\"filters-box\">\n      <div className=\"flex items-center gap-2 mb-2\">\n        <MapPin className=\"w-4 h-4 text-gray-400\" />\n        <input\n          type=\"text\"\n          placeholder=\"Search location...\"\n          value={searchLocation}\n          onChange={(e) => setSearchLocation(e.target.value)}\n          className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        />\n      </div>\n      <div className=\"flex flex-col gap-2\">\n        <label className=\"text-xs font-semibold text-gray-600\">Price Range</label>\n        <div className=\"flex items-center gap-2 text-xs bg-gray-50 px-2 py-1 rounded border border-gray-200\">\n          <span>R{priceRange[0].toLocaleString()} - R{priceRange[1].toLocaleString()}</span>\n          <select\n            value={priceRange[0]}\n            onChange={(e) => setPriceRange([parseInt(e.target.value), priceRange[1]])}\n            className=\"bg-transparent border-l border-gray-300 pl-2 focus:outline-none\"\n          >\n            <option value=\"0\">Min</option>\n            <option value=\"500\">R500</option>\n            <option value=\"1000\">R1000</option>\n            <option value=\"1500\">R1500</option>\n          </select>\n        </div>\n        <label className=\"text-xs font-semibold text-gray-600 mt-2\">Sort</label>\n        <select\n          value={sortBy}\n          onChange={(e) => setSortBy(e.target.value)}\n          className=\"text-sm bg-white border border-gray-300 px-2 py-1 rounded focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"newest\">Newest</option>\n          <option value=\"cheapest\">Cheapest</option>\n          <option value=\"expensive\">Most Expensive</option>\n        </select>\n        <button\n          onClick={() => setShowAdvancedFilters(!showAdvancedFilters)}\n          className=\"mt-2 text-xs text-blue-600 hover:text-blue-700 font-semibold px-2 py-1 rounded hover:bg-blue-50 transition\"\n        >\n          {showAdvancedFilters ? 'Close Filters' : 'More Filters'}\n        </button>\n        {showAdvancedFilters && (\n          <div className=\"mt-2 p-2 bg-gray-50 border border-gray-200 rounded\">\n            <p className=\"text-xs text-gray-600\">(Advanced filters placeholder)</p>\n          </div>\n        )}\n        <div className=\"mt-4 flex flex-col gap-2\">\n          <label className=\"text-xs font-semibold text-gray-600\">Nearby Search</label>\n          <div className=\"flex gap-2\">\n            <button\n              type=\"button\"\n              onClick={() => onFindNearby && onFindNearby()}\n              className=\"flex-1 bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded text-xs font-medium\"\n            >\n              Find Nearby\n            </button>\n            <select\n              value={nearbyRadius}\n              onChange={(e) => setNearbyRadius(parseInt(e.target.value))}\n              className=\"text-xs bg-gray-50 border border-gray-300 px-2 py-1 rounded\"\n            >\n              <option value={1}>1km</option>\n              <option value={3}>3km</option>\n              <option value={5}>5km</option>\n              <option value={10}>10km</option>\n            </select>\n          </div>\n          {nearbyMode && (\n            <button\n              onClick={clearNearby}\n              className=\"text-xs bg-white border border-gray-300 text-gray-700 px-2 py-1 rounded\"\n            >\n              Clear Nearby\n            </button>\n          )}\n          {nearbyStatus && <div className=\"text-xs text-gray-500\">{nearbyStatus}</div>}\n        </div>\n      </div>\n    </div>\n  );\n\n  // Desktop layout (sidebar + split view)\n  if (isDesktop) {\n    return (\n      <div className=\"bg-gray-50 min-h-screen pb-4\">\n        <div className=\"layout-desktop\">\n          <aside className=\"sidebar-nav\">\n            <div>\n              <h2 className=\"text-xl font-bold flex items-center gap-2 mb-4\"><span className=\"text-blue-600\">Room</span><span className=\"text-red-500\">24</span></h2>\n              <div className=\"sidebar-section-title mb-2\">Navigation</div>\n              <div className=\"sidebar-menu\">\n                {desktopNavItems.filter(i => i.show === undefined || i.show).map(item => {\n                  const Icon = item.icon;\n                  const isActive = item.id === 'browse';\n                  return (\n                    <button\n                      key={item.id}\n                      onClick={() => setCurrentView(item.id)}\n                      className={isActive ? 'active' : ''}\n                      aria-label={item.label}\n                    >\n                      <Icon className=\"w-4 h-4\" /> {item.label}\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n            <div>\n              <div className=\"sidebar-section-title mb-2\">Filters</div>\n              {renderFiltersBox()}\n            </div>\n            {!currentUser && (\n              <div className=\"mt-auto pt-4 border-t border-gray-200\">\n                <p className=\"text-xs text-gray-500 mb-2\">Join to list rooms or message landlords.</p>\n                <div className=\"flex gap-2\">\n                  <button onClick={() => onRequireAuth && onRequireAuth('renter')} className=\"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 text-xs py-2 rounded\">Sign In</button>\n                  <button onClick={() => onRequireAuth && onRequireAuth('landlord')} className=\"flex-1 bg-red-500 hover:bg-red-600 text-white text-xs py-2 rounded\">List Room</button>\n                </div>\n              </div>\n            )}\n          </aside>\n          <main className=\"desktop-split\">\n            <div className=\"list-pane\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-lg font-semibold text-gray-800\">{listings.length === 0 ? 'No rooms' : `${listings.length} rooms`}</h2>\n                <button\n                  onClick={() => setMapView(!mapView)}\n                  className=\"text-xs px-3 py-1.5 rounded border border-gray-300 bg-white hover:bg-gray-50 transition\"\n                >\n                  {mapView ? 'Hide Map' : 'Show Map'}\n                </button>\n              </div>\n              {/* Listings Grid */}\n              {listings.length === 0 ? (\n                <div className=\"bg-white border border-gray-200 rounded-lg p-8 text-center\">\n                  <p className=\"text-gray-600 text-sm\">No rooms match your filters.</p>\n                </div>\n              ) : (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6\">\n                  {listings.map(listing => (\n                    <ListingCard key={listing.id} listing={listing} onClick={() => onSelectListing(listing)} />\n                  ))}\n                </div>\n              )}\n            </div>\n            {mapView && (\n              <div className=\"map-pane\">\n                <MapView\n                  listings={listings}\n                  onMarkerClick={(l) => onSelectListing(l)}\n                  userLocation={userLocation}\n                  nearbyRadius={nearbyRadius}\n                  fullHeight={true}\n                />\n              </div>\n            )}\n          </main>\n        </div>\n      </div>\n    );\n  }\n\n  // Mobile / tablet existing layout\n  return (\n    <div className=\"bg-gray-50 min-h-screen pb-20\">\n      {/* Hero Search Section */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 py-8\">\n          {/* Main Search Bar */}\n          <div className=\"mb-6\">\n            <div className=\"flex gap-3\">\n              <div className=\"flex-1 relative\">\n                <MapPin className=\"absolute left-3 top-3.5 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search by location, suburb, or area...\"\n                  value={searchLocation}\n                  onChange={(e) => setSearchLocation(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm\"\n                />\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <button className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition font-semibold shadow-sm\">\n                  Search\n                </button>\n\n                <button\n                  onClick={() => {\n                    if (!searchLocation || searchLocation.trim() === '') {\n                      alert('Enter a location to subscribe to updates for that area.');\n                      return;\n                    }\n                    if (!currentUser) {\n                      onRequireAuth && onRequireAuth('renter');\n                      return;\n                    }\n                    subscribeToArea && subscribeToArea(currentUser.id, searchLocation.trim());\n                  }}\n                  className=\"bg-white border border-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition text-sm\"\n                >\n                  Subscribe to area\n                </button>\n\n                <button\n                  type=\"button\"\n                  onClick={() => onFindNearby && onFindNearby()}\n                  className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition\"\n                >\n                  Find Nearby\n                </button>\n\n                <select value={nearbyRadius} onChange={(e) => setNearbyRadius(parseInt(e.target.value))} className=\"text-sm bg-gray-50 border border-gray-200 px-3 py-2 rounded-lg text-gray-700\">\n                  <option value={1}>1 km</option>\n                  <option value={3}>3 km</option>\n                  <option value={5}>5 km</option>\n                  <option value={10}>10 km</option>\n                </select>\n\n                {nearbyMode && (\n                  <button onClick={clearNearby} className=\"bg-white border border-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm\">Clear</button>\n                )}\n\n                <div className=\"text-sm text-gray-600\">\n                  {nearbyStatus}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Smart Filters Row */}\n          <div className=\"flex gap-2 mb-4 flex-wrap items-center\">\n            {/* Price Range */}\n            <div className=\"flex items-center gap-2 bg-gray-50 px-3 py-2 rounded-lg border border-gray-200\">\n              <span className=\"text-sm text-gray-600 font-medium\">R{priceRange[0].toLocaleString()} - R{priceRange[1].toLocaleString()}</span>\n              <select\n                value={priceRange[0]}\n                onChange={(e) => setPriceRange([parseInt(e.target.value), priceRange[1]])}\n                className=\"text-xs bg-transparent border-l border-gray-300 pl-2 text-gray-600 focus:outline-none\"\n              >\n                <option value=\"0\">Min</option>\n                <option value=\"500\">R500</option>\n                <option value=\"1000\">R1000</option>\n                <option value=\"1500\">R1500</option>\n              </select>\n            </div>\n\n            {/* Sort */}\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-sm text-gray-600\">Sort:</span>\n              <select\n                value={sortBy}\n                onChange={(e) => setSortBy(e.target.value)}\n                className=\"text-sm bg-gray-50 border border-gray-200 px-3 py-2 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"newest\">Newest</option>\n                <option value=\"cheapest\">Cheapest</option>\n                <option value=\"expensive\">Most Expensive</option>\n              </select>\n            </div>\n\n            {/* More Filters Button */}\n            <button\n              onClick={() => setShowAdvancedFilters(!showAdvancedFilters)}\n              className=\"text-sm text-blue-600 hover:text-blue-700 font-medium px-3 py-2 rounded-lg hover:bg-blue-50 transition\"\n            >\n              {showAdvancedFilters ? ' Close Filters' : ' More Filters'}\n            </button>\n          </div>\n\n          {/* Advanced Filters (Collapsible) */}\n          {showAdvancedFilters && (\n            <div className=\"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200\">\n              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n                <div>\n                  <label className=\"text-sm font-semibold text-gray-700 block mb-2\">Property Type</label>\n                  <select className=\"w-full text-sm border border-gray-300 px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500\">\n                    <option>Any</option>\n                    <option>Room</option>\n                    <option>Apartment</option>\n                    <option>House</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"text-sm font-semibold text-gray-700 block mb-2\">Max Price</label>\n                  <select\n                    value={priceRange[1]}\n                    onChange={(e) => setPriceRange([priceRange[0], parseInt(e.target.value)])}\n                    className=\"w-full text-sm border border-gray-300 px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"10000\">Up to R10,000</option>\n                    <option value=\"5000\">Up to R5,000</option>\n                    <option value=\"3000\">Up to R3,000</option>\n                    <option value=\"2000\">Up to R2,000</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Call-to-Action Section */}\n      {listings.length > 0 && (\n        <div className=\"max-w-7xl mx-auto px-4 py-8\">\n          <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-6 mb-8\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h3 className=\"text-lg font-bold text-gray-800 mb-1\">Have a room to rent?</h3>\n                <p className=\"text-gray-600 text-sm\">Join thousands of landlords earning with Room24</p>\n              </div>\n              <button \n                onClick={() => setCurrentView('add')}\n                className=\"bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-semibold transition shadow-md\">\n                List Your Room\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Map / List Toggle - only relevant when there are listings */}\n      {listings.length > 0 && (\n        <div className=\"max-w-7xl mx-auto px-4\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <p className=\"text-sm text-gray-600\">\n              {mapView ? 'Click markers to view details' : `Showing ${listings.length} results`}\n            </p>\n            <button\n              onClick={() => setMapView(!mapView)}\n              className=\"text-sm px-4 py-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 transition flex items-center gap-2\"\n            >\n              <MapPin className=\"w-4 h-4\" />\n              {mapView ? 'Show List' : 'Show Map'}\n            </button>\n          </div>\n          {mapView && (\n              <MapView\n                listings={listings}\n                onMarkerClick={(l) => onSelectListing(l)}\n                userLocation={userLocation}\n                nearbyRadius={nearbyRadius}\n                fullHeight={true}\n              />\n          )}\n        </div>\n      )}\n\n      {/* Results Section */}\n      <div className=\"max-w-7xl mx-auto px-4\">\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-800\">\n            {listings.length === 0 ? 'No rooms available' : `${listings.length} Rooms Available`}\n          </h2>\n          <p className=\"text-sm text-gray-500 mt-1\">Find your perfect room today</p>\n        </div>\n\n        {listings.length === 0 ? (\n          <div className=\"bg-white rounded-lg border border-gray-200 p-12 text-center\">\n            <Home className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\n            <p className=\"text-gray-600 font-medium mb-2\">No rooms match your search</p>\n            <p className=\"text-gray-500 text-sm mb-4\">Try adjusting your filters or search in a different location</p>\n            <button\n              onClick={() => {\n                setSearchLocation('');\n                setPriceRange([0, 10000]);\n              }}\n              className=\"text-blue-600 hover:text-blue-700 font-medium text-sm\"\n            >\n              Clear all filters\n            </button>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12\">\n            {listings.map(listing => (\n              <ListingCard key={listing.id} listing={listing} onClick={() => onSelectListing(listing)} />\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\nfunction ListingCard({ listing, onClick }) {\n  return (\n    <div \n      onClick={onClick}\n      className=\"bg-white rounded-lg shadow hover:shadow-xl transition-all duration-200 cursor-pointer overflow-hidden border border-gray-100 hover:border-blue-300 group\"\n    >\n      {/* Image Container */}\n      {listing.photos && listing.photos.length > 0 ? (\n        <div className=\"relative bg-gray-200 aspect-video overflow-hidden\">\n          <img \n            src={listing.photos[0]} \n            alt=\"Room\" \n            className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 skeleton\"\n            onLoad={(e) => e.target.classList.remove('skeleton')}\n          />\n          <div className=\"absolute top-3 right-3 flex gap-2\">\n            {listing.photos.length > 1 && (\n              <div className=\"bg-black bg-opacity-60 text-white px-2 py-1 rounded-md text-xs font-semibold\">\n                {listing.photos.length} \n              </div>\n            )}\n            {/* Availability Badge */}\n            <div className={`px-2 py-1 rounded-md text-xs font-semibold ${\n              listing.status === 'available' \n                ? 'bg-green-500 text-white' \n                : 'bg-gray-700 text-white'\n            }`}>\n              {listing.status === 'available' ? 'Available' : 'Rented'}\n            </div>\n          </div>\n          <div className=\"absolute inset-0 bg-black opacity-0 group-hover:opacity-5 transition-opacity\" />\n        </div>\n      ) : (\n        <div className=\"bg-gradient-to-br from-gray-200 to-gray-300 aspect-video flex items-center justify-center relative\">\n          <Home className=\"w-12 h-12 text-gray-400\" />\n          {/* Availability Badge for no-photo cards */}\n          <div className={`absolute top-3 right-3 px-2 py-1 rounded-md text-xs font-semibold ${\n            listing.status === 'available' \n              ? 'bg-green-500 text-white' \n              : 'bg-gray-700 text-white'\n          }`}>\n            {listing.status === 'available' ? 'Available' : 'Rented'}\n          </div>\n        </div>\n      )}\n\n      {/* Content */}\n      <div className=\"p-4\">\n        {/* Title & Price Header */}\n        <div className=\"mb-3\">\n          <h3 className=\"font-bold text-lg text-gray-800 group-hover:text-blue-600 transition mb-1 line-clamp-2\">\n            {listing.title}\n          </h3>\n          <p className=\"text-red-600 font-bold text-xl\">R{listing.price.toLocaleString()}/month</p>\n        </div>\n\n        {/* Location */}\n        <div className=\"flex items-center text-gray-600 text-sm mb-3 pb-3 border-b border-gray-100\">\n          <MapPin className=\"w-4 h-4 mr-2 text-blue-500 flex-shrink-0\" />\n          <span className=\"truncate\">{listing.location}</span>\n          {typeof listing.__distanceKm === 'number' && (\n            <span className=\"ml-2 text-xs text-gray-500\"> {listing.__distanceKm.toFixed(1)} km</span>\n          )}\n        </div>\n\n        {/* Description */}\n        <p className=\"text-gray-600 text-sm line-clamp-2 mb-3\">\n          {listing.description}\n        </p>\n\n        {/* Amenities */}\n        {listing.amenities && listing.amenities.length > 0 && (\n          <div className=\"flex flex-wrap gap-1 mb-4\">\n            {listing.amenities.slice(0, 3).map((amenity, index) => (\n              <span key={index} className=\"inline-block bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded-full font-medium\">\n                {amenity}\n              </span>\n            ))}\n            {listing.amenities.length > 3 && (\n              <span className=\"inline-block bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full font-medium\">\n                +{listing.amenities.length - 3}\n              </span>\n            )}\n          </div>\n        )}\n\n        {/* CTA Button */}\n        <button className=\"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-semibold text-sm transition\">\n          View Details\n        </button>\n      </div>\n    </div>\n  );\n}\n\nfunction AddListingView({ onSubmit, onCancel, currentUser, userType, onRequireAuth, onRequireOnboarding }) {\n  const GEOCODER_KEY = process.env.REACT_APP_GEOCODER_API_KEY;\n  const GEOCODER_PROVIDER = (process.env.REACT_APP_GEOCODER_PROVIDER || '').toLowerCase();\n\n  const [formData, setFormData] = useState({\n    title: '',\n    price: '',\n    location: '',\n    streetAddress: '',\n    description: '',\n    photos: [],\n    status: 'available',\n    availableDate: new Date().toISOString().split('T')[0],\n    amenities: [],\n    latitude: null,\n    longitude: null\n  });\n  const [geocodingStatus, setGecodingStatus] = useState('');\n  const [errors, setErrors] = useState({});\n\n  const availableAmenities = [\n    'WiFi', 'Parking', 'Kitchen', 'Laundry', 'Air Conditioning', \n    'Heating', 'TV', 'Furnished', 'Pet Friendly', 'Garden'\n  ];\n\n  const validateField = (name, value) => {\n    const newErrors = { ...errors };\n    \n    switch (name) {\n      case 'title':\n        if (!value || value.trim().length < 5) {\n          newErrors.title = 'Title must be at least 5 characters';\n        } else {\n          delete newErrors.title;\n        }\n        break;\n      case 'price':\n        if (!value || parseFloat(value) <= 0) {\n          newErrors.price = 'Price must be greater than 0';\n        } else if (parseFloat(value) < 500) {\n          newErrors.price = 'Price seems too low (minimum R500)';\n        } else if (parseFloat(value) > 50000) {\n          newErrors.price = 'Price seems too high (maximum R50,000)';\n        } else {\n          delete newErrors.price;\n        }\n        break;\n      case 'location':\n        if (!value || value.trim().length < 3) {\n          newErrors.location = 'Location is required (min 3 characters)';\n        } else {\n          delete newErrors.location;\n        }\n        break;\n      case 'description':\n        if (value && value.length > 500) {\n          newErrors.description = 'Description is too long (max 500 characters)';\n        } else {\n          delete newErrors.description;\n        }\n        break;\n      default:\n        break;\n    }\n    \n    setErrors(newErrors);\n  };\n\n  // Geocode address using Nominatim (OpenStreetMap)\n  // Use browser geolocation and reverse-geocode to fill address/coords\n  const geolocateCurrentPosition = () => {\n    if (!navigator.geolocation) {\n      setGecodingStatus('Geolocation not supported by your browser');\n      return;\n    }\n\n    setGecodingStatus('Locating...');\n    navigator.geolocation.getCurrentPosition(async (pos) => {\n      const lat = pos.coords.latitude;\n      const lon = pos.coords.longitude;\n      setFormData({ ...formData, latitude: lat, longitude: lon });\n\n      // Reverse geocode to get a readable address\n      try {\n        if (GEOCODER_PROVIDER === 'mapbox' && GEOCODER_KEY) {\n          const rev = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${lon},${lat}.json?access_token=${GEOCODER_KEY}&limit=1&country=za`);\n          const revData = await rev.json();\n          if (revData && revData.features && revData.features.length > 0) {\n            const place = revData.features[0].place_name || '';\n            const parts = place.split(',').map(p => p.trim());\n            const street = parts.slice(0, 2).join(', ');\n            const area = parts.slice(2, 4).join(', ');\n            setFormData(prev => ({ ...prev, streetAddress: street || prev.streetAddress, location: area || prev.location }));\n            setGecodingStatus(' Current location set');\n            setTimeout(() => setGecodingStatus(''), 2500);\n            return;\n          }\n        } else {\n          const rev = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`);\n          const revData = await rev.json();\n          if (revData) {\n            const display = revData.display_name || '';\n            // Try to split display name into street and area\n            const parts = display.split(',').map(p => p.trim());\n            const street = parts.slice(0, 2).join(', ');\n            const area = parts.slice(2, 4).join(', ');\n            setFormData(prev => ({ ...prev, streetAddress: street || prev.streetAddress, location: area || prev.location }));\n            setGecodingStatus(' Current location set');\n            setTimeout(() => setGecodingStatus(''), 2500);\n            return;\n          }\n        }\n\n      } catch (e) {\n        console.error('Reverse geocode failed', e);\n      }\n\n      setGecodingStatus(' Coordinates obtained');\n      setTimeout(() => setGecodingStatus(''), 2000);\n    }, (err) => {\n      console.error('Geolocation error', err);\n      setGecodingStatus('Could not get your location');\n    }, { enableHighAccuracy: true, timeout: 10000 });\n  };\n\n  const geocodeAddress = async () => {\n    if (!formData.streetAddress) {\n      setGecodingStatus('Please enter a street address');\n      return;\n    }\n    \n    setGecodingStatus('Finding coordinates...');\n    try {\n      const fullAddress = `${formData.streetAddress}, ${formData.location}, South Africa`;\n      // Try Mapbox if configured\n      if (GEOCODER_PROVIDER === 'mapbox' && GEOCODER_KEY) {\n        try {\n          const resp = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(fullAddress)}.json?access_token=${GEOCODER_KEY}&limit=1&country=za`);\n          const data = await resp.json();\n          if (data && data.features && data.features.length > 0) {\n            const [lon, lat] = data.features[0].center || [];\n            setFormData({ ...formData, latitude: parseFloat(lat), longitude: parseFloat(lon) });\n            setGecodingStatus(' Address found (Mapbox)!');\n            setTimeout(() => setGecodingStatus(''), 2000);\n            return;\n          }\n        } catch (err) {\n          console.warn('Mapbox geocoding failed, falling back to Nominatim', err);\n        }\n      }\n\n      // Default / fallback: Nominatim\n      const response = await fetch(\n        `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(fullAddress)}`\n      );\n      const results = await response.json();\n\n      if (results.length > 0) {\n        const { lat, lon } = results[0];\n        setFormData({ \n          ...formData, \n          latitude: parseFloat(lat), \n          longitude: parseFloat(lon) \n        });\n        setGecodingStatus(' Address found!');\n        setTimeout(() => setGecodingStatus(''), 2000);\n      } else {\n        setGecodingStatus('Address not found. Trying with area only...');\n        // Fallback: just use the area/city\n        const areaResponse = await fetch(\n          `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(formData.location + ', South Africa')}`\n        );\n        const areaResults = await areaResponse.json();\n        if (areaResults.length > 0) {\n          const { lat, lon } = areaResults[0];\n          setFormData({ \n            ...formData, \n            latitude: parseFloat(lat), \n            longitude: parseFloat(lon) \n          });\n          setGecodingStatus(' Area found!');\n          setTimeout(() => setGecodingStatus(''), 2000);\n        } else {\n          setGecodingStatus('Could not find location');\n        }\n      }\n    } catch (error) {\n      console.error('Geocoding error:', error);\n      setGecodingStatus('Error finding address. Check your connection.');\n    }\n  };\n\n  // Draggable preview marker component for Add Listing\n  function DraggablePreview({ lat, lng }) {\n    const [pos, setPos] = useState(lat && lng ? [lat, lng] : null);\n    useEffect(() => {\n      if (lat && lng) setPos([lat, lng]);\n    }, [lat, lng]);\n\n    if (!pos) return null;\n    return (\n      <MapContainer center={pos} zoom={15} className=\"w-full h-48 rounded-lg\" whenCreated={() => {}}>\n        <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\n        <Marker\n          position={pos}\n          draggable={true}\n          eventHandlers={{\n            dragend: (e) => {\n              const ll = e.target.getLatLng();\n              setPos([ll.lat, ll.lng]);\n              setFormData(prev => ({ ...prev, latitude: ll.lat, longitude: ll.lng }));\n            }\n          }}\n        />\n      </MapContainer>\n    );\n  }\n\n  const toggleAmenity = (amenity) => {\n    if (formData.amenities.includes(amenity)) {\n      setFormData({ ...formData, amenities: formData.amenities.filter(a => a !== amenity) });\n    } else {\n      setFormData({ ...formData, amenities: [...formData.amenities, amenity] });\n    }\n  };\n\n  const handlePhotoUpload = (e) => {\n    const files = Array.from(e.target.files || []);\n    if (files.length === 0) return;\n\n    const readers = files.map(file => new Promise((resolve) => {\n      const reader = new FileReader();\n      reader.onloadend = () => resolve(reader.result);\n      reader.readAsDataURL(file);\n    }));\n\n    Promise.all(readers).then(images => {\n      const combined = [...formData.photos, ...images].slice(0, 5); // cap at 5\n      setFormData({ ...formData, photos: combined });\n    });\n  };\n\n  const removePhoto = (index) => {\n    const newPhotos = formData.photos.filter((_, i) => i !== index);\n    setFormData({ ...formData, photos: newPhotos });\n  };\n\n  const handleSubmit = () => {\n    // Enforce auth and onboarding checks before allowing submission\n    if (!currentUser) {\n      onRequireAuth && onRequireAuth('landlord');\n      return;\n    }\n    if (userType !== 'landlord') {\n      // prompt to become landlord\n      onRequireAuth && onRequireAuth('landlord');\n      return;\n    }\n    if (!currentUser.landlordComplete) {\n      // send to onboarding\n      onRequireOnboarding && onRequireOnboarding();\n      return;\n    }\n\n    // Validate all fields\n    validateField('title', formData.title);\n    validateField('price', formData.price);\n    validateField('location', formData.location);\n    validateField('description', formData.description);\n\n    if (!formData.title || formData.title.trim().length < 5) {\n      setErrors(prev => ({ ...prev, title: 'Title must be at least 5 characters' }));\n      return;\n    }\n    if (!formData.price || parseFloat(formData.price) <= 0) {\n      setErrors(prev => ({ ...prev, price: 'Price must be greater than 0' }));\n      return;\n    }\n    if (!formData.location || formData.location.trim().length < 3) {\n      setErrors(prev => ({ ...prev, location: 'Location is required' }));\n      return;\n    }\n    if (Object.keys(errors).length > 0) {\n      return;\n    }\n\n    onSubmit(formData);\n  };\n\n  return (\n    <div className=\"p-4 bg-gray-50 min-h-screen pb-20\">\n      <div className=\"max-w-3xl mx-auto mt-8\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n          <div className=\"flex items-center justify-between mb-8\">\n            <h2 className=\"text-3xl font-bold text-gray-800\">Post a Room</h2>\n            <button onClick={onCancel} className=\"text-gray-400 hover:text-gray-600 transition\">\n              <X className=\"w-6 h-6\" />\n            </button>\n          </div>\n\n          <div className=\"space-y-6\">\n            {/* Title */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Room Title *</label>\n              <input\n                type=\"text\"\n                required\n                value={formData.title}\n                onChange={(e) => {\n                  setFormData({ ...formData, title: e.target.value });\n                  validateField('title', e.target.value);\n                }}\n                onBlur={(e) => validateField('title', e.target.value)}\n                placeholder=\"e.g., Cozy backroom with bathroom\"\n                className={`w-full px-4 py-3 border ${errors.title ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.title ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.title && <p className=\"text-red-500 text-xs mt-1\">{errors.title}</p>}\n            </div>\n\n            {/* Price */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Monthly Price (R) *</label>\n              <input\n                type=\"number\"\n                required\n                value={formData.price}\n                onChange={(e) => {\n                  setFormData({ ...formData, price: e.target.value });\n                  validateField('price', e.target.value);\n                }}\n                onBlur={(e) => validateField('price', e.target.value)}\n                placeholder=\"e.g., 2500\"\n                className={`w-full px-4 py-3 border ${errors.price ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.price ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.price && <p className=\"text-red-500 text-xs mt-1\">{errors.price}</p>}\n            </div>\n\n            {/* Location and Street Address */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Area / City *</label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.location}\n                  onChange={(e) => {\n                    setFormData({ ...formData, location: e.target.value });\n                    validateField('location', e.target.value);\n                  }}\n                  onBlur={(e) => validateField('location', e.target.value)}\n                  placeholder=\"e.g., Soweto, Johannesburg\"\n                  className={`w-full px-4 py-3 border ${errors.location ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.location ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`}\n                />\n                {errors.location && <p className=\"text-red-500 text-xs mt-1\">{errors.location}</p>}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Street Address</label>\n                <input\n                  type=\"text\"\n                  value={formData.streetAddress}\n                  onChange={(e) => setFormData({ ...formData, streetAddress: e.target.value })}\n                  placeholder=\"e.g., 123 Main Street\"\n                  className=\"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition placeholder-gray-400\"\n                />\n              </div>\n            </div>\n\n            {/* Geocode Section - More Prominent */}\n            <div className=\"bg-blue-50 border-2 border-blue-200 rounded-lg p-6\">\n              <div className=\"flex items-start gap-3 mb-4\">\n                <MapPin className=\"w-6 h-6 text-blue-600 flex-shrink-0 mt-1\" />\n                <div className=\"flex-1\">\n                  <h3 className=\"text-lg font-semibold text-gray-800 mb-1\">Set Location on Map</h3>\n                  <p className=\"text-sm text-gray-600\">Help renters find your listing by pinpointing its exact location.</p>\n                </div>\n              </div>\n\n              <div className=\"flex flex-wrap gap-3 items-center mb-4\">\n                <button\n                  type=\"button\"\n                  onClick={geocodeAddress}\n                  className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg text-sm font-semibold transition shadow-sm flex items-center gap-2\"\n                >\n                  <MapPin className=\"w-4 h-4\" />\n                  Find on Map\n                </button>\n\n                <button\n                  type=\"button\"\n                  onClick={geolocateCurrentPosition}\n                  className=\"bg-white hover:bg-gray-50 border-2 border-gray-300 text-gray-800 px-6 py-3 rounded-lg text-sm font-semibold transition shadow-sm flex items-center gap-2\"\n                >\n                  <MapPin className=\"w-4 h-4\" />\n                  Use Current Location\n                </button>\n\n                <div className=\"text-sm flex-1\">\n                  {geocodingStatus && (\n                    <span className={`${geocodingStatus.startsWith('') ? 'text-green-600 font-semibold' : 'text-gray-700'} flex items-center gap-1`}>\n                      {geocodingStatus.startsWith('') && <CheckCircle className=\"w-4 h-4\" />}\n                      {geocodingStatus}\n                    </span>\n                  )}\n                  {formData.latitude && formData.longitude && !geocodingStatus && (\n                    <span className=\"text-green-600 font-semibold flex items-center gap-1\">\n                      <CheckCircle className=\"w-4 h-4\" />\n                      Location set: {formData.latitude.toFixed(4)}, {formData.longitude.toFixed(4)}\n                    </span>\n                  )}\n                </div>\n              </div>\n\n              {/* Draggable preview map */}\n              <div className=\"mt-4\">\n                {(formData.latitude && formData.longitude) ? (\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Fine-tune Location (drag pin)</label>\n                    <DraggablePreview lat={formData.latitude} lng={formData.longitude} />\n                  </div>\n                ) : (\n                  <div className=\"text-sm text-gray-600 bg-white border border-gray-200 rounded-lg p-4 text-center\">\n                    <MapPin className=\"w-8 h-8 mx-auto mb-2 text-gray-400\" />\n                    No location set yet. Click \"Find on Map\" or \"Use Current Location\" to place a pin.\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Status and Available Date - Two columns */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Status</label>\n                <select\n                  value={formData.status}\n                  onChange={(e) => setFormData({ ...formData, status: e.target.value })}\n                  className=\"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                >\n                  <option value=\"available\">Available</option>\n                  <option value=\"rented\">Rented</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Available Date</label>\n                <input\n                  type=\"date\"\n                  value={formData.availableDate}\n                  onChange={(e) => setFormData({ ...formData, availableDate: e.target.value })}\n                  className=\"w-full px-4 py-3 border border-gray-300 bg-white text-gray-800 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                />\n              </div>\n            </div>\n\n            {/* Description */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">\n                Description \n                {formData.description && (\n                  <span className={`ml-2 text-xs ${formData.description.length > 500 ? 'text-red-500' : 'text-gray-500'}`}>\n                    ({formData.description.length}/500 characters)\n                  </span>\n                )}\n              </label>\n              <textarea\n                value={formData.description}\n                onChange={(e) => {\n                  setFormData({ ...formData, description: e.target.value });\n                  validateField('description', e.target.value);\n                }}\n                onBlur={(e) => validateField('description', e.target.value)}\n                placeholder=\"Describe the room, amenities, rules, and any other details...\"\n                rows=\"4\"\n                className={`w-full px-4 py-3 border ${errors.description ? 'border-red-500' : 'border-gray-300'} bg-white text-gray-800 rounded-lg focus:ring-2 ${errors.description ? 'focus:ring-red-500' : 'focus:ring-blue-500'} focus:border-transparent transition placeholder-gray-400`}\n              />\n              {errors.description && <p className=\"text-red-500 text-xs mt-1\">{errors.description}</p>}\n            </div>\n\n            {/* Amenities */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-3\">Amenities</label>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n                {availableAmenities.map(amenity => (\n                  <button\n                    key={amenity}\n                    type=\"button\"\n                    onClick={() => toggleAmenity(amenity)}\n                    className={`px-4 py-2 rounded-lg text-sm font-medium transition ${\n                      formData.amenities.includes(amenity)\n                        ? 'bg-blue-600 text-white shadow-sm'\n                        : 'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'\n                    }`}\n                  >\n                    {amenity}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Photos */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2\">Photos (Max 5)</label>\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                multiple\n                onChange={handlePhotoUpload}\n                disabled={formData.photos.length >= 5}\n                className=\"w-full px-4 py-3 border border-gray-300 bg-white text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition cursor-pointer\"\n              />\n              {formData.photos.length > 0 && (\n                <div className=\"mt-4 grid grid-cols-2 md:grid-cols-3 gap-3\">\n                  {formData.photos.map((photo, index) => (\n                    <div key={index} className=\"relative group\">\n                      <img \n                        src={photo} \n                        alt={`Preview ${index + 1}`} \n                        className=\"w-full h-32 object-cover rounded-lg border border-gray-200 shadow-sm\" \n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => removePhoto(index)}\n                        className=\"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-lg opacity-0 group-hover:opacity-100 transition\"\n                      >\n                        <X className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              )}\n              {formData.photos.length >= 5 && (\n                <p className=\"text-sm text-gray-500 mt-2\">Maximum 5 photos reached</p>\n              )}\n            </div>\n\n            {/* Submit Button */}\n            <div className=\"border-t border-gray-200 pt-6\">\n              <button\n                onClick={handleSubmit}\n                className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition shadow-sm\"\n              >\n                Post Room\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction MessagesView({ conversations, listings, userType, onSelectConversation }) {\n  return (\n    <div className=\"p-4\">\n      <h2 className=\"text-2xl font-bold mb-4 text-gray-800\">Messages</h2>\n      <div className=\"space-y-3\">\n        {conversations.length === 0 ? (\n          <div className=\"bg-white rounded-lg shadow p-8 text-center text-gray-500\">\n            <MessageSquare className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\n            <p>No messages yet.</p>\n          </div>\n        ) : (\n          conversations.map(conv => {\n            const listing = listings.find(l => l.id === conv.listingId);\n            const lastMessage = conv.messages[conv.messages.length - 1];\n            return (\n              <div\n                key={conv.id}\n                onClick={() => onSelectConversation(conv)}\n                className=\"bg-white rounded-lg shadow p-4 cursor-pointer hover:shadow-lg transition\"\n              >\n                <div className=\"flex items-start justify-between mb-2\">\n                  <h3 className=\"font-semibold text-gray-800\">{listing?.title || 'Room'}</h3>\n                  <span className=\"text-xs text-gray-500\">\n                    {new Date(lastMessage.timestamp).toLocaleDateString()}\n                  </span>\n                </div>\n                <p className=\"text-sm text-gray-600 line-clamp-2\">{lastMessage.text}</p>\n              </div>\n            );\n          })\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction MyListingsView({ listings, onDelete }) {\n  return (\n    <div className=\"p-4\">\n      <h2 className=\"text-2xl font-bold mb-4 text-gray-800\">My Listings</h2>\n      <div className=\"space-y-4\">\n        {listings.length === 0 ? (\n          <div className=\"bg-white rounded-lg shadow p-8 text-center text-gray-500\">\n            <Home className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\n            <p>You haven't posted any rooms yet.</p>\n          </div>\n        ) : (\n          listings.map(listing => (\n            <div key={listing.id} className=\"bg-white rounded-lg shadow p-4\">\n{listing.photos && listing.photos.length > 0 && (\n  <div className=\"relative mb-3\">\n    <img src={listing.photos[0]} alt=\"Room\" className=\"w-full h-32 object-cover rounded-lg\" />\n    {listing.photos.length > 1 && (\n      <div className=\"absolute top-2 right-2 bg-black bg-opacity-60 text-white px-2 py-1 rounded text-xs\">\n        {listing.photos.length} photos\n      </div>\n    )}\n  </div>\n)}\n              <h3 className=\"font-bold text-lg mb-1\">{listing.title}</h3>\n              <div className=\"text-blue-600 font-bold mb-2\">R{listing.price}/month</div>\n              <div className=\"flex items-center text-gray-600 text-sm mb-3\">\n                <MapPin className=\"w-4 h-4 mr-1\" />\n                {listing.location}\n              </div>\n              <button\n                onClick={() => onDelete(listing.id)}\n                className=\"w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg transition\"\n              >\n                Delete Listing\n              </button>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction ListingDetailModal({ listing, landlord, onClose, onSendMessage, userType, currentUser, onRequireAuth }) {\n  const [message, setMessage] = useState('');\n  const [showContact, setShowContact] = useState(false);\n  const [showGallery, setShowGallery] = useState(false);\n  const [currentPhotoIndex, setCurrentPhotoIndex] = useState(0);\n\n  const handleNavigate = (direction, index) => {\n    if (direction === 'next' && currentPhotoIndex < listing.photos.length - 1) {\n      setCurrentPhotoIndex(currentPhotoIndex + 1);\n    } else if (direction === 'prev' && currentPhotoIndex > 0) {\n      setCurrentPhotoIndex(currentPhotoIndex - 1);\n    } else if (direction === 'goto') {\n      setCurrentPhotoIndex(index);\n    }\n  };\n\n  const handleSend = () => {\n    if (message.trim() && userType === 'renter') {\n      onSendMessage(listing.id, message);\n      setMessage('');\n      alert('Message sent to landlord!');\n      onClose();\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"sticky top-0 bg-white border-b p-4 flex justify-between items-center\">\n          <h2 className=\"text-xl font-bold text-gray-800\">Room Details</h2>\n          <button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\">\n            <X className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        <div className=\"p-4\">\n{listing.photos && listing.photos.length > 0 && (\n  <div className=\"relative mb-4 cursor-pointer\" onClick={() => setShowGallery(true)}>\n    <img src={listing.photos[currentPhotoIndex]} alt=\"Room\" className=\"w-full h-64 object-cover rounded-lg\" />\n    {listing.photos.length > 1 && (\n      <div className=\"absolute bottom-3 right-3 bg-black bg-opacity-60 text-white px-3 py-1 rounded-full text-sm flex items-center gap-1\">\n        <Search className=\"w-4 h-4\" />\n        View all {listing.photos.length} photos\n      </div>\n    )}\n    {listing.photos.length > 1 && (\n      <div className=\"absolute bottom-3 left-3 flex gap-1\">\n        {listing.photos.map((_, index) => (\n          <div\n            key={index}\n            className={`w-2 h-2 rounded-full ${\n              index === currentPhotoIndex ? 'bg-white' : 'bg-white bg-opacity-50'\n            }`}\n          />\n        ))}\n      </div>\n    )}\n  </div>\n)}\n\n{showGallery && listing.photos && (\n  <PhotoGallery\n    photos={listing.photos}\n    currentIndex={currentPhotoIndex}\n    onClose={() => setShowGallery(false)}\n    onNavigate={handleNavigate}\n  />\n)}\n          \n          <h3 className=\"text-2xl font-bold mb-2 text-gray-800\">{listing.title}</h3>\n          <div className=\"text-blue-600 font-bold text-2xl mb-4\">R{listing.price}/month</div>\n          \n          <div className=\"flex items-center text-gray-600 mb-4\">\n            <MapPin className=\"w-5 h-5 mr-2\" />\n            <span className=\"text-lg\">{listing.location}</span>\n          </div>\n\n          <div className=\"bg-gray-50 rounded-lg p-4 mb-4\">\n            <h4 className=\"font-semibold mb-2 text-gray-700\">Description</h4>\n            <p className=\"text-gray-600\">{listing.description || 'No description provided.'}</p>\n          </div>\n\n          {userType === 'renter' && landlord && (\n            <div className=\"bg-blue-50 rounded-lg p-4 mb-4\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h4 className=\"font-semibold text-gray-700\">Landlord Information</h4>\n                {currentUser ? (\n                  <button\n                    onClick={() => setShowContact(!showContact)}\n                    className=\"text-blue-600 hover:text-blue-700 text-sm font-medium\"\n                  >\n                    {showContact ? 'Hide' : 'Show'} Contact\n                  </button>\n                ) : (\n                  <button\n                    onClick={() => onRequireAuth && onRequireAuth('renter')}\n                    className=\"text-blue-600 hover:text-blue-700 text-sm font-medium\"\n                  >\n                    Sign in to view contact\n                  </button>\n                )}\n              </div>\n\n              <div className=\"flex items-center mb-3\">\n                {landlord.photo ? (\n                  <img src={landlord.photo} alt={landlord.name} className=\"w-12 h-12 rounded-full object-cover mr-3\" />\n                ) : (\n                  <div className=\"w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center mr-3\">\n                    <User className=\"w-6 h-6 text-gray-600\" />\n                  </div>\n                )}\n                <div>\n                  <p className=\"font-semibold text-gray-800\">{landlord.name}</p>\n                  <p className=\"text-xs text-gray-500\">Property Owner</p>\n                </div>\n              </div>\n\n              {currentUser && showContact && (\n                <div className=\"space-y-2 pt-3 border-t border-blue-100\">\n                  <div className=\"flex items-center text-sm\">\n                    <Phone className=\"w-4 h-4 mr-2 text-blue-600\" />\n                    <a href={`tel:${landlord.phone}`} className=\"text-blue-600 hover:underline\">\n                      {landlord.phone}\n                    </a>\n                  </div>\n                  <div className=\"flex items-center text-sm\">\n                    <Mail className=\"w-4 h-4 mr-2 text-blue-600\" />\n                    <a href={`mailto:${landlord.email}`} className=\"text-blue-600 hover:underline\">\n                      {landlord.email}\n                    </a>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {userType === 'renter' && (\n            <div className=\"border-t pt-4\">\n              <h4 className=\"font-semibold mb-3 text-gray-700\">Send a Message</h4>\n              {currentUser ? (\n                <ListingInlineMessageBox landlord={landlord} listing={listing} onSend={handleSend} />\n              ) : (\n                <div className=\"flex\">\n                  <button\n                    onClick={() => onRequireAuth && onRequireAuth('renter')}\n                    className=\"w-full bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition\"\n                  >\n                    Sign in to message\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Inline message box component with validation for listing detail view\nfunction ListingInlineMessageBox({ landlord, listing, onSend }) {\n  const [text, setText] = useState('');\n  const [error, setError] = useState('');\n\n  const validate = (val) => {\n    if (!val.trim()) {\n      setError('Message cannot be empty');\n      return false;\n    }\n    if (val.length > 500) {\n      setError('Message too long (max 500 characters)');\n      return false;\n    }\n    setError('');\n    return true;\n  };\n\n  const handleSend = () => {\n    if (validate(text)) {\n      onSend(listing.id, text.trim());\n      setText('');\n      setError('');\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col gap-2\" aria-label=\"Send a message to landlord\">\n      <div className=\"flex gap-2\">\n        <input\n          type=\"text\"\n          value={text}\n          onChange={(e) => { setText(e.target.value); validate(e.target.value); }}\n          onKeyDown={(e) => { if (e.key === 'Enter') { e.preventDefault(); handleSend(); } }}\n          placeholder={`Message ${landlord ? landlord.name : 'landlord'}...`}\n          aria-invalid={error ? 'true' : 'false'}\n          aria-describedby={error ? 'inline-message-error' : undefined}\n          maxLength={500}\n          className={`flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${error ? 'border-red-500' : 'border-gray-300'}`}\n        />\n        <button\n          onClick={handleSend}\n          disabled={!!error || !text.trim()}\n          className={`px-6 py-2 rounded-lg transition flex items-center justify-center ${(!error && text.trim()) ? 'bg-blue-600 hover:bg-blue-700 text-white' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`}\n          aria-label=\"Send message\"\n        >\n          <Send className=\"w-5 h-5\" />\n        </button>\n      </div>\n      {error && <p id=\"inline-message-error\" className=\"text-xs text-red-600\" aria-live=\"polite\">{error}</p>}\n    </div>\n  );\n}\n\nfunction ConversationModal({ conversation, listing, onClose, onSendMessage }) {\n  const [message, setMessage] = useState('');\n  const [messageError, setMessageError] = useState('');\n\n  const validateMessage = (val) => {\n    if (!val.trim()) {\n      setMessageError('Message cannot be empty');\n      return false;\n    }\n    if (val.length > 500) {\n      setMessageError('Message too long (max 500 characters)');\n      return false;\n    }\n    setMessageError('');\n    return true;\n  };\n\n  const handleSend = () => {\n    if (validateMessage(message)) {\n      onSendMessage(listing.id, message.trim());\n      setMessage('');\n      setMessageError('');\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] flex flex-col\">\n        <div className=\"bg-white border-b p-4 flex items-center\">\n          <button onClick={onClose} className=\"mr-3 text-gray-500 hover:text-gray-700\" aria-label=\"Close conversation\">\n            <ArrowLeft className=\"w-6 h-6\" />\n          </button>\n          <div>\n            <h2 className=\"font-bold text-gray-800\">{listing?.title}</h2>\n            <p className=\"text-sm text-gray-600\">{listing?.location}</p>\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-4 space-y-3\">\n          {conversation.messages.map(msg => (\n            <div\n              key={msg.id}\n              className={`flex ${msg.sender === 'landlord' ? 'justify-start' : 'justify-end'}`}\n            >\n              <div\n                className={`max-w-xs px-4 py-2 rounded-lg ${\n                  msg.sender === 'landlord'\n                    ? 'bg-gray-200 text-gray-800'\n                    : 'bg-blue-600 text-white'\n                }`}\n              >\n                <p>{msg.text}</p>\n                <span className=\"text-xs opacity-75\">\n                  {new Date(msg.timestamp).toLocaleTimeString()}\n                </span>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"border-t p-4 flex flex-col gap-2\">\n          <div className=\"flex gap-2\">\n            <input\n              type=\"text\"\n              value={message}\n              onChange={(e) => { setMessage(e.target.value); validateMessage(e.target.value); }}\n              onKeyDown={(e) => { if (e.key === 'Enter') { e.preventDefault(); handleSend(); } }}\n              placeholder=\"Type a message...\"\n              aria-invalid={messageError ? 'true' : 'false'}\n              aria-describedby={messageError ? 'conversation-message-error' : undefined}\n              maxLength={500}\n              className={`flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${messageError ? 'border-red-500' : 'border-gray-300'}`}\n            />\n            <button\n              onClick={handleSend}\n              disabled={!!messageError || !message.trim()}\n              className={`px-6 py-2 rounded-lg transition flex items-center justify-center ${(!messageError && message.trim()) ? 'bg-blue-600 hover:bg-blue-700 text-white' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`}\n              aria-label=\"Send message\"\n            >\n              <Send className=\"w-5 h-5\" />\n            </button>\n          </div>\n          {messageError && <p id=\"conversation-message-error\" className=\"text-xs text-red-600\" aria-live=\"polite\">{messageError}</p>}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction AuthModal({ defaultType = 'renter', onClose, onSubmit }) {\n  const [form, setForm] = useState({ name: '', phone: '', email: '', type: defaultType, photo: '' });\n\n  const handleSubmit = () => {\n    if (!form.name || !form.email) {\n      alert('Please add a name and email');\n      return;\n    }\n    onSubmit(form);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-lg w-full max-w-md p-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-bold\">Sign in / Create account</h3>\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\"><X className=\"w-5 h-5\" /></button>\n        </div>\n\n        <div className=\"space-y-3\">\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-1\">Full name</label>\n            <input type=\"text\" value={form.name} onChange={(e) => setForm({ ...form, name: e.target.value })} className=\"w-full px-3 py-2 border rounded\" />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-1\">Email</label>\n            <input type=\"email\" value={form.email} onChange={(e) => setForm({ ...form, email: e.target.value })} className=\"w-full px-3 py-2 border rounded\" />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-1\">Phone (optional)</label>\n            <input type=\"tel\" value={form.phone} onChange={(e) => setForm({ ...form, phone: e.target.value })} className=\"w-full px-3 py-2 border rounded\" />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-1\">I am a</label>\n            <select value={form.type} onChange={(e) => setForm({ ...form, type: e.target.value })} className=\"w-full px-3 py-2 border rounded\">\n              <option value=\"renter\">Looking for a room</option>\n              <option value=\"landlord\">Listing rooms</option>\n            </select>\n          </div>\n\n          <div className=\"flex gap-3 pt-4\">\n            <button onClick={onClose} className=\"flex-1 bg-gray-100 hover:bg-gray-200 py-2 rounded\">Cancel</button>\n            <button onClick={handleSubmit} className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded\">Continue</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction LocationConsentModal({ onAccept, onDecline }) {\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-lg max-w-md w-full p-6 shadow-xl\">\n        <div className=\"flex items-center gap-3 mb-4\">\n          <MapPin className=\"w-8 h-8 text-blue-600\" />\n          <h3 className=\"text-xl font-bold text-gray-800\">Location Access</h3>\n        </div>\n        \n        <p className=\"text-gray-600 mb-4\">\n          Room24 would like to access your location to show nearby rental listings. Your location data:\n        </p>\n        \n        <ul className=\"text-sm text-gray-600 mb-6 space-y-2\">\n          <li className=\"flex items-start gap-2\">\n            <span className=\"text-green-600 mt-0.5\"></span>\n            <span>Is only used to calculate distances to listings</span>\n          </li>\n          <li className=\"flex items-start gap-2\">\n            <span className=\"text-green-600 mt-0.5\"></span>\n            <span>Is not stored on our servers</span>\n          </li>\n          <li className=\"flex items-start gap-2\">\n            <span className=\"text-green-600 mt-0.5\"></span>\n            <span>Is not shared with third parties</span>\n          </li>\n        </ul>\n\n        <div className=\"flex gap-3\">\n          <button\n            onClick={onDecline}\n            className=\"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 rounded-lg transition\"\n          >\n            Not Now\n          </button>\n          <button\n            onClick={onAccept}\n            className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition\"\n          >\n            Allow\n          </button>\n        </div>\n        \n        <p className=\"text-xs text-gray-500 mt-4 text-center\">\n          You can change this permission anytime in your browser settings.\n        </p>\n      </div>\n    </div>\n  );\n}\n\nfunction PhotoGallery({ photos, currentIndex, onClose, onNavigate }) {\n  return (\n    <div className=\"fixed inset-0 bg-black z-50 flex flex-col\">\n      <div className=\"flex justify-between items-center p-4 text-white\">\n        <span className=\"text-sm\">{currentIndex + 1} / {photos.length}</span>\n        <button onClick={onClose} className=\"hover:bg-gray-800 p-2 rounded-full\">\n          <X className=\"w-6 h-6\" />\n        </button>\n      </div>\n\n      <div className=\"flex-1 flex items-center justify-center relative\">\n        {currentIndex > 0 && (\n          <button\n            onClick={() => onNavigate('prev')}\n            className=\"absolute left-4 bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-70 z-10\"\n          >\n            <ArrowLeft className=\"w-6 h-6\" />\n          </button>\n        )}\n\n        <img\n          src={photos[currentIndex]}\n          alt=\"\"\n          className=\"max-w-full max-h-full object-contain\"\n        />\n\n        {currentIndex < photos.length - 1 && (\n          <button\n            onClick={() => onNavigate('next')}\n            className=\"absolute right-4 bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-70 z-10\"\n          >\n            <ArrowLeft className=\"w-6 h-6 transform rotate-180\" />\n          </button>\n        )}\n      </div>\n\n      <div className=\"p-4 flex gap-2 overflow-x-auto\">\n        {photos.map((photo, index) => (\n          <img\n            key={index}\n            src={photo}\n            alt={`Thumbnail ${index + 1}`}\n            onClick={() => onNavigate('goto', index)}\n            className={`w-16 h-16 object-cover rounded cursor-pointer ${\n              index === currentIndex ? 'ring-2 ring-blue-500' : 'opacity-60'\n            }`}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\n\n\nfunction BottomNav({ currentView, setCurrentView, userType, messageCount }) {\n  const navItems = [\n    { id: 'browse', label: 'Browse', icon: Search, show: true },\n    { id: 'messages', label: 'Messages', icon: MessageSquare, badge: messageCount, show: true },\n    { id: 'add', label: 'List Room', icon: PlusCircle, show: userType === 'landlord' },\n    { id: 'my-listings', label: 'My Rooms', icon: Home, show: userType === 'landlord' },\n    { id: 'profile', label: 'Profile', icon: User, show: true }\n  ];\n\n  return (\n    <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-2xl\">\n      <div className=\"max-w-7xl mx-auto flex justify-around\">\n        {navItems\n          .filter(item => item.show)\n          .map(item => {\n            const Icon = item.icon;\n            const isActive = currentView === item.id || (item.id === 'profile' && currentView === 'edit-profile');\n            \n            return (\n              <button\n                key={item.id}\n                onClick={() => setCurrentView(item.id)}\n                className={`flex-1 flex flex-col items-center justify-center py-3 px-2 transition relative border-t-2 ${\n                  isActive\n                    ? 'border-blue-600 text-blue-600 bg-blue-50'\n                    : 'border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50'\n                }`}\n              >\n                <div className=\"relative\">\n                  <Icon className=\"w-6 h-6\" />\n                  {item.badge && item.badge > 0 && (\n                    <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold\">\n                      {item.badge > 99 ? '99+' : item.badge}\n                    </span>\n                  )}\n                </div>\n                <span className=\"text-xs mt-1 font-medium\">{item.label}</span>\n              </button>\n            );\n          })}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}